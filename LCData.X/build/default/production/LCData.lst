MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 #include <p18f4620.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Dec 08 2015
                      00005 ;  MPASM PIC18F4620 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      01440         LIST
                      00003 #include <lcd.inc>
  0000                00001         extern  InitLCD,WrtLCD,ClrLCD,ClkLCD, WR_DATA, WR_INS
                      00002 
                      00003 
Warning[205]: Found directive in column 1. (list)
                      00004 list P=18F4620, F=INHX32, C=160, N=80, ST=OFF, MM=OFF, R=DEC
                      00005 
                      00006 ;;;;;;Configuration Bits;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00007 
                      00008                 CONFIG OSC=HS, FCMEN=OFF, IESO=OFF
                      00009                 CONFIG PWRT = OFF, BOREN = SBORDIS, BORV = 3
                      00010                 CONFIG WDT = OFF, WDTPS = 32768
                      00011                 CONFIG MCLRE = ON, LPT1OSC = OFF, PBADEN = OFF, CCP2MX = PORTC
                      00012                 CONFIG STVREN = ON, LVP = OFF, XINST = OFF
                      00013                 CONFIG DEBUG = OFF
                      00014                 CONFIG CP0 = OFF, CP1 = OFF, CP2 = OFF, CP3 = OFF
                      00015                 CONFIG CPB = OFF, CPD = OFF
                      00016                 CONFIG WRT0 = OFF, WRT1 = OFF, WRT2 = OFF, WRT3 = OFF
                      00017                 CONFIG WRTB = OFF, WRTC = OFF, WRTD = OFF
                      00018                 CONFIG EBTR0 = OFF, EBTR1 = OFF, EBTR2 = OFF, EBTR3 = OFF
                      00019                 CONFIG EBTRB = OFF
                      00020 
                      00021 
                      00022 ;;;;;;Vectors;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00023 
                      00024 
Warning[205]: Found directive in column 1. (cblock)
                      00025 cblock 0x70
  00000070            00026                 numb
  00000071            00027                 dt1                     ;0x71            addresses are used for the RTC module
  00000072            00028         dt2                     ;0x72
  00000073            00029         ADD                     ;0x73
  00000074            00030         DAT                     ;0x74
  00000075            00031         DOUT            ;DOUT
  00000076            00032         B1                      ;B1
  00000077            00033         dig10           ;dig10
  00000078            00034         dig1            ;dig1
  00000079            00035         numb2
  0000007A            00036         tc
  0000007B            00037         dat
  0000007C            00038         dig2
  0000007D            00039         dig3
  0000007E            00040         lcd_td
  0000007F            00041         lcd_sd
  00000080            00042         lcd_d1
  00000081            00043         lcd_d2
  00000082            00044         dig12
  00000083            00045         dig22
  00000084            00046         dig32
  00000085            00047         left
  00000086            00048         tot
  00000087            00049         tot2
  00000088            00050         temp
  00000089            00051         temp2
  0000008A            00052         temp3
  0000008B            00053         time
  0000008C            00054         pwm
  0000008D            00055         sensitivity
  0000008E            00056         renc
  0000008F            00057         dt3
  00000090            00058         XBUF
  00000091            00059         count
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000092            00060         CONTROL
  00000093            00061         flag
  00000094            00062         B2
  00000095            00063         ssec
  00000096            00064         smin
  00000097            00065         fsec
  00000098            00066         fmin
  00000099            00067         opmin
  0000009A            00068         opsec
  0000009B            00069         optime
  0000009C            00070         cap1
  0000009D            00071         capinv
  0000009E            00072         numBar
  0000009F            00073         Empty
  000000A0            00074         Half
  000000A1            00075         Full
  000000A2            00076         bt
  000000A3            00077         rightE
  000000A4            00078         leftE
  000000A5            00079         currentB
  000000A6            00080         b1L
  000000A7            00081         b1Li
  000000A8            00082         b2L
  000000A9            00083         b2Li
  000000AA            00084         b3L
  000000AB            00085         b3Li
  000000AC            00086         b4L
  000000AD            00087         b4Li
  000000AE            00088         b5L
  000000AF            00089         b5Li
  000000B0            00090         b6L
  000000B1            00091         b6Li
  000000B2            00092         b7L
  000000B3            00093         b7Li
  000000B4            00094         sdirection
  000000B5            00095         cdirection
  000000B6            00096         pwmL
  000000B7            00097         pwmR
  000000B8            00098         dirdiff
  000000B9            00099         USOF
  000000BA            00100         boolENC
  000000BB            00101         gyrox
  000000BC            00102         xhead
  000000BD            00103         bheight
  000000BE            00104         tallB
  000000BF            00105         shortB
                      00106         
                      00107         endc
                      00108                 
  00000002            00109 RS      equ 2
  00000003            00110 E       equ 3
  00000001            00111 Ca      equ 1
                      00112         
Warning[205]: Found directive in column 1. (variable)
  0000                00113 variable _waitknt = 0
                      00114         
Warning[205]: Found directive in column 1. (udata)
                      00115 udata
Warning[207]: Found label after column 1. (COUNTH)
000000                00116         COUNTH  res 1   ;const used in delay
Warning[207]: Found label after column 1. (COUNTM)
000001                00117         COUNTM  res     1       ;const used in delay
Warning[207]: Found label after column 1. (COUNTL)
000002                00118         COUNTL  res     1       ;const used in delay
Warning[205]: Found directive in column 1. (org)
                      00119 org     0x0000
Warning[203]: Found opcode in column 1. (goto)
000000 EF?? F???      00120 goto    Init
Warning[205]: Found directive in column 1. (org)
                      00121 org     0x0008
Warning[203]: Found opcode in column 1. (call)
000008 EC?? F???      00122 call    enchandle
Warning[203]: Found opcode in column 1. (nop)
00000C 0000           00123 nop
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[203]: Found opcode in column 1. (retfie)
00000E 0010           00124 retfie
                      00125 
                      00126 
                      00127 
                      00128 carry   macro   num
                      00129         bcf     STATUS, C
                      00130         local   carend
                      00131         movlw   d'9'
                      00132         cpfsgt  num
                      00133         goto    carend
                      00134         subwf   num
                      00135         decf    num
                      00136         bsf     STATUS, C
                      00137 carend  
                      00138         endm
                      00139 write   macro   msg
                      00140         local   loop_
                      00141         movlw   upper msg
                      00142         movwf   TBLPTRU
                      00143         movlw   high msg
                      00144         movwf   TBLPTRH
                      00145         movlw   low msg
                      00146         movwf   TBLPTRL
                      00147         tblrd*
                      00148         movf     TABLAT, W
                      00149         loop_   
                      00150         call     WrtLCD
                      00151         tblrd+*
                      00152         movf     TABLAT, W
                      00153         bnz     loop_
                      00154         endm
000010                00155 wdig1
000010 5182           00156             movf    dig12, W
                      00157             ;addlw   0x30
                      00158             ;call    WR_DATA
                      00159             ;return
000012 24E8           00160              addwf   WREG, W
                      00161            
000014 26F9           00162            addwf   PCL, f
000016 0C30 0C31 0C32 00163            dt      "0123456789"
       0C33 0C34 0C35 
       0C36 0C37 0C38 
       0C39 
                      00164             
00002A                00165 wdig2
00002A 507C           00166             movf    dig2, W
00002C 24E8           00167             addwf   WREG, W
00002E 26F9           00168             addwf   PCL, f
000030 0C30 0C31 0C32 00169             dt     "0123456789"
       0C33 0C34 0C35 
       0C36 0C37 0C38 
       0C39 
000044                00170 wdig3
000044 507D           00171             movf    dig3, W
000046 24E8           00172             addwf   WREG, W
000048 26F9           00173             addwf   PCL, f
00004A 0C30 0C31 0C32 00174             dt     "0123456789"
       0C33 0C34 0C35 
       0C36 0C37 0C38 
       0C39 
00005E                00175 Ready
00005E 5320 6174 7472 00176             db  " Start-*", 0
       2A2D 0000 
000068                00177 RightInt
000068 6952 6867 0074 00178             db  "Right", 0
00006E                00179 LeftInt    
00006E 654C 7466 0000 00180             db  "Left", 0
000074                00181 Running
000074 7552 6E6E 6E69 00182             db  "Running", 0
       0067 
00007C                00183 Done
00007C 3A42 0020      00184             db  "B: ", 0
000080                00185 Done2
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000080 4620 203A 0000 00186             db  " F: ", 0
000086                00187 Done3
000086 2020 2020 2020 00188             db  "                           ", "H: ", 0
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 2020 
       2020 4820 203A 
       0000 
0000A6                00189 Done4
0000A6 4520 203A 0000 00190             db  " E: ", 0
0000AC                00191 Done5
0000AC 3A4C 0020      00192             db  "L: ", 0
0000B0                00193 Done6       
0000B0 5220 203A 0000 00194             db  " R: ", 0
0000B6                00195 Barrel  
0000B6 6F4E 0020      00196             db  "No ", 0
0000BA                00197 Fulls
0000BA 4620 6C75 3A6C 00198             db  " Full: ", 0
       0020 
0000C2                00199 Location
0000C2 2020 2020 2020 00200             db "                      ","Location: ", 0
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 6F4C 
       6163 6974 6E6F 
       203A 0000 
0000E4                00201 OperTime
0000E4 704F 7265 7461 00202             db "Operation time: ", "                        ", 0
       6F69 206E 6974 
       656D 203A 2020 
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 0000 
00010E                00203 Halfs   
00010E 4820 6C61 3B66 00204             db  " Half; ", 0
       0020 
000116                00205 Emptys      
000116 4520 706D 3A74 00206             db  " Empt: ", 0
       0020 
00011E                00207 Nob 
00011E 6F4E 6D20 726F 00208             db  "No more barrels", 0
       2065 6162 7272 
       6C65 0073 
00012E                00209 seconds
00012E 6573 6F63 646E 00210             db  "seconds", 0
       0073 
                      00211             
000136                00212 Hob
000136 6548 6769 7468 00213             db  "Height:    ", 0
       203A 2020 0020 
                      00214             
000142                00215 ftall   
000142 6174 6C6C 0000 00216             db  "tall", 0
000148                00217 fshort
000148 6873 726F 0074 00218             db  "short", 0
                      00219 
                      00220 stime   macro   tin tout
                      00221         movff   tin, temp
                      00222         movlw   b'00001111'
                      00223         andwf   temp, f
                      00224         movff   tin, temp2
                      00225         movlw   b'11110000'
                      00226         andwf   temp2, f
                      00227         
                      00228         endm
                      00229 
                      00230 
                      00231 sepdig  macro      num
                      00232         local      loop3
                      00233         local      loop2
                      00234         local      loop1
                      00235         local      fin
                      00236         movlw      b'0'
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00237         movwf      dig12
                      00238         movwf      dig2
                      00239         movwf      dig3
                      00240         
                      00241         movf       num, W
                      00242         movwf      tot
                      00243 loop3   movlw      d'99'
                      00244         cpfsgt     tot
                      00245         goto       loop2
                      00246         incf       dig12
                      00247         subwf      tot, f
                      00248         decf       tot, f
                      00249         goto       loop3
                      00250 loop2   movlw      d'9'
                      00251         cpfsgt     tot
                      00252         goto       loop1
                      00253         incf       dig2
                      00254         subwf      tot, f
                      00255         decf       tot, f
                      00256         goto       loop2
                      00257 loop1   movlw      d'0'
                      00258         cpfsgt     tot
                      00259         goto       fin
                      00260         incf       dig3
                      00261         subwf      tot, f
                      00262         decf       tot, f
                      00263         goto       loop1
                      00264 fin     
                      00265         endm
                      00266         
                      00267 Save_BarrelH macro   Loc, Fl
                      00268             movff   rightE, Loc
                      00269             clrf           Fl
                      00270             btfsc          PORTA, 0
                      00271             bsf            Fl, 2
                      00272             btfsc          PORTA, 1
                      00273             bsf            Fl, 1
                      00274             btfss          PORTA, 1
                      00275             bsf            Fl, 0
                      00276             btfsc          PORTA, 0
                      00277             bcf            Fl, 1
                      00278             endm
                      00279             
                      00280 Save_BarrelL macro   Loc, Fl
                      00281             movff   rightE, Loc
                      00282             clrf           Fl
                      00283             btfsc          PORTA, 2
                      00284             bsf            Fl, 2
                      00285             btfsc          PORTA, 3
                      00286             bsf            Fl, 1
                      00287             btfss          PORTA, 3
                      00288             bsf            Fl, 0
                      00289             btfsc          PORTA, 2
                      00290             bcf            Fl, 1
                      00291             endm
                      00292 
                      00293             
                      00294 dFull   macro      fulln
                      00295         local      wfull
                      00296         local      whalf
                      00297         local      wempty
                      00298         local      wend
                      00299         btfsc      fulln, 2
                      00300         goto        wfull
                      00301         btfsc      fulln, 1
                      00302         goto       whalf
                      00303         goto       wempty
                      00304 wfull   write      Fulls
                      00305         goto       wend
                      00306 whalf   write      Halfs
                      00307         goto       wend
                      00308 wempty  write      Emptys       
                      00309 wend
                      00310         endm
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00311 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;RTC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00312 i2c_common_check_ack    macro   err_address             ;If bad ACK bit received, goto err_address
                      00313         ;banksel                SSPCON2
                      00314     btfsc       SSPCON2,ACKSTAT
                      00315     goto        err_address
                      00316     endm
                      00317 
                      00318 i2c_common_start        macro
                      00319 ;input:         none
                      00320 ;output:        none
                      00321 ;desc:          initiate start conditionon the bus
                      00322 
                      00323     local       back1
                      00324     bsf         SSPCON2,SEN
                      00325 back1   
                      00326     btfss       PIR1,SSPIF
                      00327     ;btfsc         SSPCON2,SEN
                      00328     goto        back1
                      00329     bcf         PIR1,SSPIF
                      00330     
                      00331     endm
                      00332 
                      00333 i2c_common_stop macro
                      00334 ;input:         none
                      00335 ;output:        none
                      00336 ;desc:          initiate stop condition on the bus
                      00337         ;banksel     SSPCON2
                      00338     local       back1
                      00339     bsf         SSPCON2,PEN
                      00340 back1   
                      00341     btfss       PIR1,SSPIF
                      00342     ;btfsc        SSPCON2,PEN
                      00343     goto        back1
                      00344     bcf         PIR1,SSPIF
                      00345     endm
                      00346 
                      00347 i2c_common_repeatedstart        macro
                      00348 ;input:         none
                      00349 ;output:        none
                      00350 ;desc:          initiate repeated start on the bus. Usually used for
                      00351 ;                       changing direction of SDA without STOP event
                      00352         ;banksel     SSPCON2
                      00353     local       back1
                      00354     bsf         SSPCON2,RSEN
                      00355 back1   
                      00356     btfss       PIR1,SSPIF
                      00357     ;btfsc         SSPCON2,RSEN
                      00358     goto        back1
                      00359     bcf         PIR1,SSPIF
                      00360     endm
                      00361 
                      00362 i2c_common_ack          macro
                      00363 ;input:         none
                      00364 ;output:        none
                      00365 ;desc:          send an acknowledge to slave device
                      00366    ; banksel     SSPCON2
                      00367     local       back1
                      00368     bcf         SSPCON2,ACKDT
                      00369     bsf         SSPCON2,ACKEN
                      00370 back1   
                      00371     btfss       PIR1,SSPIF
                      00372     ;btfsc       SSPCON2,ACKEN
                      00373     goto        back1
                      00374     bcf         PIR1,SSPIF
                      00375     endm
                      00376 
                      00377 i2c_common_nack macro
                      00378 ;input:         none
                      00379 ;output:        none
                      00380 ;desc:          send an not acknowledge to slave device
                      00381    ;banksel     SSPCON2
                      00382     local       back1
                      00383     bsf         SSPCON2,ACKDT
                      00384     bsf         SSPCON2,ACKEN
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00385 back1   
                      00386     btfss       PIR1,SSPIF
                      00387     ;btfsc       SSPCON2,ACKEN
                      00388     goto        back1
                      00389     bcf         PIR1,SSPIF
                      00390     endm
                      00391 
                      00392 i2c_common_write        macro
                      00393     local       back1
                      00394 ;input:         W
                      00395 ;output:        to slave device
                      00396 ;desc:          writes W to SSPBUF and send to slave device. Make sure
                      00397 ;                       transmit is finished before continuing
                      00398   
                      00399     movwf       SSPBUF
                      00400 back1   
                      00401     btfss       PIR1,SSPIF
                      00402     ;btfsc       SSPSTAT,R_W 
                      00403     goto        back1
                      00404     bcf         PIR1,SSPIF
                      00405     endm
                      00406 
                      00407 i2c_common_read macro
                      00408     local       back1
                      00409 ;input:         none
                      00410 ;output:        W
                      00411 ;desc:          reads data from slave and saves it in W.
                      00412    
                      00413     bsf         SSPCON2,RCEN    ;Begin receiving byte from
                      00414 back1   
                      00415     btfss       PIR1,SSPIF
                      00416     ;btfsc       SSPCON2,RCEN
                      00417     goto        back1
                      00418     bcf         PIR1,SSPIF
                      00419     movf        SSPBUF,w
                      00420     endm
                      00421 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\
00014E                00422 i2c_common_setup
                      00423 ;input:         none
                      00424 ;output:        none
                      00425 ;desc:          sets up I2C as master device with 100kHz baud rate
                      00426 
00014E 6AC7           00427     clrf        SSPSTAT         ;I2C line levels, and clear all flags
000150 0E18           00428     movlw       d'24'           ;100kHz baud rate: 10MHz osc / [4*(24+1)]
                      00429 
000152 6EC8           00430     movwf       SSPADD          ;RTC only supports 100kHz
                      00431 
000154 0E28           00432     movlw       b'00101000'     ;Config SSP for Master Mode I2C
                      00433 
000156 6EC6           00434     movwf       SSPCON1
000158 8AC6           00435     bsf         SSPCON1 ,SSPEN    ;Enable SSP module
                      00436     
                      00437     i2c_common_stop                     ;Ensure the bus is free
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
00015A 84C5               M     bsf         SSPCON2,PEN
00015C                    M back1   
00015C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
00015E EF?? F???          M     goto        back1
000162 969E               M     bcf         PIR1,SSPIF
000164 0012           00438         return
                      00439 
                      00440 ;rtc Algorithms;;;;;;
                      00441         
000166                00442 write_gyro
                      00443         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M     local       back1
000166 80C5               M     bsf         SSPCON2,SEN
000168                    M back1   
000168 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
00016A EF?? F???          M     goto        back1
00016E 969E               M     bcf         PIR1,SSPIF
                          M     
000170 0ED4           00444         movlw       0xD4        ;DS1307 address | WRITE bit
                      00445         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000172 6EC9               M     movwf       SSPBUF
000174                    M back1   
000174 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
000176 EF?? F???          M     goto        back1
00017A 969E               M     bcf         PIR1,SSPIF
                      00446         i2c_common_check_ack   gWR_ERR
                          M         ;banksel                SSPCON2
00017C BCC5               M     btfsc       SSPCON2,ACKSTAT
00017E EF?? F???          M     goto        gWR_ERR
                      00447 
                      00448         ;Write data to I2C bus (Register Address in RTC)
                      00449 
000182 5073           00450         movf        ADD,w       ;Set register pointer in RTC
                      00451         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000184 6EC9               M     movwf       SSPBUF
000186                    M back1   
000186 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
000188 EF?? F???          M     goto        back1
00018C 969E               M     bcf         PIR1,SSPIF
                      00452         i2c_common_check_ack   gWR_ERR
                          M         ;banksel                SSPCON2
00018E BCC5               M     btfsc       SSPCON2,ACKSTAT
000190 EF?? F???          M     goto        gWR_ERR
                      00453 
                      00454         ;Write data to I2C bus (Data to be placed in RTC register)
                      00455 
000194 5074           00456         movf       DAT,w       ;Write data to register in RTC
                      00457         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000196 6EC9               M     movwf       SSPBUF
000198                    M back1   
000198 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00019A EF?? F???          M     goto        back1
00019E 969E               M     bcf         PIR1,SSPIF
                      00458         i2c_common_check_ack   gWR_ERR
                          M         ;banksel                SSPCON2
0001A0 BCC5               M     btfsc       SSPCON2,ACKSTAT
0001A2 EF?? F???          M     goto        gWR_ERR
0001A6 EF?? F???      00459         goto        gWR_END
0001AA                00460 gWR_ERR
0001AA 0000           00461         nop
0001AC                00462 gWR_END  
                      00463                 i2c_common_stop ;Release the I2C bus
                          M ;input:         none
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
0001AC 84C5               M     bsf         SSPCON2,PEN
0001AE                    M back1   
0001AE A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
0001B0 EF?? F???          M     goto        back1
0001B4 969E               M     bcf         PIR1,SSPIF
0001B6 0012           00464         return
0001B8                00465 write_mg
                      00466         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
0001B8 80C5               M     bsf         SSPCON2,SEN
0001BA                    M back1   
0001BA A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
0001BC EF?? F???          M     goto        back1
0001C0 969E               M     bcf         PIR1,SSPIF
                          M     
0001C2 0E3C           00467         movlw       0x3C        ;DS1307 address | WRITE bit
                      00468         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0001C4 6EC9               M     movwf       SSPBUF
0001C6                    M back1   
0001C6 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0001C8 EF?? F???          M     goto        back1
0001CC 969E               M     bcf         PIR1,SSPIF
                      00469         i2c_common_check_ack   mWR_ERR
                          M         ;banksel                SSPCON2
0001CE BCC5               M     btfsc       SSPCON2,ACKSTAT
0001D0 EF?? F???          M     goto        mWR_ERR
                      00470 
                      00471         ;Write data to I2C bus (Register Address in RTC)
                      00472 
0001D4 5073           00473         movf        ADD,w       ;Set register pointer in RTC
                      00474         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0001D6 6EC9               M     movwf       SSPBUF
0001D8                    M back1   
0001D8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0001DA EF?? F???          M     goto        back1
0001DE 969E               M     bcf         PIR1,SSPIF
                      00475         i2c_common_check_ack   mWR_ERR
                          M         ;banksel                SSPCON2
0001E0 BCC5               M     btfsc       SSPCON2,ACKSTAT
0001E2 EF?? F???          M     goto        mWR_ERR
                      00476 
                      00477         ;Write data to I2C bus (Data to be placed in RTC register)
                      00478 
0001E6 5074           00479         movf       DAT,w       ;Write data to register in RTC
                      00480         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M   
0001E8 6EC9               M     movwf       SSPBUF
0001EA                    M back1   
0001EA A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0001EC EF?? F???          M     goto        back1
0001F0 969E               M     bcf         PIR1,SSPIF
                      00481         i2c_common_check_ack   mWR_ERR
                          M         ;banksel                SSPCON2
0001F2 BCC5               M     btfsc       SSPCON2,ACKSTAT
0001F4 EF?? F???          M     goto        mWR_ERR
0001F8 EF?? F???      00482         goto        mWR_END
0001FC                00483 mWR_ERR
0001FC 0000           00484         nop
0001FE                00485 mWR_END  
                      00486                 i2c_common_stop ;Release the I2C bus
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
0001FE 84C5               M     bsf         SSPCON2,PEN
000200                    M back1   
000200 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
000202 EF?? F???          M     goto        back1
000206 969E               M     bcf         PIR1,SSPIF
000208 0012           00487         return
                      00488         
00020A                00489 write_rtc
                      00490 ;input:         address of register in RTC
                      00491 ;output:        none
                      00492 ;Desc:          handles writing data to RTC
                      00493         ;Select the DS1307 on the bus, in WRITE mode
                      00494         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
00020A 80C5               M     bsf         SSPCON2,SEN
00020C                    M back1   
00020C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
00020E EF?? F???          M     goto        back1
000212 969E               M     bcf         PIR1,SSPIF
                          M     
000214 0ED0           00495         movlw       0xD0        ;DS1307 address | WRITE bit
                      00496         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000216 6EC9               M     movwf       SSPBUF
000218                    M back1   
000218 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00021A EF?? F???          M     goto        back1
00021E 969E               M     bcf         PIR1,SSPIF
                      00497         i2c_common_check_ack   WR_ERR
                          M         ;banksel                SSPCON2
000220 BCC5               M     btfsc       SSPCON2,ACKSTAT
000222 EF?? F???          M     goto        WR_ERR
                      00498 
                      00499         ;Write data to I2C bus (Register Address in RTC)
                      00500 
000226 5073           00501         movf        ADD,w       ;Set register pointer in RTC
                      00502         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;                       transmit is finished before continuing
                          M   
000228 6EC9               M     movwf       SSPBUF
00022A                    M back1   
00022A A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00022C EF?? F???          M     goto        back1
000230 969E               M     bcf         PIR1,SSPIF
                      00503         i2c_common_check_ack   WR_ERR
                          M         ;banksel                SSPCON2
000232 BCC5               M     btfsc       SSPCON2,ACKSTAT
000234 EF?? F???          M     goto        WR_ERR
                      00504 
                      00505         ;Write data to I2C bus (Data to be placed in RTC register)
                      00506 
000238 5074           00507         movf       DAT,w       ;Write data to register in RTC
                      00508         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
00023A 6EC9               M     movwf       SSPBUF
00023C                    M back1   
00023C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00023E EF?? F???          M     goto        back1
000242 969E               M     bcf         PIR1,SSPIF
                      00509         i2c_common_check_ack   WR_ERR
                          M         ;banksel                SSPCON2
000244 BCC5               M     btfsc       SSPCON2,ACKSTAT
000246 EF?? F???          M     goto        WR_ERR
00024A EF?? F???      00510         goto        WR_END
00024E                00511 WR_ERR
00024E 0000           00512         nop
000250                00513 WR_END  
                      00514                 i2c_common_stop ;Release the I2C bus
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
000250 84C5               M     bsf         SSPCON2,PEN
000252                    M back1   
000252 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
000254 EF?? F???          M     goto        back1
000258 969E               M     bcf         PIR1,SSPIF
00025A 0012           00515         return
                      00516         
00025C                00517 read_gyro
                      00518         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
00025C 80C5               M     bsf         SSPCON2,SEN
00025E                    M back1   
00025E A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
000260 EF?? F???          M     goto        back1
000264 969E               M     bcf         PIR1,SSPIF
                          M     
000266 0ED4           00519         movlw       0xD4        
                      00520         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000268 6EC9               M     movwf       SSPBUF
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00026A                    M back1   
00026A A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00026C EF?? F???          M     goto        back1
000270 969E               M     bcf         PIR1,SSPIF
                      00521         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000272 BCC5               M     btfsc       SSPCON2,ACKSTAT
000274 EF?? F???          M     goto        RD_ERR
000278 5073           00522         movf        ADD,w       
                      00523         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
00027A 6EC9               M     movwf       SSPBUF
00027C                    M back1   
00027C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00027E EF?? F???          M     goto        back1
000282 969E               M     bcf         PIR1,SSPIF
                      00524         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000284 BCC5               M     btfsc       SSPCON2,ACKSTAT
000286 EF?? F???          M     goto        RD_ERR
                      00525 
                      00526         i2c_common_repeatedstart
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate repeated start on the bus. Usually used for
                          M ;                       changing direction of SDA without STOP event
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
00028A 82C5               M     bsf         SSPCON2,RSEN
00028C                    M back1   
00028C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,RSEN
00028E EF?? F???          M     goto        back1
000292 969E               M     bcf         PIR1,SSPIF
000294 0ED5           00527         movlw       0xD5       
                      00528         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000296 6EC9               M     movwf       SSPBUF
000298                    M back1   
000298 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00029A EF?? F???          M     goto        back1
00029E 969E               M     bcf         PIR1,SSPIF
                      00529         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
0002A0 BCC5               M     btfsc       SSPCON2,ACKSTAT
0002A2 EF?? F???          M     goto        RD_ERR
                      00530 
                      00531         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
0002A6 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
0002A8                    M back1   
0002A8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
0002AA EF?? F???          M     goto        back1
0002AE 969E               M     bcf         PIR1,SSPIF
0002B0 50C9               M     movf        SSPBUF,w
                      00532 
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0002B2 6E75           00533         movwf       DOUT
                      00534         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
0002B4 8AC5               M     bsf         SSPCON2,ACKDT
0002B6 88C5               M     bsf         SSPCON2,ACKEN
0002B8                    M back1   
0002B8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
0002BA EF?? F???          M     goto        back1
0002BE 969E               M     bcf         PIR1,SSPIF
                      00535         
0002C0 EF?? F???      00536         goto        RD_END
                      00537         
0002C4                00538 read_mg
                      00539         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
0002C4 80C5               M     bsf         SSPCON2,SEN
0002C6                    M back1   
0002C6 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
0002C8 EF?? F???          M     goto        back1
0002CC 969E               M     bcf         PIR1,SSPIF
                          M     
0002CE 0E3C           00540         movlw       0x3C        
                      00541         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0002D0 6EC9               M     movwf       SSPBUF
0002D2                    M back1   
0002D2 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0002D4 EF?? F???          M     goto        back1
0002D8 969E               M     bcf         PIR1,SSPIF
                      00542         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
0002DA BCC5               M     btfsc       SSPCON2,ACKSTAT
0002DC EF?? F???          M     goto        RD_ERR
0002E0 5073           00543         movf        ADD,w       
                      00544         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0002E2 6EC9               M     movwf       SSPBUF
0002E4                    M back1   
0002E4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0002E6 EF?? F???          M     goto        back1
0002EA 969E               M     bcf         PIR1,SSPIF
                      00545         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
0002EC BCC5               M     btfsc       SSPCON2,ACKSTAT
0002EE EF?? F???          M     goto        RD_ERR
                      00546 
                      00547         i2c_common_repeatedstart
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate repeated start on the bus. Usually used for
                          M ;                       changing direction of SDA without STOP event
                          M         ;banksel     SSPCON2
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M     local       back1
0002F2 82C5               M     bsf         SSPCON2,RSEN
0002F4                    M back1   
0002F4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,RSEN
0002F6 EF?? F???          M     goto        back1
0002FA 969E               M     bcf         PIR1,SSPIF
0002FC 0E3D           00548         movlw       0x3D       
                      00549         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0002FE 6EC9               M     movwf       SSPBUF
000300                    M back1   
000300 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
000302 EF?? F???          M     goto        back1
000306 969E               M     bcf         PIR1,SSPIF
                      00550         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000308 BCC5               M     btfsc       SSPCON2,ACKSTAT
00030A EF?? F???          M     goto        RD_ERR
                      00551 
                      00552         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
00030E 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
000310                    M back1   
000310 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
000312 EF?? F???          M     goto        back1
000316 969E               M     bcf         PIR1,SSPIF
000318 50C9               M     movf        SSPBUF,w
                      00553 
00031A 6E75           00554         movwf       DOUT
                      00555         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
00031C 8AC5               M     bsf         SSPCON2,ACKDT
00031E 88C5               M     bsf         SSPCON2,ACKEN
000320                    M back1   
000320 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
000322 EF?? F???          M     goto        back1
000326 969E               M     bcf         PIR1,SSPIF
                      00556         
000328 EF?? F???      00557         goto        RD_END      
00032C                00558 read_rtc
                      00559 ;input:         address of RTC
                      00560 ;output:        DOUT or DOUT
                      00561 ;Desc:          This reads from the selected address of the RTC
                      00562 ;                       and saves it into DOUT or address DOUT
                      00563         ;Select the DS1307 on the bus, in WRITE mode
                      00564         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
00032C 80C5               M     bsf         SSPCON2,SEN
00032E                    M back1   
00032E A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
000330 EF?? F???          M     goto        back1
000334 969E               M     bcf         PIR1,SSPIF
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M     
000336 0ED0           00565         movlw       0xD0        ;DS1307 address | WRITE bit
                      00566         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000338 6EC9               M     movwf       SSPBUF
00033A                    M back1   
00033A A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00033C EF?? F???          M     goto        back1
000340 969E               M     bcf         PIR1,SSPIF
                      00567         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000342 BCC5               M     btfsc       SSPCON2,ACKSTAT
000344 EF?? F???          M     goto        RD_ERR
                      00568 
                      00569         ;Write data to I2C bus (Register Address in RTC)
                      00570 
000348 5073           00571         movf        ADD,w       ;Set register pointer in RTC
                      00572         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
00034A 6EC9               M     movwf       SSPBUF
00034C                    M back1   
00034C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00034E EF?? F???          M     goto        back1
000352 969E               M     bcf         PIR1,SSPIF
                      00573         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000354 BCC5               M     btfsc       SSPCON2,ACKSTAT
000356 EF?? F???          M     goto        RD_ERR
                      00574 
                      00575         ;Re-Select the DS1307 on the bus, in READ mode
                      00576         i2c_common_repeatedstart
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate repeated start on the bus. Usually used for
                          M ;                       changing direction of SDA without STOP event
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
00035A 82C5               M     bsf         SSPCON2,RSEN
00035C                    M back1   
00035C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,RSEN
00035E EF?? F???          M     goto        back1
000362 969E               M     bcf         PIR1,SSPIF
000364 0ED1           00577         movlw       0xD1        ;DS1307 address | READ bit
                      00578         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000366 6EC9               M     movwf       SSPBUF
000368                    M back1   
000368 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00036A EF?? F???          M     goto        back1
00036E 969E               M     bcf         PIR1,SSPIF
                      00579         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000370 BCC5               M     btfsc       SSPCON2,ACKSTAT
000372 EF?? F???          M     goto        RD_ERR
                      00580 
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00581         ;Read data from I2C bus (Contents of Register in RTC)
                      00582         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
000376 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
000378                    M back1   
000378 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
00037A EF?? F???          M     goto        back1
00037E 969E               M     bcf         PIR1,SSPIF
000380 50C9               M     movf        SSPBUF,w
                      00583 
000382 6E75           00584         movwf       DOUT
                      00585         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
000384 8AC5               M     bsf         SSPCON2,ACKDT
000386 88C5               M     bsf         SSPCON2,ACKEN
000388                    M back1   
000388 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
00038A EF?? F???          M     goto        back1
00038E 969E               M     bcf         PIR1,SSPIF
                      00586         
000390 EF?? F???      00587         goto        RD_END
                      00588 
000394                00589 RD_ERR 
000394 0000           00590         nop
                      00591         
                      00592         ;Release the I2C bus
                      00593 RD_END  i2c_common_stop
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
000396 84C5               M     bsf         SSPCON2,PEN
000398                    M back1   
000398 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
00039A EF?? F???          M     goto        back1
00039E 969E               M     bcf         PIR1,SSPIF
0003A0 0012           00594         return
                      00595 
0003A2                00596 rtc_convert   
                      00597 ;input:         W
                      00598 ;output:        dig10 (dig10), dig1 (dig1)
                      00599 ;desc:          This subroutine converts the binary number
                      00600 ;                       in W into a two digit ASCII number and place
                      00601 ;                       each digit into the corresponding registers
                      00602 ;                       dig10 or dig1
                      00603 
0003A2 6E76           00604     movwf   B1             ; B1 = HHHH LLLL
0003A4 3876           00605     swapf   B1,w           ; W  = LLLL HHHH
0003A6 0B0F           00606     andlw   0x0f           ; Mask upper four bits 0000 HHHH
0003A8 0F30           00607     addlw   0x30           ; convert to ASCII
0003AA 6E77           00608     movwf   dig10                  ;saves into 10ths digit
                      00609    ;movwf    dig2
0003AC 5076           00610     movf    B1,w
0003AE 0B0F           00611     andlw   0x0f           ; w  = 0000 LLLL
0003B0 0F30           00612     addlw   0x30           ; convert to ASCII           
0003B2 6E78           00613     movwf       dig1           ; saves into 1s digit
                      00614    ;movwf       dig3
                      00615  ;  movlw       d'0'
                      00616   ; movwf       dig12
0003B4 0012           00617         return
                      00618 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00619 
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00620         ;Select the DS1307 on the bus, in WRITE mode
                      00621         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
0003B6 80C5               M     bsf         SSPCON2,SEN
0003B8                    M back1   
0003B8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
0003BA EF?? F???          M     goto        back1
0003BE 969E               M     bcf         PIR1,SSPIF
                          M     
0003C0 0E11           00622                 movlw       b'00010001'
                      00623         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0003C2 6EC9               M     movwf       SSPBUF
0003C4                    M back1   
0003C4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0003C6 EF?? F???          M     goto        back1
0003CA 969E               M     bcf         PIR1,SSPIF
                      00624                 i2c_common_check_ack   R_END
                          M         ;banksel                SSPCON2
0003CC BCC5               M     btfsc       SSPCON2,ACKSTAT
0003CE EF?? F???          M     goto        R_END
                      00625 
                      00626         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
0003D2 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
0003D4                    M back1   
0003D4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
0003D6 EF?? F???          M     goto        back1
0003DA 969E               M     bcf         PIR1,SSPIF
0003DC 50C9               M     movf        SSPBUF,w
                      00627 
0003DE 6E70           00628         movwf       0x70
                      00629         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
0003E0 8AC5               M     bsf         SSPCON2,ACKDT
0003E2 88C5               M     bsf         SSPCON2,ACKEN
0003E4                    M back1   
0003E4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
0003E6 EF?? F???          M     goto        back1
0003EA 969E               M     bcf         PIR1,SSPIF
0003EC                00630 R_END
                      00631                 i2c_common_stop
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
0003EC 84C5               M     bsf         SSPCON2,PEN
0003EE                    M back1   
0003EE A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
0003F0 EF?? F???          M     goto        back1
0003F4 969E               M     bcf         PIR1,SSPIF
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003F6 0012           00632         return
                      00633          ;Set SDA and SCL to high-Z first as required for I2C
                      00634          
                      00635 rtc_resetAll    macro
                      00636 ;input:         none
                      00637 ;output:        none
                      00638 ;desc:          Resets all the time keeping registers on the RTC to zero
                      00639 
                      00640         clrf            DAT
                      00641         clrf            ADD
                      00642     call        write_rtc       
                      00643     incf        ADD                     ;Set register address to 1
                      00644         call            write_rtc
                      00645     incf        ADD                     ;Set register address to 2
                      00646         call            write_rtc
                      00647     incf        ADD                     ;Set register address to 3
                      00648         call            write_rtc
                      00649     incf        ADD                     ;Set register address to 4
                      00650         call            write_rtc
                      00651     incf        ADD                     ;Set register address to 5
                      00652         call            write_rtc
                      00653     incf        ADD                     ;Set register address to 6
                      00654         call            write_rtc
                      00655         endm
                      00656 
                      00657 rtc_set         macro   addliteral,datliteral
                      00658 ;input:         addliteral: value of address
                      00659 ;                       datliteral: value of data
                      00660 ;output:        none
                      00661 ;desc:          loads the data in datliteral into the 
                      00662 ;                       address specified by addliteral in the RTC
                      00663 
                      00664         movlw   addliteral
                      00665         movwf   ADD
                      00666 
                      00667         movlw   datliteral
                      00668         movwf   DAT     
                      00669         call    write_rtc
                      00670         endm
                      00671 gyro_read       macro   addliteral
                      00672         
                      00673         movlw   addliteral
                      00674         movwf   ADD
                      00675         call    read_gyro
                      00676         ;sepdig DOUT
                      00677         ;call   WrtNum
                      00678         endm
                      00679         
                      00680 mg_read         macro   addliteral
                      00681                 
                      00682         movlw   addliteral
                      00683         movwf   ADD
                      00684         call    read_mg
                      00685         sepdig  DOUT
                      00686         call    WrtNum
                      00687         endm
                      00688 
                      00689         
                      00690 rtc_read        macro   addliteral
                      00691 ;input:         addliteral
                      00692 ;output:        DOUT, dig10, dig1
                      00693 ;desc:          From the selected register in the RTC, read the data
                      00694 ;                       and load it into DOUT. DOUT is also converted into 
                      00695 ;                       ASCII characters and the tens digit is placed into
                      00696 ;                       dig10 and the ones digit is placed in dig1
                      00697         movlw   addliteral
                      00698 
                      00699         movwf   ADD
                      00700         call    read_rtc
                      00701 
                      00702         movf    DOUT,w
                      00703         call    rtc_convert   
                      00704         endm
0003F8                00705 Gyroinit
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003F8 8894           00706         bsf        TRISC,4                
0003FA 8694           00707         bsf        TRISC,3
0003FC 6A89           00708         clrf      LATA
0003FE 6A8A           00709         clrf      LATB
000400 6A8B           00710         clrf      LATC 
000402 EC?? F???      00711         call      i2c_common_setup
                      00712         ;write    Ready
                      00713         ;goto     mainwait
000406 0012           00714         return
000408                00715 MGinit
000408 8894           00716         bsf        TRISC,4                
00040A 8694           00717         bsf        TRISC,3
00040C 6A89           00718         clrf      LATA
00040E 6A8A           00719         clrf      LATB
000410 6A8B           00720         clrf      LATC 
000412 EC?? F???      00721         call      i2c_common_setup
000416 0012           00722         return
                      00723         
000418                00724 RTCinit
                      00725         
                      00726        
                      00727   ;Set SDA and SCL to high-Z first as required for I2C
000418 8894           00728                  bsf       TRISC,4                
00041A 8694           00729                  bsf       TRISC,3
                      00730 
00041C 6A89           00731          clrf      LATA
00041E 6A8A           00732          clrf      LATB
000420 6A8B           00733          clrf      LATC 
                      00734         ; clrf      PORTD
                      00735                  ;Set up I2C for communication
000422 EC?? F???      00736                  call      i2c_common_setup
                      00737         ;        rtc_resetAll
                      00738                  
000426 EC?? F???      00739          call   set_rtc_time
                      00740         ; call   show_RTC
00042A 0012           00741         return   
00042C 6AF2           00742 Init     clrf      INTCON         ; No interrupts
00042E 6B88           00743          clrf       temp
000430 0E00           00744          movlw     d'0'
000432 6F8E           00745          movwf     renc
000434 6F9E           00746          movwf     numBar
000436 6FA2           00747          movwf     bt
000438 6FA1           00748          movwf     Full
00043A 6FA0           00749          movwf     Half
00043C 6F9F           00750          movwf     Empty
00043E 6FA3           00751          movwf     rightE
000440 6FA4           00752          movwf     leftE
000442 6FA5           00753          movwf     currentB
000444 0EFF           00754          movlw     b'11111111'
000446 6E92           00755          movwf     TRISA
000448 0EF2           00756          movlw     b'11110010'    ; Set required keypad inputs
00044A 6E93           00757          movwf     TRISB
                      00758          ;call     setints 
00044C 6A95           00759          clrf      TRISD
00044E 6A89           00760          clrf      LATA
000450 6A8A           00761          clrf      LATB
000452 6A8B           00762          clrf      LATC
000454 6A8C           00763          clrf      LATD
000456 0E0F           00764          movlw     b'00001111'
000458 12C1           00765          iorwf     ADCON1
00045A 0E03           00766          movlw     b'11'
00045C 6F9C           00767          movwf     cap1
00045E 0E14           00768          movlw     h'14'
000460 6F9D           00769          movwf     capinv
000462 EC?? F???      00770          call      InitLCD    ;Initialize the LCD 
                      00771          
                      00772         ; call     MGinit
                      00773         ;write      Ready
000466 EC?? F???      00774          call      sdelay
                      00775         ; stime     ssec10, ssec1
                      00776         ; rtc_read   0x01
                      00777         ; stime     smin10, smin1
                      00778         ;goto      US_module
                      00779         ;call      MGinit
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00780         ;goto      mgtest
                      00781          
                      00782         ; write     Ready
                      00783         ; call      keywait
                      00784          ;call      RTCinit
                      00785         ; call      rtc_resetAll
                      00786         ; call      keywait
                      00787         ; call      ClrLCD
                      00788         ; call      fgetoptime
                      00789         ; goto      US_module
                      00790          ;goto      PWM_module
                      00791          ;goto      LS_module
                      00792          ;goto      count_module
                      00793          ;call      straight 
                      00794          ;goto      encTest
                      00795         ; call      PWMinit
                      00796          ;goto      test50100
                      00797         ;goto       gyroinitt     
                      00798         ;goto       gSteer
                      00799         ;call       arm_drive
                      00800         ;write      Ready
                      00801          ;goto      mainloops
                      00802         ; goto      steer_module
00046A EF?? F???      00803         goto        main
                      00804         ;write      Ready
                      00805         ;write      ftall
Warning[207]: Found label after column 1. (mainwait)
00046E EF?? F???      00806         mainwait    goto mainwait
                      00807         
                      00808 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ARM Module;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00809         
                      00810         
Warning[207]: Found label after column 1. (arm_drive)
000472                00811         arm_drive
                      00812             ;bcf            TRISC, 0
                      00813            ; bsf            LATC, 0
                      00814         ;retract
                      00815          ;   movlw   b'0110'
                      00816          ;   movwf   TRISE
                      00817           ;  bcf            TRISA, 0
                      00818           ;  call    armUS
                      00819           ;  write   Ready
                      00820         ;rest
                      00821         ;bsf        LATA, 0
                      00822         ;    bcf            LATE, 0
000472 6ABE           00823             clrf    CCPR1L
000474 6ABB           00824             clrf    CCPR2L
000476 8A8B           00825             bsf     LATC, 5
Warning[207]: Found label after column 1. (armwait1)
000478                00826         armwait1
000478 A682           00827             btfss   PORTC, 3
00047A EF?? F???      00828             goto    armwait1
00047E EF?? F???      00829             goto    Atestf
Warning[207]: Found label after column 1. (d1)
000482 9A8B           00830          d1 bcf     LATC, 5
000484 EC?? F???      00831             call    setPWM
                      00832          
Warning[207]: Found label after column 1. (driveabit)
000488                00833         driveabit
000488 EC?? F???      00834             call    sdelay
00048C EC?? F???      00835             call    sdelay
000490 EC?? F???      00836             call    sdelay
000494 EC?? F???      00837             call    sdelay
000498 EC?? F???      00838             call    sdelay
                      00839            ; bcf            LATC, 0
00049C 6ABE           00840             clrf    CCPR1L
00049E 6ABB           00841             clrf    CCPR2L
0004A0 8C8B           00842             bsf     LATC, 6
                      00843             
Warning[207]: Found label after column 1. (armwait2)
0004A2                00844         armwait2
0004A2 AE82           00845             btfss   PORTC, 7    
0004A4 EF?? F???      00846             goto    armwait2
0004A8 EF?? F???      00847             goto    Atestb
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (d2)
0004AC 9C8B           00848         d2  bcf     LATC, 6
                      00849            ; goto    rest
0004AE EC?? F???      00850            call     setPWM
0004B2 0012           00851         return
                      00852         
Warning[207]: Found label after column 1. (Atestf)
0004B4                00853         Atestf
0004B4 A682           00854             btfss   PORTC, 3
0004B6 EF?? F???      00855             goto    armwait1
0004BA A682           00856             btfss   PORTC, 3
0004BC EF?? F???      00857             goto    armwait1
0004C0 A682           00858             btfss   PORTC, 3
0004C2 EF?? F???      00859             goto    armwait1
0004C6 EF?? F???      00860             goto    d1
                      00861             
Warning[207]: Found label after column 1. (Atestb)
0004CA                00862         Atestb
0004CA AE82           00863             btfss   PORTC, 7
0004CC EF?? F???      00864             goto    armwait2
0004D0 AE82           00865             btfss   PORTC, 7
0004D2 EF?? F???      00866             goto    armwait2
0004D6 AE82           00867             btfss   PORTC, 7
0004D8 EF?? F???      00868             goto    armwait2
0004DC EF?? F???      00869             goto    d2
                      00870             
                      00871 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Gyro Steer;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00872             
0004E0 EC?? F???      00873 gSteer      call    gyroinitt
0004E4 EC?? F???      00874             call    ClrLCD
0004E8 0EA0           00875             movlw   d'160'
0004EA 6FBC           00876             movwf   xhead
0004EC                00877 gsteerloop
0004EC EC?? F???      00878             call    ClrLCD
0004F0 EC?? F???      00879             call    show_gyro
0004F4 91BB           00880             bcf     gyrox, 0
0004F6 43BB           00881             rrncf   gyrox
                      00882             sepdig  gyrox
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0004F8 0E00               M         movlw      b'0'
0004FA 6F82               M         movwf      dig12
0004FC 6E7C               M         movwf      dig2
0004FE 6E7D               M         movwf      dig3
                          M         
000500 51BB               M         movf       gyrox, W
000502 6F86               M         movwf      tot
000504 0E63               M loop3   movlw      d'99'
000506 6586               M         cpfsgt     tot
000508 EF?? F???          M         goto       loop2
00050C 2B82               M         incf       dig12
00050E 5F86               M         subwf      tot, f
000510 0786               M         decf       tot, f
000512 EF?? F???          M         goto       loop3
000516 0E09               M loop2   movlw      d'9'
000518 6586               M         cpfsgt     tot
00051A EF?? F???          M         goto       loop1
00051E 2A7C               M         incf       dig2
000520 5F86               M         subwf      tot, f
000522 0786               M         decf       tot, f
000524 EF?? F???          M         goto       loop2
000528 0E00               M loop1   movlw      d'0'
00052A 6586               M         cpfsgt     tot
00052C EF?? F???          M         goto       fin
000530 2A7D               M         incf       dig3
000532 5F86               M         subwf      tot, f
000534 0786               M         decf       tot, f
000536 EF?? F???          M         goto       loop1
00053A                    M fin     
00053A EC?? F???      00883             call    WrtNum
00053E 6AE8           00884             clrf    WREG
000540 65BB           00885             cpfsgt  gyrox
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000542 EF?? F???      00886             goto    gsteerend
000546 0E50           00887             movlw   d'80'
000548 65BB           00888             cpfsgt  gyrox
00054A EF?? F???      00889             goto    LeftT
00054E 51BB           00890 RightT      movf    gyrox, W
000550 27BC           00891             addwf   xhead, f
                      00892            ; incf    xhead
000552 EF?? F???      00893             goto    gsteerend
                      00894             
000556 0E80           00895 LeftT       movlw   d'128'
000558 6F88           00896             movwf   temp
00055A 51BB           00897             movf    gyrox, W 
                      00898             ;decf    xhead
00055C 5F88           00899             subwf   temp, f
00055E 5188           00900             movf    temp, W
000560 5FBC           00901             subwf   xhead
000562                00902 gsteerend
000562 0E20           00903             movlw   ' '
000564 EC?? F???      00904             call    WR_DATA
000568 0E48           00905             movlw   'H'
00056A EC?? F???      00906             call    WR_DATA
00056E 0E3A           00907             movlw   ':'
000570 EC?? F???      00908             call    WR_DATA
000574 0E20           00909             movlw   ' '
000576 EC?? F???      00910             call    WR_DATA
                      00911             
                      00912             sepdig  xhead
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00057A 0E00               M         movlw      b'0'
00057C 6F82               M         movwf      dig12
00057E 6E7C               M         movwf      dig2
000580 6E7D               M         movwf      dig3
                          M         
000582 51BC               M         movf       xhead, W
000584 6F86               M         movwf      tot
000586 0E63               M loop3   movlw      d'99'
000588 6586               M         cpfsgt     tot
00058A EF?? F???          M         goto       loop2
00058E 2B82               M         incf       dig12
000590 5F86               M         subwf      tot, f
000592 0786               M         decf       tot, f
000594 EF?? F???          M         goto       loop3
000598 0E09               M loop2   movlw      d'9'
00059A 6586               M         cpfsgt     tot
00059C EF?? F???          M         goto       loop1
0005A0 2A7C               M         incf       dig2
0005A2 5F86               M         subwf      tot, f
0005A4 0786               M         decf       tot, f
0005A6 EF?? F???          M         goto       loop2
0005AA 0E00               M loop1   movlw      d'0'
0005AC 6586               M         cpfsgt     tot
0005AE EF?? F???          M         goto       fin
0005B2 2A7D               M         incf       dig3
0005B4 5F86               M         subwf      tot, f
0005B6 0786               M         decf       tot, f
0005B8 EF?? F???          M         goto       loop1
0005BC                    M fin     
0005BC EC?? F???      00913             call    WrtNum
0005C0 B881           00914             btfsc   PORTB, 4
0005C2 EF?? F???      00915             goto    gSteer
0005C6 EC?? F???      00916             call    sdelay
0005CA EF?? F???      00917             goto    gsteerloop
                      00918             
                      00919           
                      00920 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Steering Module;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0005CE                00921 straight
0005CE 9294           00922            bcf      TRISC, 1
0005D0 9494           00923            bcf      TRISC, 2
0005D2 828B           00924            bsf      LATC, 1
0005D4 848B           00925            bsf      LATC, 2
0005D6 0012           00926            return
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0005D8 EF?? F???      00927 straitwait  goto    straitwait
0005DC                00928 steer_module
0005DC EC?? F???      00929          call       PWMinit
0005E0 EC?? F???      00930          call       mginit
                      00931          mg_read    0x08
                          M                 
0005E4 0E08               M         movlw   0x08
0005E6 6E73               M         movwf   ADD
0005E8 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0005EC 0E00               M         movlw      b'0'
0005EE 6F82               M         movwf      dig12
0005F0 6E7C               M         movwf      dig2
0005F2 6E7D               M         movwf      dig3
                          M         
0005F4 5075               M         movf       DOUT, W
0005F6 6F86               M         movwf      tot
0005F8 0E63               M loop3   movlw      d'99'
0005FA 6586               M         cpfsgt     tot
0005FC EF?? F???          M         goto       loop2
000600 2B82               M         incf       dig12
000602 5F86               M         subwf      tot, f
000604 0786               M         decf       tot, f
000606 EF?? F???          M         goto       loop3
00060A 0E09               M loop2   movlw      d'9'
00060C 6586               M         cpfsgt     tot
00060E EF?? F???          M         goto       loop1
000612 2A7C               M         incf       dig2
000614 5F86               M         subwf      tot, f
000616 0786               M         decf       tot, f
000618 EF?? F???          M         goto       loop2
00061C 0E00               M loop1   movlw      d'0'
00061E 6586               M         cpfsgt     tot
000620 EF?? F???          M         goto       fin
000624 2A7D               M         incf       dig3
000626 5F86               M         subwf      tot, f
000628 0786               M         decf       tot, f
00062A EF?? F???          M         goto       loop1
00062E                    M fin     
00062E EC?? F???          M         call    WrtNum
000632 EC?? F???      00932          call       show_MG
000636 C075 F0B4      00933          movff      DOUT, sdirection
00063A                00934 steerloop
00063A 0E46           00935          movlw      d'70'
00063C 6FB7           00936          movwf      pwmR
00063E 6FB6           00937          movwf      pwmL
000640 EC?? F???      00938          call       mginit
                      00939          mg_read    0x08
                          M                 
000644 0E08               M         movlw   0x08
000646 6E73               M         movwf   ADD
000648 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00064C 0E00               M         movlw      b'0'
00064E 6F82               M         movwf      dig12
000650 6E7C               M         movwf      dig2
000652 6E7D               M         movwf      dig3
                          M         
000654 5075               M         movf       DOUT, W
000656 6F86               M         movwf      tot
000658 0E63               M loop3   movlw      d'99'
00065A 6586               M         cpfsgt     tot
00065C EF?? F???          M         goto       loop2
000660 2B82               M         incf       dig12
000662 5F86               M         subwf      tot, f
000664 0786               M         decf       tot, f
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000666 EF?? F???          M         goto       loop3
00066A 0E09               M loop2   movlw      d'9'
00066C 6586               M         cpfsgt     tot
00066E EF?? F???          M         goto       loop1
000672 2A7C               M         incf       dig2
000674 5F86               M         subwf      tot, f
000676 0786               M         decf       tot, f
000678 EF?? F???          M         goto       loop2
00067C 0E00               M loop1   movlw      d'0'
00067E 6586               M         cpfsgt     tot
000680 EF?? F???          M         goto       fin
000684 2A7D               M         incf       dig3
000686 5F86               M         subwf      tot, f
000688 0786               M         decf       tot, f
00068A EF?? F???          M         goto       loop1
00068E                    M fin     
00068E EC?? F???          M         call    WrtNum
000692 C075 F0B5      00940          movff      DOUT, cdirection
000696 EC?? F???      00941          call       mginit
00069A EC?? F???      00942          call       show_MG
00069E 51B5           00943          movf       cdirection, W
0006A0 65B4           00944          cpfsgt     sdirection
0006A2 EF?? F???      00945          goto       stleft
0006A6 61B4           00946          cpfslt     sdirection
0006A8 EF?? F???      00947          goto       stright
0006AC EF?? F???      00948          goto       steerend
                      00949          
0006B0                00950 stleft   
0006B0 C0B4 F088      00951          movff      sdirection, temp
0006B4 51B5           00952          movf       cdirection, W
0006B6 5F88           00953          subwf      temp
0006B8 C088 F0B8      00954          movff      temp, dirdiff
0006BC 51B8           00955          movf       dirdiff, W
0006BE 5FB6           00956          subwf      pwmL
0006C0 27B7           00957          addwf      pwmR
0006C2 5FB6           00958          subwf      pwmL
0006C4 27B7           00959          addwf      pwmR
0006C6 EF?? F???      00960          goto       steerend
                      00961          
0006CA                00962 stright
0006CA 51B4           00963          movf       sdirection, W
0006CC 5FB5           00964          subwf      cdirection
0006CE C0B5 F0B8      00965          movff      cdirection, dirdiff
0006D2 51B8           00966          movf       dirdiff, W
0006D4 5FB7           00967          subwf      pwmR
0006D6 27B6           00968          addwf      pwmL
0006D8 5FB7           00969          subwf      pwmR
0006DA 27B6           00970          addwf      pwmL
0006DC EF?? F???      00971          goto       steerend
0006E0                00972 steerend
0006E0 EC?? F???      00973          call       setPWM
0006E4 EC?? F???      00974          call       sdelay
0006E8 EF?? F???      00975          goto       steerloop
                      00976 
                      00977 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Gyroscope Test;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00978          
0006EC                00979 gyroinitt
                      00980          write Ready
  0000                    M         local   loop_
0006EC 0E??               M         movlw   upper Ready
0006EE 6EF8               M         movwf   TBLPTRU
0006F0 0E??               M         movlw   high Ready
0006F2 6EF7               M         movwf   TBLPTRH
0006F4 0E??               M         movlw   low Ready
0006F6 6EF6               M         movwf   TBLPTRL
0006F8 0008               M         tblrd*
0006FA 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0006FC                    M         loop_   
0006FC EC?? F???          M         call     WrtLCD
000700 000B               M         tblrd+*
000702 50F5               M         movf     TABLAT, W
000704 E1??               M         bnz     loop_
000706 EC?? F???      00981         call    Gyroinit
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00070A 0E20           00982         movlw   0x20
00070C 6E73           00983         movwf   ADD
00070E 0E0A           00984         movlw   b'00001010'
000710 6E74           00985         movwf   DAT
000712 EC?? F???      00986         call    write_gyro
                      00987         
000716 0E24           00988         movlw   0x24
000718 6E73           00989         movwf   ADD
00071A 0E00           00990         movlw   b'00000000'
00071C 6E74           00991         movwf   DAT
00071E EC?? F???      00992         call    write_gyro
000722 0012           00993         return
                      00994         ;movlw  0x23
                      00995         ;movwf  ADD
                      00996         ;movlw  b'00110000'
                      00997         ;movwf  DAT
                      00998         ;call   write_gyro
000724                00999 gyroloop
000724 EC?? F???      01000         call    sdelay
                      01001         ;call   Gyroinit
000728 EC?? F???      01002         call    ClrLCD
00072C EC?? F???      01003         call    show_gyro
000730 EC?? F???      01004         call    tdelay
000734 EC?? F???      01005         call    tdelay
000738 EC?? F???      01006         call    tdelay
00073C EC?? F???      01007         call    tdelay
000740 EC?? F???      01008         call    tdelay
000744 EC?? F???      01009         call    tdelay
000748 EC?? F???      01010         call    tdelay
00074C EC?? F???      01011         call    tdelay
000750 EF?? F???      01012         goto    gyroloop
                      01013             
                      01014 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Magnetormeter Test;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01015 
                      01016 
                      01017          
000754 6A73           01018 mginit  clrf            ADD
000756 0E70           01019          movlw          0x70
000758 6E74           01020          movwf          DAT
00075A EC?? F???      01021          call           write_mg
                      01022          
00075E 2A73           01023          incf           ADD
000760 0EA0           01024          movlw          0xA0
000762 6E74           01025          movwf          DAT
000764 EC?? F???      01026          call           write_mg
                      01027          
000768 2A73           01028          incf           ADD
00076A 6A74           01029          clrf           DAT
00076C EC?? F???      01030          call           write_mg
000770 EC?? F???      01031          call           tdelay
000774 0012           01032          return
                      01033 
000776 EC?? F???      01034 mgtest  call        mginit       
00077A                01035 mgloop
00077A EC?? F???      01036         call            show_MG
00077E EC?? F???      01037         call            tdelay
000782 EC?? F???      01038         call            tdelay
000786 EC?? F???      01039         call            tdelay
00078A EC?? F???      01040         call            tdelay
00078E EC?? F???      01041         call            tdelay
000792 EC?? F???      01042         call            tdelay
000796 EC?? F???      01043         call            tdelay
00079A EC?? F???      01044         call            tdelay
00079E EF?? F???      01045         goto            mgtest
                      01046          
                      01047 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Optical Encoder Test;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01048 
                      01049 ;resetEnc
                      01050 ;        clrf           rightE
                      01051 ;        clrf           leftE    
0007A2                01052 encTest 
0007A2 6A8A           01053         clrf            LATB
0007A4 0EFF           01054          movlw          b'11111111'
0007A6 6E93           01055          movwf          TRISB
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0007A8 6A94           01056          clrf           TRISC
0007AA EC?? F???      01057          call           setints
0007AE EC?? F???      01058 etloop   call           tdelay
0007B2 EC?? F???      01059          call           ClrLCD
                      01060          write          Done5
  0000                    M         local   loop_
0007B6 0E??               M         movlw   upper Done5
0007B8 6EF8               M         movwf   TBLPTRU
0007BA 0E??               M         movlw   high Done5
0007BC 6EF7               M         movwf   TBLPTRH
0007BE 0E??               M         movlw   low Done5
0007C0 6EF6               M         movwf   TBLPTRL
0007C2 0008               M         tblrd*
0007C4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0007C6                    M         loop_   
0007C6 EC?? F???          M         call     WrtLCD
0007CA 000B               M         tblrd+*
0007CC 50F5               M         movf     TABLAT, W
0007CE E1??               M         bnz     loop_
                      01061          sepdig         rightE
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0007D0 0E00               M         movlw      b'0'
0007D2 6F82               M         movwf      dig12
0007D4 6E7C               M         movwf      dig2
0007D6 6E7D               M         movwf      dig3
                          M         
0007D8 51A3               M         movf       rightE, W
0007DA 6F86               M         movwf      tot
0007DC 0E63               M loop3   movlw      d'99'
0007DE 6586               M         cpfsgt     tot
0007E0 EF?? F???          M         goto       loop2
0007E4 2B82               M         incf       dig12
0007E6 5F86               M         subwf      tot, f
0007E8 0786               M         decf       tot, f
0007EA EF?? F???          M         goto       loop3
0007EE 0E09               M loop2   movlw      d'9'
0007F0 6586               M         cpfsgt     tot
0007F2 EF?? F???          M         goto       loop1
0007F6 2A7C               M         incf       dig2
0007F8 5F86               M         subwf      tot, f
0007FA 0786               M         decf       tot, f
0007FC EF?? F???          M         goto       loop2
000800 0E00               M loop1   movlw      d'0'
000802 6586               M         cpfsgt     tot
000804 EF?? F???          M         goto       fin
000808 2A7D               M         incf       dig3
00080A 5F86               M         subwf      tot, f
00080C 0786               M         decf       tot, f
00080E EF?? F???          M         goto       loop1
000812                    M fin     
000812 EC?? F???      01062          call           WrtNum2
                      01063          write          Done6
  0000                    M         local   loop_
000816 0E??               M         movlw   upper Done6
000818 6EF8               M         movwf   TBLPTRU
00081A 0E??               M         movlw   high Done6
00081C 6EF7               M         movwf   TBLPTRH
00081E 0E??               M         movlw   low Done6
000820 6EF6               M         movwf   TBLPTRL
000822 0008               M         tblrd*
000824 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000826                    M         loop_   
000826 EC?? F???          M         call     WrtLCD
00082A 000B               M         tblrd+*
00082C 50F5               M         movf     TABLAT, W
00082E E1??               M         bnz     loop_
                      01064          sepdig         leftE
  0000                    M         local      loop3
  0000                    M         local      loop2
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local      loop1
  0000                    M         local      fin
000830 0E00               M         movlw      b'0'
000832 6F82               M         movwf      dig12
000834 6E7C               M         movwf      dig2
000836 6E7D               M         movwf      dig3
                          M         
000838 51A4               M         movf       leftE, W
00083A 6F86               M         movwf      tot
00083C 0E63               M loop3   movlw      d'99'
00083E 6586               M         cpfsgt     tot
000840 EF?? F???          M         goto       loop2
000844 2B82               M         incf       dig12
000846 5F86               M         subwf      tot, f
000848 0786               M         decf       tot, f
00084A EF?? F???          M         goto       loop3
00084E 0E09               M loop2   movlw      d'9'
000850 6586               M         cpfsgt     tot
000852 EF?? F???          M         goto       loop1
000856 2A7C               M         incf       dig2
000858 5F86               M         subwf      tot, f
00085A 0786               M         decf       tot, f
00085C EF?? F???          M         goto       loop2
000860 0E00               M loop1   movlw      d'0'
000862 6586               M         cpfsgt     tot
000864 EF?? F???          M         goto       fin
000868 2A7D               M         incf       dig3
00086A 5F86               M         subwf      tot, f
00086C 0786               M         decf       tot, f
00086E EF?? F???          M         goto       loop1
000872                    M fin     
000872 EC?? F???      01065          call           WrtNum2
                      01066         ; btfsc         PORTB, 1
                      01067         ; call          resetEnc
000876 908B           01068          bcf            LATC, 0
000878 B081           01069          btfsc          PORTB, 0
00087A 808B           01070          bsf            LATC, 0
00087C EF?? F???      01071          goto           etloop
000880 EF?? F???      01072          goto           etloop
                      01073 
000884                01074 main    
000884 0E8F           01075         movlw       b'10001111'
000886 6E92           01076         movwf       TRISA
000888 0EFE           01077         movlw       b'11111110'
00088A 6E93           01078         movwf       TRISB
00088C 0E98           01079         movlw       b'10011000'
00088E 6E94           01080         movwf       TRISC
000890 0E07           01081         movlw       b'0111'
000892 6E96           01082         movwf       TRISE
000894 6A89           01083         clrf        LATA
000896 6A8A           01084         clrf        LATB
000898 6A8B           01085         clrf        LATC
00089A 6A8D           01086         clrf        LATE
                      01087         write           Ready
  0000                    M         local   loop_
00089C 0E??               M         movlw   upper Ready
00089E 6EF8               M         movwf   TBLPTRU
0008A0 0E??               M         movlw   high Ready
0008A2 6EF7               M         movwf   TBLPTRH
0008A4 0E??               M         movlw   low Ready
0008A6 6EF6               M         movwf   TBLPTRL
0008A8 0008               M         tblrd*
0008AA 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0008AC                    M         loop_   
0008AC EC?? F???          M         call     WrtLCD
0008B0 000B               M         tblrd+*
0008B2 50F5               M         movf     TABLAT, W
0008B4 E1??               M         bnz     loop_
0008B6 EC?? F???      01088         call    keywait
                      01089         ;call   RTCinit
0008BA EC?? F???      01090         call    PWMinit
0008BE EC?? F???      01091         call    ClrLCD
                      01092          
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0008C2                01093 mainloop
0008C2 9889           01094          bcf       LATA, 4
0008C4 EC?? F???      01095          call      US_module
0008C8 EF?? F???      01096          goto      mainloop
0008CC                01097 barrel_detected
                      01098          ;bsf      LATB, 3
                      01099          ;btfsc    PORTC, 7
                      01100          ;bsf      LATB, 4
0008CC 8889           01101          bsf       LATA, 4
0008CE A1A2           01102          btfss     bt, 0
0008D0 EC?? F???      01103          call      addB
0008D4 81A2           01104          bsf       bt, 0
0008D6 0E07           01105          movlw     d'7'
0008D8 639E           01106          cpfseq    numBar
0008DA 0012           01107          return
0008DC EF?? F???      01108          goto       finish
                      01109 
0008E0                01110 keywait  
0008E0 EC?? F???      01111          call      sdelay
0008E4 A881           01112 kloop    btfss     PORTB, 4
0008E6 EF?? F???      01113          goto      kloop
0008EA                01114 kloop2
0008EA B881           01115          btfsc     PORTB, 4
0008EC EF?? F???      01116          goto      kloop2
0008F0 0012           01117          return
0008F2                01118 addB    
0008F2 2B9E           01119          incf      numBar
0008F4 EF?? F???      01120          goto      loopUS2
0008F8                01121 tallHandle
0008F8 2BBE           01122          incf      tallB
0008FA B080           01123          btfsc     PORTA, 0
0008FC 2BA1           01124          incf      Full
0008FE B280           01125          btfsc     PORTA, 1
000900 2BA0           01126          incf      Half
000902 A280           01127          btfss     PORTA, 1
000904 2B9F           01128          incf      Empty
000906 B080           01129          btfsc     PORTA, 0
000908 07A0           01130          decf      Half
00090A 8FBD           01131          bsf       bheight, 7
00090C EC?? F???      01132          call      find_CB
000910 0012           01133          return
                      01134         
000912                01135 shortHandle
000912 9FBD           01136          bcf       bheight, 7
000914 2BBF           01137          incf      shortB
000916 B480           01138          btfsc     PORTA, 2
000918 2BA1           01139          incf      Full
00091A B680           01140          btfsc     PORTA, 3
00091C 2BA0           01141          incf      Half
00091E A680           01142          btfss     PORTA, 3
000920 2B9F           01143          incf      Empty
000922 B480           01144          btfsc     PORTA, 2
000924 07A0           01145          decf      Half
000926 EC?? F???      01146          call      find_CB
00092A 0012           01147          return
00092C                01148 find_CB
00092C A1A5           01149          btfss     currentB, 0
00092E EF?? F???      01150          goto      sb1
000932 A3A5           01151          btfss     currentB, 1
000934 EF?? F???      01152          goto      sb2
000938 A5A5           01153          btfss     currentB, 2
00093A EF?? F???      01154          goto      sb3
00093E A7A5           01155          btfss     currentB, 3
000940 EF?? F???      01156          goto      sb4
000944 A9A5           01157          btfss     currentB, 4
000946 EF?? F???      01158          goto      sb5
00094A ABA5           01159          btfss     currentB, 5
00094C EF?? F???      01160          goto      sb6
000950 ADA5           01161          btfss     currentB, 6
000952 EF?? F???      01162          goto      sb7
                      01163 
                      01164          
000956 81A5           01165 sb1      bsf       currentB, 0
000958 BFBD           01166          btfsc     bheight, 7
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00095A 81BD           01167          bsf       bheight, 0
00095C A1BD           01168          btfss     bheight, 0
                      01169          Save_BarrelL   b1L, b1Li
00095E C0A3 F0A6          M             movff   rightE, b1L
000962 6BA7               M             clrf           b1Li
000964 B480               M             btfsc          PORTA, 2
000966 85A7               M             bsf            b1Li, 2
000968 B680               M             btfsc          PORTA, 3
00096A 83A7               M             bsf            b1Li, 1
00096C A680               M             btfss          PORTA, 3
00096E 81A7               M             bsf            b1Li, 0
000970 B480               M             btfsc          PORTA, 2
000972 93A7               M             bcf            b1Li, 1
000974 B1BD           01170          btfsc     bheight, 0 
                      01171          Save_BarrelH   b1L, b1Li
000976 C0A3 F0A6          M             movff   rightE, b1L
00097A 6BA7               M             clrf           b1Li
00097C B080               M             btfsc          PORTA, 0
00097E 85A7               M             bsf            b1Li, 2
000980 B280               M             btfsc          PORTA, 1
000982 83A7               M             bsf            b1Li, 1
000984 A280               M             btfss          PORTA, 1
000986 81A7               M             bsf            b1Li, 0
000988 B080               M             btfsc          PORTA, 0
00098A 93A7               M             bcf            b1Li, 1
00098C 0012           01172          return
00098E 83A5           01173 sb2      bsf       currentB, 1
000990 BFBD           01174          btfsc     bheight, 7
000992 83BD           01175          bsf       bheight, 1
000994 A3BD           01176          btfss     bheight, 1
                      01177          Save_BarrelL   b2L, b2Li
000996 C0A3 F0A8          M             movff   rightE, b2L
00099A 6BA9               M             clrf           b2Li
00099C B480               M             btfsc          PORTA, 2
00099E 85A9               M             bsf            b2Li, 2
0009A0 B680               M             btfsc          PORTA, 3
0009A2 83A9               M             bsf            b2Li, 1
0009A4 A680               M             btfss          PORTA, 3
0009A6 81A9               M             bsf            b2Li, 0
0009A8 B480               M             btfsc          PORTA, 2
0009AA 93A9               M             bcf            b2Li, 1
0009AC B3BD           01178          btfsc     bheight, 1 
                      01179          Save_BarrelH   b2L, b2Li
0009AE C0A3 F0A8          M             movff   rightE, b2L
0009B2 6BA9               M             clrf           b2Li
0009B4 B080               M             btfsc          PORTA, 0
0009B6 85A9               M             bsf            b2Li, 2
0009B8 B280               M             btfsc          PORTA, 1
0009BA 83A9               M             bsf            b2Li, 1
0009BC A280               M             btfss          PORTA, 1
0009BE 81A9               M             bsf            b2Li, 0
0009C0 B080               M             btfsc          PORTA, 0
0009C2 93A9               M             bcf            b2Li, 1
0009C4 0012           01180          return
0009C6 85A5           01181 sb3      bsf       currentB, 2
0009C8 BFBD           01182          btfsc     bheight, 7
0009CA 85BD           01183          bsf       bheight, 2
0009CC A5BD           01184          btfss     bheight, 2
                      01185          Save_BarrelL   b3L, b3Li
0009CE C0A3 F0AA          M             movff   rightE, b3L
0009D2 6BAB               M             clrf           b3Li
0009D4 B480               M             btfsc          PORTA, 2
0009D6 85AB               M             bsf            b3Li, 2
0009D8 B680               M             btfsc          PORTA, 3
0009DA 83AB               M             bsf            b3Li, 1
0009DC A680               M             btfss          PORTA, 3
0009DE 81AB               M             bsf            b3Li, 0
0009E0 B480               M             btfsc          PORTA, 2
0009E2 93AB               M             bcf            b3Li, 1
0009E4 B5BD           01186          btfsc     bheight, 2 
                      01187          Save_BarrelH   b3L, b3Li
0009E6 C0A3 F0AA          M             movff   rightE, b3L
0009EA 6BAB               M             clrf           b3Li
0009EC B080               M             btfsc          PORTA, 0
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0009EE 85AB               M             bsf            b3Li, 2
0009F0 B280               M             btfsc          PORTA, 1
0009F2 83AB               M             bsf            b3Li, 1
0009F4 A280               M             btfss          PORTA, 1
0009F6 81AB               M             bsf            b3Li, 0
0009F8 B080               M             btfsc          PORTA, 0
0009FA 93AB               M             bcf            b3Li, 1
0009FC 0012           01188          return
0009FE 87A5           01189 sb4      bsf       currentB, 3
000A00 BFBD           01190          btfsc     bheight, 7
000A02 87BD           01191          bsf       bheight, 3
000A04 A7BD           01192          btfss     bheight, 3
                      01193          Save_BarrelL   b4L, b4Li
000A06 C0A3 F0AC          M             movff   rightE, b4L
000A0A 6BAD               M             clrf           b4Li
000A0C B480               M             btfsc          PORTA, 2
000A0E 85AD               M             bsf            b4Li, 2
000A10 B680               M             btfsc          PORTA, 3
000A12 83AD               M             bsf            b4Li, 1
000A14 A680               M             btfss          PORTA, 3
000A16 81AD               M             bsf            b4Li, 0
000A18 B480               M             btfsc          PORTA, 2
000A1A 93AD               M             bcf            b4Li, 1
000A1C B7BD           01194          btfsc     bheight, 3 
                      01195          Save_BarrelH   b4L, b4Li
000A1E C0A3 F0AC          M             movff   rightE, b4L
000A22 6BAD               M             clrf           b4Li
000A24 B080               M             btfsc          PORTA, 0
000A26 85AD               M             bsf            b4Li, 2
000A28 B280               M             btfsc          PORTA, 1
000A2A 83AD               M             bsf            b4Li, 1
000A2C A280               M             btfss          PORTA, 1
000A2E 81AD               M             bsf            b4Li, 0
000A30 B080               M             btfsc          PORTA, 0
000A32 93AD               M             bcf            b4Li, 1
000A34 0012           01196          return
000A36 89A5           01197 sb5      bsf       currentB, 4
000A38 BFBD           01198          btfsc     bheight, 7
000A3A 89BD           01199          bsf       bheight, 4
000A3C A9BD           01200          btfss     bheight, 4
                      01201          Save_BarrelL   b5L, b5Li
000A3E C0A3 F0AE          M             movff   rightE, b5L
000A42 6BAF               M             clrf           b5Li
000A44 B480               M             btfsc          PORTA, 2
000A46 85AF               M             bsf            b5Li, 2
000A48 B680               M             btfsc          PORTA, 3
000A4A 83AF               M             bsf            b5Li, 1
000A4C A680               M             btfss          PORTA, 3
000A4E 81AF               M             bsf            b5Li, 0
000A50 B480               M             btfsc          PORTA, 2
000A52 93AF               M             bcf            b5Li, 1
000A54 B9BD           01202          btfsc     bheight, 4 
                      01203          Save_BarrelH   b5L, b5Li
000A56 C0A3 F0AE          M             movff   rightE, b5L
000A5A 6BAF               M             clrf           b5Li
000A5C B080               M             btfsc          PORTA, 0
000A5E 85AF               M             bsf            b5Li, 2
000A60 B280               M             btfsc          PORTA, 1
000A62 83AF               M             bsf            b5Li, 1
000A64 A280               M             btfss          PORTA, 1
000A66 81AF               M             bsf            b5Li, 0
000A68 B080               M             btfsc          PORTA, 0
000A6A 93AF               M             bcf            b5Li, 1
000A6C 0012           01204          return
000A6E 8BA5           01205 sb6      bsf       currentB, 5
000A70 BFBD           01206          btfsc     bheight, 7
000A72 8BBD           01207          bsf       bheight, 5
000A74 ABBD           01208          btfss     bheight, 5
                      01209          Save_BarrelL   b6L, b6Li
000A76 C0A3 F0B0          M             movff   rightE, b6L
000A7A 6BB1               M             clrf           b6Li
000A7C B480               M             btfsc          PORTA, 2
000A7E 85B1               M             bsf            b6Li, 2
000A80 B680               M             btfsc          PORTA, 3
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000A82 83B1               M             bsf            b6Li, 1
000A84 A680               M             btfss          PORTA, 3
000A86 81B1               M             bsf            b6Li, 0
000A88 B480               M             btfsc          PORTA, 2
000A8A 93B1               M             bcf            b6Li, 1
000A8C BBBD           01210          btfsc     bheight, 5 
                      01211          Save_BarrelH   b6L, b6Li
000A8E C0A3 F0B0          M             movff   rightE, b6L
000A92 6BB1               M             clrf           b6Li
000A94 B080               M             btfsc          PORTA, 0
000A96 85B1               M             bsf            b6Li, 2
000A98 B280               M             btfsc          PORTA, 1
000A9A 83B1               M             bsf            b6Li, 1
000A9C A280               M             btfss          PORTA, 1
000A9E 81B1               M             bsf            b6Li, 0
000AA0 B080               M             btfsc          PORTA, 0
000AA2 93B1               M             bcf            b6Li, 1
000AA4 0012           01212          return
000AA6 8DA5           01213 sb7      bsf       currentB, 6
000AA8 BFBD           01214          btfsc     bheight, 7
000AAA 8DBD           01215          bsf       bheight, 6
000AAC ADBD           01216          btfss     bheight, 6
                      01217          Save_BarrelL   b7L, b7Li
000AAE C0A3 F0B2          M             movff   rightE, b7L
000AB2 6BB3               M             clrf           b7Li
000AB4 B480               M             btfsc          PORTA, 2
000AB6 85B3               M             bsf            b7Li, 2
000AB8 B680               M             btfsc          PORTA, 3
000ABA 83B3               M             bsf            b7Li, 1
000ABC A680               M             btfss          PORTA, 3
000ABE 81B3               M             bsf            b7Li, 0
000AC0 B480               M             btfsc          PORTA, 2
000AC2 93B3               M             bcf            b7Li, 1
000AC4 BDBD           01218          btfsc     bheight, 6 
                      01219          Save_BarrelH   b7L, b7Li
000AC6 C0A3 F0B2          M             movff   rightE, b7L
000ACA 6BB3               M             clrf           b7Li
000ACC B080               M             btfsc          PORTA, 0
000ACE 85B3               M             bsf            b7Li, 2
000AD0 B280               M             btfsc          PORTA, 1
000AD2 83B3               M             bsf            b7Li, 1
000AD4 A280               M             btfss          PORTA, 1
000AD6 81B3               M             bsf            b7Li, 0
000AD8 B080               M             btfsc          PORTA, 0
000ADA 93B3               M             bcf            b7Li, 1
000ADC 0012           01220          return
                      01221 
000ADE                01222 finish  ; call     fgetoptime
                      01223         ; call     keywait
000ADE 988B           01224          bcf       LATC, 4
000AE0 6AE8           01225          clrf       WREG
000AE2 6EBE           01226          movwf      CCPR1L
000AE4 6EBB           01227          movwf      CCPR2L
000AE6 EC?? F???      01228          call      ClrLCD
                      01229          sepdig    bheight
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000AEA 0E00               M         movlw      b'0'
000AEC 6F82               M         movwf      dig12
000AEE 6E7C               M         movwf      dig2
000AF0 6E7D               M         movwf      dig3
                          M         
000AF2 51BD               M         movf       bheight, W
000AF4 6F86               M         movwf      tot
000AF6 0E63               M loop3   movlw      d'99'
000AF8 6586               M         cpfsgt     tot
000AFA EF?? F???          M         goto       loop2
000AFE 2B82               M         incf       dig12
000B00 5F86               M         subwf      tot, f
000B02 0786               M         decf       tot, f
000B04 EF?? F???          M         goto       loop3
000B08 0E09               M loop2   movlw      d'9'
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000B0A 6586               M         cpfsgt     tot
000B0C EF?? F???          M         goto       loop1
000B10 2A7C               M         incf       dig2
000B12 5F86               M         subwf      tot, f
000B14 0786               M         decf       tot, f
000B16 EF?? F???          M         goto       loop2
000B1A 0E00               M loop1   movlw      d'0'
000B1C 6586               M         cpfsgt     tot
000B1E EF?? F???          M         goto       fin
000B22 2A7D               M         incf       dig3
000B24 5F86               M         subwf      tot, f
000B26 0786               M         decf       tot, f
000B28 EF?? F???          M         goto       loop1
000B2C                    M fin     
000B2C EC?? F???      01230          call      WrtNum
000B30 EC?? F???      01231          call      keywait
000B34 EC?? F???      01232          call      ClrLCD
                      01233          write     Done
  0000                    M         local   loop_
000B38 0E??               M         movlw   upper Done
000B3A 6EF8               M         movwf   TBLPTRU
000B3C 0E??               M         movlw   high Done
000B3E 6EF7               M         movwf   TBLPTRH
000B40 0E??               M         movlw   low Done
000B42 6EF6               M         movwf   TBLPTRL
000B44 0008               M         tblrd*
000B46 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000B48                    M         loop_   
000B48 EC?? F???          M         call     WrtLCD
000B4C 000B               M         tblrd+*
000B4E 50F5               M         movf     TABLAT, W
000B50 E1??               M         bnz     loop_
                      01234          sepdig    numBar
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000B52 0E00               M         movlw      b'0'
000B54 6F82               M         movwf      dig12
000B56 6E7C               M         movwf      dig2
000B58 6E7D               M         movwf      dig3
                          M         
000B5A 519E               M         movf       numBar, W
000B5C 6F86               M         movwf      tot
000B5E 0E63               M loop3   movlw      d'99'
000B60 6586               M         cpfsgt     tot
000B62 EF?? F???          M         goto       loop2
000B66 2B82               M         incf       dig12
000B68 5F86               M         subwf      tot, f
000B6A 0786               M         decf       tot, f
000B6C EF?? F???          M         goto       loop3
000B70 0E09               M loop2   movlw      d'9'
000B72 6586               M         cpfsgt     tot
000B74 EF?? F???          M         goto       loop1
000B78 2A7C               M         incf       dig2
000B7A 5F86               M         subwf      tot, f
000B7C 0786               M         decf       tot, f
000B7E EF?? F???          M         goto       loop2
000B82 0E00               M loop1   movlw      d'0'
000B84 6586               M         cpfsgt     tot
000B86 EF?? F???          M         goto       fin
000B8A 2A7D               M         incf       dig3
000B8C 5F86               M         subwf      tot, f
000B8E 0786               M         decf       tot, f
000B90 EF?? F???          M         goto       loop1
000B94                    M fin     
000B94 EC?? F???      01235          call      WrtNum
                      01236          write     Done2
  0000                    M         local   loop_
000B98 0E??               M         movlw   upper Done2
000B9A 6EF8               M         movwf   TBLPTRU
000B9C 0E??               M         movlw   high Done2
000B9E 6EF7               M         movwf   TBLPTRH
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000BA0 0E??               M         movlw   low Done2
000BA2 6EF6               M         movwf   TBLPTRL
000BA4 0008               M         tblrd*
000BA6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000BA8                    M         loop_   
000BA8 EC?? F???          M         call     WrtLCD
000BAC 000B               M         tblrd+*
000BAE 50F5               M         movf     TABLAT, W
000BB0 E1??               M         bnz     loop_
                      01237          sepdig    Full
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000BB2 0E00               M         movlw      b'0'
000BB4 6F82               M         movwf      dig12
000BB6 6E7C               M         movwf      dig2
000BB8 6E7D               M         movwf      dig3
                          M         
000BBA 51A1               M         movf       Full, W
000BBC 6F86               M         movwf      tot
000BBE 0E63               M loop3   movlw      d'99'
000BC0 6586               M         cpfsgt     tot
000BC2 EF?? F???          M         goto       loop2
000BC6 2B82               M         incf       dig12
000BC8 5F86               M         subwf      tot, f
000BCA 0786               M         decf       tot, f
000BCC EF?? F???          M         goto       loop3
000BD0 0E09               M loop2   movlw      d'9'
000BD2 6586               M         cpfsgt     tot
000BD4 EF?? F???          M         goto       loop1
000BD8 2A7C               M         incf       dig2
000BDA 5F86               M         subwf      tot, f
000BDC 0786               M         decf       tot, f
000BDE EF?? F???          M         goto       loop2
000BE2 0E00               M loop1   movlw      d'0'
000BE4 6586               M         cpfsgt     tot
000BE6 EF?? F???          M         goto       fin
000BEA 2A7D               M         incf       dig3
000BEC 5F86               M         subwf      tot, f
000BEE 0786               M         decf       tot, f
000BF0 EF?? F???          M         goto       loop1
000BF4                    M fin     
000BF4 EC?? F???      01238          call      WrtNum
                      01239          write     Done3
  0000                    M         local   loop_
000BF8 0E??               M         movlw   upper Done3
000BFA 6EF8               M         movwf   TBLPTRU
000BFC 0E??               M         movlw   high Done3
000BFE 6EF7               M         movwf   TBLPTRH
000C00 0E??               M         movlw   low Done3
000C02 6EF6               M         movwf   TBLPTRL
000C04 0008               M         tblrd*
000C06 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000C08                    M         loop_   
000C08 EC?? F???          M         call     WrtLCD
000C0C 000B               M         tblrd+*
000C0E 50F5               M         movf     TABLAT, W
000C10 E1??               M         bnz     loop_
                      01240          sepdig    Half
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000C12 0E00               M         movlw      b'0'
000C14 6F82               M         movwf      dig12
000C16 6E7C               M         movwf      dig2
000C18 6E7D               M         movwf      dig3
                          M         
000C1A 51A0               M         movf       Half, W
000C1C 6F86               M         movwf      tot
000C1E 0E63               M loop3   movlw      d'99'
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000C20 6586               M         cpfsgt     tot
000C22 EF?? F???          M         goto       loop2
000C26 2B82               M         incf       dig12
000C28 5F86               M         subwf      tot, f
000C2A 0786               M         decf       tot, f
000C2C EF?? F???          M         goto       loop3
000C30 0E09               M loop2   movlw      d'9'
000C32 6586               M         cpfsgt     tot
000C34 EF?? F???          M         goto       loop1
000C38 2A7C               M         incf       dig2
000C3A 5F86               M         subwf      tot, f
000C3C 0786               M         decf       tot, f
000C3E EF?? F???          M         goto       loop2
000C42 0E00               M loop1   movlw      d'0'
000C44 6586               M         cpfsgt     tot
000C46 EF?? F???          M         goto       fin
000C4A 2A7D               M         incf       dig3
000C4C 5F86               M         subwf      tot, f
000C4E 0786               M         decf       tot, f
000C50 EF?? F???          M         goto       loop1
000C54                    M fin     
000C54 EC?? F???      01241          call      WrtNum
                      01242          write     Done4
  0000                    M         local   loop_
000C58 0E??               M         movlw   upper Done4
000C5A 6EF8               M         movwf   TBLPTRU
000C5C 0E??               M         movlw   high Done4
000C5E 6EF7               M         movwf   TBLPTRH
000C60 0E??               M         movlw   low Done4
000C62 6EF6               M         movwf   TBLPTRL
000C64 0008               M         tblrd*
000C66 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000C68                    M         loop_   
000C68 EC?? F???          M         call     WrtLCD
000C6C 000B               M         tblrd+*
000C6E 50F5               M         movf     TABLAT, W
000C70 E1??               M         bnz     loop_
                      01243          sepdig    Empty
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000C72 0E00               M         movlw      b'0'
000C74 6F82               M         movwf      dig12
000C76 6E7C               M         movwf      dig2
000C78 6E7D               M         movwf      dig3
                          M         
000C7A 519F               M         movf       Empty, W
000C7C 6F86               M         movwf      tot
000C7E 0E63               M loop3   movlw      d'99'
000C80 6586               M         cpfsgt     tot
000C82 EF?? F???          M         goto       loop2
000C86 2B82               M         incf       dig12
000C88 5F86               M         subwf      tot, f
000C8A 0786               M         decf       tot, f
000C8C EF?? F???          M         goto       loop3
000C90 0E09               M loop2   movlw      d'9'
000C92 6586               M         cpfsgt     tot
000C94 EF?? F???          M         goto       loop1
000C98 2A7C               M         incf       dig2
000C9A 5F86               M         subwf      tot, f
000C9C 0786               M         decf       tot, f
000C9E EF?? F???          M         goto       loop2
000CA2 0E00               M loop1   movlw      d'0'
000CA4 6586               M         cpfsgt     tot
000CA6 EF?? F???          M         goto       fin
000CAA 2A7D               M         incf       dig3
000CAC 5F86               M         subwf      tot, f
000CAE 0786               M         decf       tot, f
000CB0 EF?? F???          M         goto       loop1
000CB4                    M fin     
000CB4 EC?? F???      01244          call      WrtNum
000CB8 EC?? F???      01245          call      sdelay        
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000CBC EC?? F???      01246          call      sdelay        
000CC0 EC?? F???      01247          call      sdelay
000CC4 A281           01248 dwait    btfss     PORTB, 1
000CC6 EF?? F???      01249         goto       dwait
                      01250         
000CCA EC?? F???      01251 finish2 call       ClrLCD
                      01252         write      Done5
  0000                    M         local   loop_
000CCE 0E??               M         movlw   upper Done5
000CD0 6EF8               M         movwf   TBLPTRU
000CD2 0E??               M         movlw   high Done5
000CD4 6EF7               M         movwf   TBLPTRH
000CD6 0E??               M         movlw   low Done5
000CD8 6EF6               M         movwf   TBLPTRL
000CDA 0008               M         tblrd*
000CDC 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000CDE                    M         loop_   
000CDE EC?? F???          M         call     WrtLCD
000CE2 000B               M         tblrd+*
000CE4 50F5               M         movf     TABLAT, W
000CE6 E1??               M         bnz     loop_
                      01253         sepdig     rightE
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000CE8 0E00               M         movlw      b'0'
000CEA 6F82               M         movwf      dig12
000CEC 6E7C               M         movwf      dig2
000CEE 6E7D               M         movwf      dig3
                          M         
000CF0 51A3               M         movf       rightE, W
000CF2 6F86               M         movwf      tot
000CF4 0E63               M loop3   movlw      d'99'
000CF6 6586               M         cpfsgt     tot
000CF8 EF?? F???          M         goto       loop2
000CFC 2B82               M         incf       dig12
000CFE 5F86               M         subwf      tot, f
000D00 0786               M         decf       tot, f
000D02 EF?? F???          M         goto       loop3
000D06 0E09               M loop2   movlw      d'9'
000D08 6586               M         cpfsgt     tot
000D0A EF?? F???          M         goto       loop1
000D0E 2A7C               M         incf       dig2
000D10 5F86               M         subwf      tot, f
000D12 0786               M         decf       tot, f
000D14 EF?? F???          M         goto       loop2
000D18 0E00               M loop1   movlw      d'0'
000D1A 6586               M         cpfsgt     tot
000D1C EF?? F???          M         goto       fin
000D20 2A7D               M         incf       dig3
000D22 5F86               M         subwf      tot, f
000D24 0786               M         decf       tot, f
000D26 EF?? F???          M         goto       loop1
000D2A                    M fin     
000D2A EC?? F???      01254         call       WrtNum
000D2E EC?? F???      01255         call       WrtNum
000D32 EC?? F???      01256         call       sdelay        
000D36 EC?? F???      01257          call      sdelay        
000D3A EC?? F???      01258          call      sdelay
000D3E A281           01259 dwait2   btfss     PORTB, 1
000D40 EF?? F???      01260          goto      dwait2
                      01261 
000D44                01262 finish3 ;movlw      b'11111111'
                      01263         ; movwf     bheight
000D44 A1A5           01264          btfss      currentB, 0
000D46 EF?? F???      01265          goto       shend
000D4A EC?? F???      01266          call      ClrLCD
                      01267          write      Barrel
  0000                    M         local   loop_
000D4E 0E??               M         movlw   upper Barrel
000D50 6EF8               M         movwf   TBLPTRU
000D52 0E??               M         movlw   high Barrel
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000D54 6EF7               M         movwf   TBLPTRH
000D56 0E??               M         movlw   low Barrel
000D58 6EF6               M         movwf   TBLPTRL
000D5A 0008               M         tblrd*
000D5C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000D5E                    M         loop_   
000D5E EC?? F???          M         call     WrtLCD
000D62 000B               M         tblrd+*
000D64 50F5               M         movf     TABLAT, W
000D66 E1??               M         bnz     loop_
000D68 0E31           01268          movlw      "1"
000D6A EC?? F???      01269          call       WrtLCD
                      01270          write      Fulls
  0000                    M         local   loop_
000D6E 0E??               M         movlw   upper Fulls
000D70 6EF8               M         movwf   TBLPTRU
000D72 0E??               M         movlw   high Fulls
000D74 6EF7               M         movwf   TBLPTRH
000D76 0E??               M         movlw   low Fulls
000D78 6EF6               M         movwf   TBLPTRL
000D7A 0008               M         tblrd*
000D7C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000D7E                    M         loop_   
000D7E EC?? F???          M         call     WrtLCD
000D82 000B               M         tblrd+*
000D84 50F5               M         movf     TABLAT, W
000D86 E1??               M         bnz     loop_
                      01271          dFull      b1Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
000D88 B5A7               M         btfsc      b1Li,  2
000D8A EF?? F???          M         goto        wfull
000D8E B3A7               M         btfsc      b1Li,  1
000D90 EF?? F???          M         goto       whalf
000D94 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
000D98 0E??               M         movlw   upper Fulls
000D9A 6EF8               M         movwf   TBLPTRU
000D9C 0E??               M         movlw   high Fulls
000D9E 6EF7               M         movwf   TBLPTRH
000DA0 0E??               M         movlw   low Fulls
000DA2 6EF6               M         movwf   TBLPTRL
000DA4 0008               M         tblrd*
000DA6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000DA8                    M         loop_   
000DA8 EC?? F???          M         call     WrtLCD
000DAC 000B               M         tblrd+*
000DAE 50F5               M         movf     TABLAT, W
000DB0 E1??               M         bnz     loop_
000DB2 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
000DB6 0E??               M         movlw   upper Halfs
000DB8 6EF8               M         movwf   TBLPTRU
000DBA 0E??               M         movlw   high Halfs
000DBC 6EF7               M         movwf   TBLPTRH
000DBE 0E??               M         movlw   low Halfs
000DC0 6EF6               M         movwf   TBLPTRL
000DC2 0008               M         tblrd*
000DC4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000DC6                    M         loop_   
000DC6 EC?? F???          M         call     WrtLCD
000DCA 000B               M         tblrd+*
000DCC 50F5               M         movf     TABLAT, W
000DCE E1??               M         bnz     loop_
000DD0 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local   loop_
000DD4 0E??               M         movlw   upper Emptys
000DD6 6EF8               M         movwf   TBLPTRU
000DD8 0E??               M         movlw   high Emptys
000DDA 6EF7               M         movwf   TBLPTRH
000DDC 0E??               M         movlw   low Emptys
000DDE 6EF6               M         movwf   TBLPTRL
000DE0 0008               M         tblrd*
000DE2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000DE4                    M         loop_   
000DE4 EC?? F???          M         call     WrtLCD
000DE8 000B               M         tblrd+*
000DEA 50F5               M         movf     TABLAT, W
000DEC E1??               M         bnz     loop_
000DEE                    M wend
                      01272          write      Location
  0000                    M         local   loop_
000DEE 0E??               M         movlw   upper Location
000DF0 6EF8               M         movwf   TBLPTRU
000DF2 0E??               M         movlw   high Location
000DF4 6EF7               M         movwf   TBLPTRH
000DF6 0E??               M         movlw   low Location
000DF8 6EF6               M         movwf   TBLPTRL
000DFA 0008               M         tblrd*
000DFC 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000DFE                    M         loop_   
000DFE EC?? F???          M         call     WrtLCD
000E02 000B               M         tblrd+*
000E04 50F5               M         movf     TABLAT, W
000E06 E1??               M         bnz     loop_
                      01273          sepdig     b1L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000E08 0E00               M         movlw      b'0'
000E0A 6F82               M         movwf      dig12
000E0C 6E7C               M         movwf      dig2
000E0E 6E7D               M         movwf      dig3
                          M         
000E10 51A6               M         movf       b1L, W
000E12 6F86               M         movwf      tot
000E14 0E63               M loop3   movlw      d'99'
000E16 6586               M         cpfsgt     tot
000E18 EF?? F???          M         goto       loop2
000E1C 2B82               M         incf       dig12
000E1E 5F86               M         subwf      tot, f
000E20 0786               M         decf       tot, f
000E22 EF?? F???          M         goto       loop3
000E26 0E09               M loop2   movlw      d'9'
000E28 6586               M         cpfsgt     tot
000E2A EF?? F???          M         goto       loop1
000E2E 2A7C               M         incf       dig2
000E30 5F86               M         subwf      tot, f
000E32 0786               M         decf       tot, f
000E34 EF?? F???          M         goto       loop2
000E38 0E00               M loop1   movlw      d'0'
000E3A 6586               M         cpfsgt     tot
000E3C EF?? F???          M         goto       fin
000E40 2A7D               M         incf       dig3
000E42 5F86               M         subwf      tot, f
000E44 0786               M         decf       tot, f
000E46 EF?? F???          M         goto       loop1
000E4A                    M fin     
000E4A EC?? F???      01274          call       WrtNum
000E4E EC?? F???      01275          call       keywait
000E52 EC?? F???      01276          call       ClrLCD
                      01277          write      Hob
  0000                    M         local   loop_
000E56 0E??               M         movlw   upper Hob
000E58 6EF8               M         movwf   TBLPTRU
000E5A 0E??               M         movlw   high Hob
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000E5C 6EF7               M         movwf   TBLPTRH
000E5E 0E??               M         movlw   low Hob
000E60 6EF6               M         movwf   TBLPTRL
000E62 0008               M         tblrd*
000E64 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000E66                    M         loop_   
000E66 EC?? F???          M         call     WrtLCD
000E6A 000B               M         tblrd+*
000E6C 50F5               M         movf     TABLAT, W
000E6E E1??               M         bnz     loop_
000E70 B1BD           01278          btfsc      bheight, 0
                      01279          write      ftall
  0000                    M         local   loop_
000E72 0E??               M         movlw   upper ftall
000E74 6EF8               M         movwf   TBLPTRU
000E76 0E??               M         movlw   high ftall
000E78 6EF7               M         movwf   TBLPTRH
000E7A 0E??               M         movlw   low ftall
000E7C 6EF6               M         movwf   TBLPTRL
000E7E 0008               M         tblrd*
000E80 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000E82                    M         loop_   
000E82 EC?? F???          M         call     WrtLCD
000E86 000B               M         tblrd+*
000E88 50F5               M         movf     TABLAT, W
000E8A E1??               M         bnz     loop_
                      01280          write      fshort
  0000                    M         local   loop_
000E8C 0E??               M         movlw   upper fshort
000E8E 6EF8               M         movwf   TBLPTRU
000E90 0E??               M         movlw   high fshort
000E92 6EF7               M         movwf   TBLPTRH
000E94 0E??               M         movlw   low fshort
000E96 6EF6               M         movwf   TBLPTRL
000E98 0008               M         tblrd*
000E9A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000E9C                    M         loop_   
000E9C EC?? F???          M         call     WrtLCD
000EA0 000B               M         tblrd+*
000EA2 50F5               M         movf     TABLAT, W
000EA4 E1??               M         bnz     loop_
000EA6 EC?? F???      01281          call       keywait
                      01282          
000EAA A3A5           01283          btfss      currentB, 1
000EAC EF?? F???      01284          goto       shend
000EB0 EC?? F???      01285          call      ClrLCD
                      01286          write      Barrel
  0000                    M         local   loop_
000EB4 0E??               M         movlw   upper Barrel
000EB6 6EF8               M         movwf   TBLPTRU
000EB8 0E??               M         movlw   high Barrel
000EBA 6EF7               M         movwf   TBLPTRH
000EBC 0E??               M         movlw   low Barrel
000EBE 6EF6               M         movwf   TBLPTRL
000EC0 0008               M         tblrd*
000EC2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000EC4                    M         loop_   
000EC4 EC?? F???          M         call     WrtLCD
000EC8 000B               M         tblrd+*
000ECA 50F5               M         movf     TABLAT, W
000ECC E1??               M         bnz     loop_
000ECE 0E32           01287          movlw      "2" 
000ED0 EC?? F???      01288          call       WrtLCD
                      01289          write      Fulls
  0000                    M         local   loop_
000ED4 0E??               M         movlw   upper Fulls
000ED6 6EF8               M         movwf   TBLPTRU
000ED8 0E??               M         movlw   high Fulls
000EDA 6EF7               M         movwf   TBLPTRH
000EDC 0E??               M         movlw   low Fulls
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000EDE 6EF6               M         movwf   TBLPTRL
000EE0 0008               M         tblrd*
000EE2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000EE4                    M         loop_   
000EE4 EC?? F???          M         call     WrtLCD
000EE8 000B               M         tblrd+*
000EEA 50F5               M         movf     TABLAT, W
000EEC E1??               M         bnz     loop_
                      01290          dFull      b2Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
000EEE B5A9               M         btfsc      b2Li,  2
000EF0 EF?? F???          M         goto        wfull
000EF4 B3A9               M         btfsc      b2Li,  1
000EF6 EF?? F???          M         goto       whalf
000EFA EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
000EFE 0E??               M         movlw   upper Fulls
000F00 6EF8               M         movwf   TBLPTRU
000F02 0E??               M         movlw   high Fulls
000F04 6EF7               M         movwf   TBLPTRH
000F06 0E??               M         movlw   low Fulls
000F08 6EF6               M         movwf   TBLPTRL
000F0A 0008               M         tblrd*
000F0C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F0E                    M         loop_   
000F0E EC?? F???          M         call     WrtLCD
000F12 000B               M         tblrd+*
000F14 50F5               M         movf     TABLAT, W
000F16 E1??               M         bnz     loop_
000F18 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
000F1C 0E??               M         movlw   upper Halfs
000F1E 6EF8               M         movwf   TBLPTRU
000F20 0E??               M         movlw   high Halfs
000F22 6EF7               M         movwf   TBLPTRH
000F24 0E??               M         movlw   low Halfs
000F26 6EF6               M         movwf   TBLPTRL
000F28 0008               M         tblrd*
000F2A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F2C                    M         loop_   
000F2C EC?? F???          M         call     WrtLCD
000F30 000B               M         tblrd+*
000F32 50F5               M         movf     TABLAT, W
000F34 E1??               M         bnz     loop_
000F36 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
000F3A 0E??               M         movlw   upper Emptys
000F3C 6EF8               M         movwf   TBLPTRU
000F3E 0E??               M         movlw   high Emptys
000F40 6EF7               M         movwf   TBLPTRH
000F42 0E??               M         movlw   low Emptys
000F44 6EF6               M         movwf   TBLPTRL
000F46 0008               M         tblrd*
000F48 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F4A                    M         loop_   
000F4A EC?? F???          M         call     WrtLCD
000F4E 000B               M         tblrd+*
000F50 50F5               M         movf     TABLAT, W
000F52 E1??               M         bnz     loop_
000F54                    M wend
                      01291          write      Location
  0000                    M         local   loop_
000F54 0E??               M         movlw   upper Location
000F56 6EF8               M         movwf   TBLPTRU
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000F58 0E??               M         movlw   high Location
000F5A 6EF7               M         movwf   TBLPTRH
000F5C 0E??               M         movlw   low Location
000F5E 6EF6               M         movwf   TBLPTRL
000F60 0008               M         tblrd*
000F62 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F64                    M         loop_   
000F64 EC?? F???          M         call     WrtLCD
000F68 000B               M         tblrd+*
000F6A 50F5               M         movf     TABLAT, W
000F6C E1??               M         bnz     loop_
                      01292          sepdig     b2L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000F6E 0E00               M         movlw      b'0'
000F70 6F82               M         movwf      dig12
000F72 6E7C               M         movwf      dig2
000F74 6E7D               M         movwf      dig3
                          M         
000F76 51A8               M         movf       b2L, W
000F78 6F86               M         movwf      tot
000F7A 0E63               M loop3   movlw      d'99'
000F7C 6586               M         cpfsgt     tot
000F7E EF?? F???          M         goto       loop2
000F82 2B82               M         incf       dig12
000F84 5F86               M         subwf      tot, f
000F86 0786               M         decf       tot, f
000F88 EF?? F???          M         goto       loop3
000F8C 0E09               M loop2   movlw      d'9'
000F8E 6586               M         cpfsgt     tot
000F90 EF?? F???          M         goto       loop1
000F94 2A7C               M         incf       dig2
000F96 5F86               M         subwf      tot, f
000F98 0786               M         decf       tot, f
000F9A EF?? F???          M         goto       loop2
000F9E 0E00               M loop1   movlw      d'0'
000FA0 6586               M         cpfsgt     tot
000FA2 EF?? F???          M         goto       fin
000FA6 2A7D               M         incf       dig3
000FA8 5F86               M         subwf      tot, f
000FAA 0786               M         decf       tot, f
000FAC EF?? F???          M         goto       loop1
000FB0                    M fin     
000FB0 EC?? F???      01293          call       WrtNum
000FB4 EC?? F???      01294          call       keywait
000FB8 EC?? F???      01295          call       ClrLCD
                      01296          write      Hob
  0000                    M         local   loop_
000FBC 0E??               M         movlw   upper Hob
000FBE 6EF8               M         movwf   TBLPTRU
000FC0 0E??               M         movlw   high Hob
000FC2 6EF7               M         movwf   TBLPTRH
000FC4 0E??               M         movlw   low Hob
000FC6 6EF6               M         movwf   TBLPTRL
000FC8 0008               M         tblrd*
000FCA 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000FCC                    M         loop_   
000FCC EC?? F???          M         call     WrtLCD
000FD0 000B               M         tblrd+*
000FD2 50F5               M         movf     TABLAT, W
000FD4 E1??               M         bnz     loop_
000FD6 B3BD           01297          btfsc      bheight, 1
                      01298          write      ftall
  0000                    M         local   loop_
000FD8 0E??               M         movlw   upper ftall
000FDA 6EF8               M         movwf   TBLPTRU
000FDC 0E??               M         movlw   high ftall
000FDE 6EF7               M         movwf   TBLPTRH
000FE0 0E??               M         movlw   low ftall
000FE2 6EF6               M         movwf   TBLPTRL
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000FE4 0008               M         tblrd*
000FE6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000FE8                    M         loop_   
000FE8 EC?? F???          M         call     WrtLCD
000FEC 000B               M         tblrd+*
000FEE 50F5               M         movf     TABLAT, W
000FF0 E1??               M         bnz     loop_
                      01299          write      fshort
  0000                    M         local   loop_
000FF2 0E??               M         movlw   upper fshort
000FF4 6EF8               M         movwf   TBLPTRU
000FF6 0E??               M         movlw   high fshort
000FF8 6EF7               M         movwf   TBLPTRH
000FFA 0E??               M         movlw   low fshort
000FFC 6EF6               M         movwf   TBLPTRL
000FFE 0008               M         tblrd*
001000 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001002                    M         loop_   
001002 EC?? F???          M         call     WrtLCD
001006 000B               M         tblrd+*
001008 50F5               M         movf     TABLAT, W
00100A E1??               M         bnz     loop_
00100C EC?? F???      01300          call       keywait
                      01301          
001010 A5A5           01302          btfss      currentB, 2
001012 EF?? F???      01303          goto       shend
001016 EC?? F???      01304          call      ClrLCD
                      01305          write      Barrel
  0000                    M         local   loop_
00101A 0E??               M         movlw   upper Barrel
00101C 6EF8               M         movwf   TBLPTRU
00101E 0E??               M         movlw   high Barrel
001020 6EF7               M         movwf   TBLPTRH
001022 0E??               M         movlw   low Barrel
001024 6EF6               M         movwf   TBLPTRL
001026 0008               M         tblrd*
001028 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00102A                    M         loop_   
00102A EC?? F???          M         call     WrtLCD
00102E 000B               M         tblrd+*
001030 50F5               M         movf     TABLAT, W
001032 E1??               M         bnz     loop_
001034 0E33           01306          movlw      "3"
001036 EC?? F???      01307          call       WrtLCD
                      01308          write      Fulls
  0000                    M         local   loop_
00103A 0E??               M         movlw   upper Fulls
00103C 6EF8               M         movwf   TBLPTRU
00103E 0E??               M         movlw   high Fulls
001040 6EF7               M         movwf   TBLPTRH
001042 0E??               M         movlw   low Fulls
001044 6EF6               M         movwf   TBLPTRL
001046 0008               M         tblrd*
001048 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00104A                    M         loop_   
00104A EC?? F???          M         call     WrtLCD
00104E 000B               M         tblrd+*
001050 50F5               M         movf     TABLAT, W
001052 E1??               M         bnz     loop_
                      01309          dFull      b3Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
001054 B5AB               M         btfsc      b3Li,  2
001056 EF?? F???          M         goto        wfull
00105A B3AB               M         btfsc      b3Li,  1
00105C EF?? F???          M         goto       whalf
001060 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local   loop_
001064 0E??               M         movlw   upper Fulls
001066 6EF8               M         movwf   TBLPTRU
001068 0E??               M         movlw   high Fulls
00106A 6EF7               M         movwf   TBLPTRH
00106C 0E??               M         movlw   low Fulls
00106E 6EF6               M         movwf   TBLPTRL
001070 0008               M         tblrd*
001072 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001074                    M         loop_   
001074 EC?? F???          M         call     WrtLCD
001078 000B               M         tblrd+*
00107A 50F5               M         movf     TABLAT, W
00107C E1??               M         bnz     loop_
00107E EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
001082 0E??               M         movlw   upper Halfs
001084 6EF8               M         movwf   TBLPTRU
001086 0E??               M         movlw   high Halfs
001088 6EF7               M         movwf   TBLPTRH
00108A 0E??               M         movlw   low Halfs
00108C 6EF6               M         movwf   TBLPTRL
00108E 0008               M         tblrd*
001090 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001092                    M         loop_   
001092 EC?? F???          M         call     WrtLCD
001096 000B               M         tblrd+*
001098 50F5               M         movf     TABLAT, W
00109A E1??               M         bnz     loop_
00109C EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
0010A0 0E??               M         movlw   upper Emptys
0010A2 6EF8               M         movwf   TBLPTRU
0010A4 0E??               M         movlw   high Emptys
0010A6 6EF7               M         movwf   TBLPTRH
0010A8 0E??               M         movlw   low Emptys
0010AA 6EF6               M         movwf   TBLPTRL
0010AC 0008               M         tblrd*
0010AE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0010B0                    M         loop_   
0010B0 EC?? F???          M         call     WrtLCD
0010B4 000B               M         tblrd+*
0010B6 50F5               M         movf     TABLAT, W
0010B8 E1??               M         bnz     loop_
0010BA                    M wend
                      01310          write      Location
  0000                    M         local   loop_
0010BA 0E??               M         movlw   upper Location
0010BC 6EF8               M         movwf   TBLPTRU
0010BE 0E??               M         movlw   high Location
0010C0 6EF7               M         movwf   TBLPTRH
0010C2 0E??               M         movlw   low Location
0010C4 6EF6               M         movwf   TBLPTRL
0010C6 0008               M         tblrd*
0010C8 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0010CA                    M         loop_   
0010CA EC?? F???          M         call     WrtLCD
0010CE 000B               M         tblrd+*
0010D0 50F5               M         movf     TABLAT, W
0010D2 E1??               M         bnz     loop_
                      01311          sepdig     b3L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0010D4 0E00               M         movlw      b'0'
0010D6 6F82               M         movwf      dig12
0010D8 6E7C               M         movwf      dig2
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0010DA 6E7D               M         movwf      dig3
                          M         
0010DC 51AA               M         movf       b3L, W
0010DE 6F86               M         movwf      tot
0010E0 0E63               M loop3   movlw      d'99'
0010E2 6586               M         cpfsgt     tot
0010E4 EF?? F???          M         goto       loop2
0010E8 2B82               M         incf       dig12
0010EA 5F86               M         subwf      tot, f
0010EC 0786               M         decf       tot, f
0010EE EF?? F???          M         goto       loop3
0010F2 0E09               M loop2   movlw      d'9'
0010F4 6586               M         cpfsgt     tot
0010F6 EF?? F???          M         goto       loop1
0010FA 2A7C               M         incf       dig2
0010FC 5F86               M         subwf      tot, f
0010FE 0786               M         decf       tot, f
001100 EF?? F???          M         goto       loop2
001104 0E00               M loop1   movlw      d'0'
001106 6586               M         cpfsgt     tot
001108 EF?? F???          M         goto       fin
00110C 2A7D               M         incf       dig3
00110E 5F86               M         subwf      tot, f
001110 0786               M         decf       tot, f
001112 EF?? F???          M         goto       loop1
001116                    M fin     
001116 EC?? F???      01312          call       WrtNum
00111A EC?? F???      01313          call       keywait
00111E EC?? F???      01314          call       ClrLCD
                      01315          write      Hob
  0000                    M         local   loop_
001122 0E??               M         movlw   upper Hob
001124 6EF8               M         movwf   TBLPTRU
001126 0E??               M         movlw   high Hob
001128 6EF7               M         movwf   TBLPTRH
00112A 0E??               M         movlw   low Hob
00112C 6EF6               M         movwf   TBLPTRL
00112E 0008               M         tblrd*
001130 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001132                    M         loop_   
001132 EC?? F???          M         call     WrtLCD
001136 000B               M         tblrd+*
001138 50F5               M         movf     TABLAT, W
00113A E1??               M         bnz     loop_
00113C B5BD           01316          btfsc      bheight, 2
                      01317          write      ftall
  0000                    M         local   loop_
00113E 0E??               M         movlw   upper ftall
001140 6EF8               M         movwf   TBLPTRU
001142 0E??               M         movlw   high ftall
001144 6EF7               M         movwf   TBLPTRH
001146 0E??               M         movlw   low ftall
001148 6EF6               M         movwf   TBLPTRL
00114A 0008               M         tblrd*
00114C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00114E                    M         loop_   
00114E EC?? F???          M         call     WrtLCD
001152 000B               M         tblrd+*
001154 50F5               M         movf     TABLAT, W
001156 E1??               M         bnz     loop_
                      01318          write      fshort
  0000                    M         local   loop_
001158 0E??               M         movlw   upper fshort
00115A 6EF8               M         movwf   TBLPTRU
00115C 0E??               M         movlw   high fshort
00115E 6EF7               M         movwf   TBLPTRH
001160 0E??               M         movlw   low fshort
001162 6EF6               M         movwf   TBLPTRL
001164 0008               M         tblrd*
001166 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001168                    M         loop_   
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001168 EC?? F???          M         call     WrtLCD
00116C 000B               M         tblrd+*
00116E 50F5               M         movf     TABLAT, W
001170 E1??               M         bnz     loop_
001172 EC?? F???      01319          call       keywait
                      01320          
001176 A7A5           01321          btfss      currentB, 3
001178 EF?? F???      01322          goto       shend
00117C EC?? F???      01323          call      ClrLCD
                      01324          write      Barrel
  0000                    M         local   loop_
001180 0E??               M         movlw   upper Barrel
001182 6EF8               M         movwf   TBLPTRU
001184 0E??               M         movlw   high Barrel
001186 6EF7               M         movwf   TBLPTRH
001188 0E??               M         movlw   low Barrel
00118A 6EF6               M         movwf   TBLPTRL
00118C 0008               M         tblrd*
00118E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001190                    M         loop_   
001190 EC?? F???          M         call     WrtLCD
001194 000B               M         tblrd+*
001196 50F5               M         movf     TABLAT, W
001198 E1??               M         bnz     loop_
00119A 0E34           01325          movlw      "4"
00119C EC?? F???      01326          call       WrtLCD
                      01327          write      Fulls
  0000                    M         local   loop_
0011A0 0E??               M         movlw   upper Fulls
0011A2 6EF8               M         movwf   TBLPTRU
0011A4 0E??               M         movlw   high Fulls
0011A6 6EF7               M         movwf   TBLPTRH
0011A8 0E??               M         movlw   low Fulls
0011AA 6EF6               M         movwf   TBLPTRL
0011AC 0008               M         tblrd*
0011AE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0011B0                    M         loop_   
0011B0 EC?? F???          M         call     WrtLCD
0011B4 000B               M         tblrd+*
0011B6 50F5               M         movf     TABLAT, W
0011B8 E1??               M         bnz     loop_
                      01328          dFull      b4Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
0011BA B5AD               M         btfsc      b4Li,  2
0011BC EF?? F???          M         goto        wfull
0011C0 B3AD               M         btfsc      b4Li,  1
0011C2 EF?? F???          M         goto       whalf
0011C6 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
0011CA 0E??               M         movlw   upper Fulls
0011CC 6EF8               M         movwf   TBLPTRU
0011CE 0E??               M         movlw   high Fulls
0011D0 6EF7               M         movwf   TBLPTRH
0011D2 0E??               M         movlw   low Fulls
0011D4 6EF6               M         movwf   TBLPTRL
0011D6 0008               M         tblrd*
0011D8 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0011DA                    M         loop_   
0011DA EC?? F???          M         call     WrtLCD
0011DE 000B               M         tblrd+*
0011E0 50F5               M         movf     TABLAT, W
0011E2 E1??               M         bnz     loop_
0011E4 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
0011E8 0E??               M         movlw   upper Halfs
0011EA 6EF8               M         movwf   TBLPTRU
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0011EC 0E??               M         movlw   high Halfs
0011EE 6EF7               M         movwf   TBLPTRH
0011F0 0E??               M         movlw   low Halfs
0011F2 6EF6               M         movwf   TBLPTRL
0011F4 0008               M         tblrd*
0011F6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0011F8                    M         loop_   
0011F8 EC?? F???          M         call     WrtLCD
0011FC 000B               M         tblrd+*
0011FE 50F5               M         movf     TABLAT, W
001200 E1??               M         bnz     loop_
001202 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
001206 0E??               M         movlw   upper Emptys
001208 6EF8               M         movwf   TBLPTRU
00120A 0E??               M         movlw   high Emptys
00120C 6EF7               M         movwf   TBLPTRH
00120E 0E??               M         movlw   low Emptys
001210 6EF6               M         movwf   TBLPTRL
001212 0008               M         tblrd*
001214 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001216                    M         loop_   
001216 EC?? F???          M         call     WrtLCD
00121A 000B               M         tblrd+*
00121C 50F5               M         movf     TABLAT, W
00121E E1??               M         bnz     loop_
001220                    M wend
                      01329          write      Location
  0000                    M         local   loop_
001220 0E??               M         movlw   upper Location
001222 6EF8               M         movwf   TBLPTRU
001224 0E??               M         movlw   high Location
001226 6EF7               M         movwf   TBLPTRH
001228 0E??               M         movlw   low Location
00122A 6EF6               M         movwf   TBLPTRL
00122C 0008               M         tblrd*
00122E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001230                    M         loop_   
001230 EC?? F???          M         call     WrtLCD
001234 000B               M         tblrd+*
001236 50F5               M         movf     TABLAT, W
001238 E1??               M         bnz     loop_
                      01330          sepdig     b4L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00123A 0E00               M         movlw      b'0'
00123C 6F82               M         movwf      dig12
00123E 6E7C               M         movwf      dig2
001240 6E7D               M         movwf      dig3
                          M         
001242 51AC               M         movf       b4L, W
001244 6F86               M         movwf      tot
001246 0E63               M loop3   movlw      d'99'
001248 6586               M         cpfsgt     tot
00124A EF?? F???          M         goto       loop2
00124E 2B82               M         incf       dig12
001250 5F86               M         subwf      tot, f
001252 0786               M         decf       tot, f
001254 EF?? F???          M         goto       loop3
001258 0E09               M loop2   movlw      d'9'
00125A 6586               M         cpfsgt     tot
00125C EF?? F???          M         goto       loop1
001260 2A7C               M         incf       dig2
001262 5F86               M         subwf      tot, f
001264 0786               M         decf       tot, f
001266 EF?? F???          M         goto       loop2
00126A 0E00               M loop1   movlw      d'0'
00126C 6586               M         cpfsgt     tot
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00126E EF?? F???          M         goto       fin
001272 2A7D               M         incf       dig3
001274 5F86               M         subwf      tot, f
001276 0786               M         decf       tot, f
001278 EF?? F???          M         goto       loop1
00127C                    M fin     
00127C EC?? F???      01331          call       WrtNum
001280 EC?? F???      01332          call       keywait
001284 EC?? F???      01333          call       ClrLCD
                      01334          write      Hob
  0000                    M         local   loop_
001288 0E??               M         movlw   upper Hob
00128A 6EF8               M         movwf   TBLPTRU
00128C 0E??               M         movlw   high Hob
00128E 6EF7               M         movwf   TBLPTRH
001290 0E??               M         movlw   low Hob
001292 6EF6               M         movwf   TBLPTRL
001294 0008               M         tblrd*
001296 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001298                    M         loop_   
001298 EC?? F???          M         call     WrtLCD
00129C 000B               M         tblrd+*
00129E 50F5               M         movf     TABLAT, W
0012A0 E1??               M         bnz     loop_
0012A2 B7BD           01335          btfsc      bheight, 3
                      01336          write      ftall
  0000                    M         local   loop_
0012A4 0E??               M         movlw   upper ftall
0012A6 6EF8               M         movwf   TBLPTRU
0012A8 0E??               M         movlw   high ftall
0012AA 6EF7               M         movwf   TBLPTRH
0012AC 0E??               M         movlw   low ftall
0012AE 6EF6               M         movwf   TBLPTRL
0012B0 0008               M         tblrd*
0012B2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0012B4                    M         loop_   
0012B4 EC?? F???          M         call     WrtLCD
0012B8 000B               M         tblrd+*
0012BA 50F5               M         movf     TABLAT, W
0012BC E1??               M         bnz     loop_
                      01337          write      fshort
  0000                    M         local   loop_
0012BE 0E??               M         movlw   upper fshort
0012C0 6EF8               M         movwf   TBLPTRU
0012C2 0E??               M         movlw   high fshort
0012C4 6EF7               M         movwf   TBLPTRH
0012C6 0E??               M         movlw   low fshort
0012C8 6EF6               M         movwf   TBLPTRL
0012CA 0008               M         tblrd*
0012CC 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0012CE                    M         loop_   
0012CE EC?? F???          M         call     WrtLCD
0012D2 000B               M         tblrd+*
0012D4 50F5               M         movf     TABLAT, W
0012D6 E1??               M         bnz     loop_
0012D8 EC?? F???      01338          call       keywait
                      01339          
0012DC A9A5           01340          btfss      currentB, 4
0012DE EF?? F???      01341          goto       shend
0012E2 EC?? F???      01342          call      ClrLCD
                      01343          write      Barrel
  0000                    M         local   loop_
0012E6 0E??               M         movlw   upper Barrel
0012E8 6EF8               M         movwf   TBLPTRU
0012EA 0E??               M         movlw   high Barrel
0012EC 6EF7               M         movwf   TBLPTRH
0012EE 0E??               M         movlw   low Barrel
0012F0 6EF6               M         movwf   TBLPTRL
0012F2 0008               M         tblrd*
0012F4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0012F6                    M         loop_   
0012F6 EC?? F???          M         call     WrtLCD
0012FA 000B               M         tblrd+*
0012FC 50F5               M         movf     TABLAT, W
0012FE E1??               M         bnz     loop_
001300 0E35           01344          movlw      "5"
001302 EC?? F???      01345          call       WrtLCD
                      01346          write      Fulls
  0000                    M         local   loop_
001306 0E??               M         movlw   upper Fulls
001308 6EF8               M         movwf   TBLPTRU
00130A 0E??               M         movlw   high Fulls
00130C 6EF7               M         movwf   TBLPTRH
00130E 0E??               M         movlw   low Fulls
001310 6EF6               M         movwf   TBLPTRL
001312 0008               M         tblrd*
001314 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001316                    M         loop_   
001316 EC?? F???          M         call     WrtLCD
00131A 000B               M         tblrd+*
00131C 50F5               M         movf     TABLAT, W
00131E E1??               M         bnz     loop_
                      01347          dFull      b5Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
001320 B5AF               M         btfsc      b5Li,  2
001322 EF?? F???          M         goto        wfull
001326 B3AF               M         btfsc      b5Li,  1
001328 EF?? F???          M         goto       whalf
00132C EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
001330 0E??               M         movlw   upper Fulls
001332 6EF8               M         movwf   TBLPTRU
001334 0E??               M         movlw   high Fulls
001336 6EF7               M         movwf   TBLPTRH
001338 0E??               M         movlw   low Fulls
00133A 6EF6               M         movwf   TBLPTRL
00133C 0008               M         tblrd*
00133E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001340                    M         loop_   
001340 EC?? F???          M         call     WrtLCD
001344 000B               M         tblrd+*
001346 50F5               M         movf     TABLAT, W
001348 E1??               M         bnz     loop_
00134A EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
00134E 0E??               M         movlw   upper Halfs
001350 6EF8               M         movwf   TBLPTRU
001352 0E??               M         movlw   high Halfs
001354 6EF7               M         movwf   TBLPTRH
001356 0E??               M         movlw   low Halfs
001358 6EF6               M         movwf   TBLPTRL
00135A 0008               M         tblrd*
00135C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00135E                    M         loop_   
00135E EC?? F???          M         call     WrtLCD
001362 000B               M         tblrd+*
001364 50F5               M         movf     TABLAT, W
001366 E1??               M         bnz     loop_
001368 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
00136C 0E??               M         movlw   upper Emptys
00136E 6EF8               M         movwf   TBLPTRU
001370 0E??               M         movlw   high Emptys
001372 6EF7               M         movwf   TBLPTRH
001374 0E??               M         movlw   low Emptys
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001376 6EF6               M         movwf   TBLPTRL
001378 0008               M         tblrd*
00137A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00137C                    M         loop_   
00137C EC?? F???          M         call     WrtLCD
001380 000B               M         tblrd+*
001382 50F5               M         movf     TABLAT, W
001384 E1??               M         bnz     loop_
001386                    M wend
                      01348          write      Location
  0000                    M         local   loop_
001386 0E??               M         movlw   upper Location
001388 6EF8               M         movwf   TBLPTRU
00138A 0E??               M         movlw   high Location
00138C 6EF7               M         movwf   TBLPTRH
00138E 0E??               M         movlw   low Location
001390 6EF6               M         movwf   TBLPTRL
001392 0008               M         tblrd*
001394 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001396                    M         loop_   
001396 EC?? F???          M         call     WrtLCD
00139A 000B               M         tblrd+*
00139C 50F5               M         movf     TABLAT, W
00139E E1??               M         bnz     loop_
                      01349          sepdig     b5L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0013A0 0E00               M         movlw      b'0'
0013A2 6F82               M         movwf      dig12
0013A4 6E7C               M         movwf      dig2
0013A6 6E7D               M         movwf      dig3
                          M         
0013A8 51AE               M         movf       b5L, W
0013AA 6F86               M         movwf      tot
0013AC 0E63               M loop3   movlw      d'99'
0013AE 6586               M         cpfsgt     tot
0013B0 EF?? F???          M         goto       loop2
0013B4 2B82               M         incf       dig12
0013B6 5F86               M         subwf      tot, f
0013B8 0786               M         decf       tot, f
0013BA EF?? F???          M         goto       loop3
0013BE 0E09               M loop2   movlw      d'9'
0013C0 6586               M         cpfsgt     tot
0013C2 EF?? F???          M         goto       loop1
0013C6 2A7C               M         incf       dig2
0013C8 5F86               M         subwf      tot, f
0013CA 0786               M         decf       tot, f
0013CC EF?? F???          M         goto       loop2
0013D0 0E00               M loop1   movlw      d'0'
0013D2 6586               M         cpfsgt     tot
0013D4 EF?? F???          M         goto       fin
0013D8 2A7D               M         incf       dig3
0013DA 5F86               M         subwf      tot, f
0013DC 0786               M         decf       tot, f
0013DE EF?? F???          M         goto       loop1
0013E2                    M fin     
0013E2 EC?? F???      01350          call       WrtNum
0013E6 EC?? F???      01351          call       keywait
0013EA EC?? F???      01352          call       ClrLCD
                      01353          write      Hob
  0000                    M         local   loop_
0013EE 0E??               M         movlw   upper Hob
0013F0 6EF8               M         movwf   TBLPTRU
0013F2 0E??               M         movlw   high Hob
0013F4 6EF7               M         movwf   TBLPTRH
0013F6 0E??               M         movlw   low Hob
0013F8 6EF6               M         movwf   TBLPTRL
0013FA 0008               M         tblrd*
0013FC 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0013FE                    M         loop_   
0013FE EC?? F???          M         call     WrtLCD
001402 000B               M         tblrd+*
001404 50F5               M         movf     TABLAT, W
001406 E1??               M         bnz     loop_
001408 B9BD           01354          btfsc      bheight, 4
                      01355          write      ftall
  0000                    M         local   loop_
00140A 0E??               M         movlw   upper ftall
00140C 6EF8               M         movwf   TBLPTRU
00140E 0E??               M         movlw   high ftall
001410 6EF7               M         movwf   TBLPTRH
001412 0E??               M         movlw   low ftall
001414 6EF6               M         movwf   TBLPTRL
001416 0008               M         tblrd*
001418 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00141A                    M         loop_   
00141A EC?? F???          M         call     WrtLCD
00141E 000B               M         tblrd+*
001420 50F5               M         movf     TABLAT, W
001422 E1??               M         bnz     loop_
                      01356          write      fshort
  0000                    M         local   loop_
001424 0E??               M         movlw   upper fshort
001426 6EF8               M         movwf   TBLPTRU
001428 0E??               M         movlw   high fshort
00142A 6EF7               M         movwf   TBLPTRH
00142C 0E??               M         movlw   low fshort
00142E 6EF6               M         movwf   TBLPTRL
001430 0008               M         tblrd*
001432 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001434                    M         loop_   
001434 EC?? F???          M         call     WrtLCD
001438 000B               M         tblrd+*
00143A 50F5               M         movf     TABLAT, W
00143C E1??               M         bnz     loop_
00143E EC?? F???      01357          call       keywait
                      01358          
001442 ABA5           01359          btfss      currentB, 5
001444 EF?? F???      01360          goto       shend
001448 EC?? F???      01361          call      ClrLCD
                      01362          write      Barrel
  0000                    M         local   loop_
00144C 0E??               M         movlw   upper Barrel
00144E 6EF8               M         movwf   TBLPTRU
001450 0E??               M         movlw   high Barrel
001452 6EF7               M         movwf   TBLPTRH
001454 0E??               M         movlw   low Barrel
001456 6EF6               M         movwf   TBLPTRL
001458 0008               M         tblrd*
00145A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00145C                    M         loop_   
00145C EC?? F???          M         call     WrtLCD
001460 000B               M         tblrd+*
001462 50F5               M         movf     TABLAT, W
001464 E1??               M         bnz     loop_
001466 0E36           01363          movlw      "6"
001468 EC?? F???      01364          call       WrtLCD
                      01365          write      Fulls
  0000                    M         local   loop_
00146C 0E??               M         movlw   upper Fulls
00146E 6EF8               M         movwf   TBLPTRU
001470 0E??               M         movlw   high Fulls
001472 6EF7               M         movwf   TBLPTRH
001474 0E??               M         movlw   low Fulls
001476 6EF6               M         movwf   TBLPTRL
001478 0008               M         tblrd*
00147A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00147C                    M         loop_   
00147C EC?? F???          M         call     WrtLCD
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001480 000B               M         tblrd+*
001482 50F5               M         movf     TABLAT, W
001484 E1??               M         bnz     loop_
                      01366          dFull      b6Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
001486 B5B1               M         btfsc      b6Li,  2
001488 EF?? F???          M         goto        wfull
00148C B3B1               M         btfsc      b6Li,  1
00148E EF?? F???          M         goto       whalf
001492 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
001496 0E??               M         movlw   upper Fulls
001498 6EF8               M         movwf   TBLPTRU
00149A 0E??               M         movlw   high Fulls
00149C 6EF7               M         movwf   TBLPTRH
00149E 0E??               M         movlw   low Fulls
0014A0 6EF6               M         movwf   TBLPTRL
0014A2 0008               M         tblrd*
0014A4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0014A6                    M         loop_   
0014A6 EC?? F???          M         call     WrtLCD
0014AA 000B               M         tblrd+*
0014AC 50F5               M         movf     TABLAT, W
0014AE E1??               M         bnz     loop_
0014B0 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
0014B4 0E??               M         movlw   upper Halfs
0014B6 6EF8               M         movwf   TBLPTRU
0014B8 0E??               M         movlw   high Halfs
0014BA 6EF7               M         movwf   TBLPTRH
0014BC 0E??               M         movlw   low Halfs
0014BE 6EF6               M         movwf   TBLPTRL
0014C0 0008               M         tblrd*
0014C2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0014C4                    M         loop_   
0014C4 EC?? F???          M         call     WrtLCD
0014C8 000B               M         tblrd+*
0014CA 50F5               M         movf     TABLAT, W
0014CC E1??               M         bnz     loop_
0014CE EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
0014D2 0E??               M         movlw   upper Emptys
0014D4 6EF8               M         movwf   TBLPTRU
0014D6 0E??               M         movlw   high Emptys
0014D8 6EF7               M         movwf   TBLPTRH
0014DA 0E??               M         movlw   low Emptys
0014DC 6EF6               M         movwf   TBLPTRL
0014DE 0008               M         tblrd*
0014E0 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0014E2                    M         loop_   
0014E2 EC?? F???          M         call     WrtLCD
0014E6 000B               M         tblrd+*
0014E8 50F5               M         movf     TABLAT, W
0014EA E1??               M         bnz     loop_
0014EC                    M wend
                      01367          write      Location
  0000                    M         local   loop_
0014EC 0E??               M         movlw   upper Location
0014EE 6EF8               M         movwf   TBLPTRU
0014F0 0E??               M         movlw   high Location
0014F2 6EF7               M         movwf   TBLPTRH
0014F4 0E??               M         movlw   low Location
0014F6 6EF6               M         movwf   TBLPTRL
0014F8 0008               M         tblrd*
0014FA 50F5               M         movf     TABLAT, W
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (loop_)
0014FC                    M         loop_   
0014FC EC?? F???          M         call     WrtLCD
001500 000B               M         tblrd+*
001502 50F5               M         movf     TABLAT, W
001504 E1??               M         bnz     loop_
                      01368          sepdig     b6L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001506 0E00               M         movlw      b'0'
001508 6F82               M         movwf      dig12
00150A 6E7C               M         movwf      dig2
00150C 6E7D               M         movwf      dig3
                          M         
00150E 51B0               M         movf       b6L, W
001510 6F86               M         movwf      tot
001512 0E63               M loop3   movlw      d'99'
001514 6586               M         cpfsgt     tot
001516 EF?? F???          M         goto       loop2
00151A 2B82               M         incf       dig12
00151C 5F86               M         subwf      tot, f
00151E 0786               M         decf       tot, f
001520 EF?? F???          M         goto       loop3
001524 0E09               M loop2   movlw      d'9'
001526 6586               M         cpfsgt     tot
001528 EF?? F???          M         goto       loop1
00152C 2A7C               M         incf       dig2
00152E 5F86               M         subwf      tot, f
001530 0786               M         decf       tot, f
001532 EF?? F???          M         goto       loop2
001536 0E00               M loop1   movlw      d'0'
001538 6586               M         cpfsgt     tot
00153A EF?? F???          M         goto       fin
00153E 2A7D               M         incf       dig3
001540 5F86               M         subwf      tot, f
001542 0786               M         decf       tot, f
001544 EF?? F???          M         goto       loop1
001548                    M fin     
001548 EC?? F???      01369          call       WrtNum
00154C EC?? F???      01370          call       keywait
001550 EC?? F???      01371          call       ClrLCD
                      01372          write      Hob
  0000                    M         local   loop_
001554 0E??               M         movlw   upper Hob
001556 6EF8               M         movwf   TBLPTRU
001558 0E??               M         movlw   high Hob
00155A 6EF7               M         movwf   TBLPTRH
00155C 0E??               M         movlw   low Hob
00155E 6EF6               M         movwf   TBLPTRL
001560 0008               M         tblrd*
001562 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001564                    M         loop_   
001564 EC?? F???          M         call     WrtLCD
001568 000B               M         tblrd+*
00156A 50F5               M         movf     TABLAT, W
00156C E1??               M         bnz     loop_
00156E BBBD           01373          btfsc      bheight, 5
                      01374          write      ftall
  0000                    M         local   loop_
001570 0E??               M         movlw   upper ftall
001572 6EF8               M         movwf   TBLPTRU
001574 0E??               M         movlw   high ftall
001576 6EF7               M         movwf   TBLPTRH
001578 0E??               M         movlw   low ftall
00157A 6EF6               M         movwf   TBLPTRL
00157C 0008               M         tblrd*
00157E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001580                    M         loop_   
001580 EC?? F???          M         call     WrtLCD
001584 000B               M         tblrd+*
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001586 50F5               M         movf     TABLAT, W
001588 E1??               M         bnz     loop_
                      01375          write      fshort
  0000                    M         local   loop_
00158A 0E??               M         movlw   upper fshort
00158C 6EF8               M         movwf   TBLPTRU
00158E 0E??               M         movlw   high fshort
001590 6EF7               M         movwf   TBLPTRH
001592 0E??               M         movlw   low fshort
001594 6EF6               M         movwf   TBLPTRL
001596 0008               M         tblrd*
001598 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00159A                    M         loop_   
00159A EC?? F???          M         call     WrtLCD
00159E 000B               M         tblrd+*
0015A0 50F5               M         movf     TABLAT, W
0015A2 E1??               M         bnz     loop_
0015A4 EC?? F???      01376          call       keywait
                      01377          
0015A8 ADA5           01378          btfss      currentB, 6
0015AA EF?? F???      01379          goto       shend
0015AE EC?? F???      01380          call      ClrLCD
                      01381          write      Barrel
  0000                    M         local   loop_
0015B2 0E??               M         movlw   upper Barrel
0015B4 6EF8               M         movwf   TBLPTRU
0015B6 0E??               M         movlw   high Barrel
0015B8 6EF7               M         movwf   TBLPTRH
0015BA 0E??               M         movlw   low Barrel
0015BC 6EF6               M         movwf   TBLPTRL
0015BE 0008               M         tblrd*
0015C0 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0015C2                    M         loop_   
0015C2 EC?? F???          M         call     WrtLCD
0015C6 000B               M         tblrd+*
0015C8 50F5               M         movf     TABLAT, W
0015CA E1??               M         bnz     loop_
0015CC 0E37           01382          movlw      "7"
0015CE EC?? F???      01383          call       WrtLCD
                      01384          write      Fulls
  0000                    M         local   loop_
0015D2 0E??               M         movlw   upper Fulls
0015D4 6EF8               M         movwf   TBLPTRU
0015D6 0E??               M         movlw   high Fulls
0015D8 6EF7               M         movwf   TBLPTRH
0015DA 0E??               M         movlw   low Fulls
0015DC 6EF6               M         movwf   TBLPTRL
0015DE 0008               M         tblrd*
0015E0 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0015E2                    M         loop_   
0015E2 EC?? F???          M         call     WrtLCD
0015E6 000B               M         tblrd+*
0015E8 50F5               M         movf     TABLAT, W
0015EA E1??               M         bnz     loop_
                      01385          dFull      b7Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
0015EC B5B3               M         btfsc      b7Li,  2
0015EE EF?? F???          M         goto        wfull
0015F2 B3B3               M         btfsc      b7Li,  1
0015F4 EF?? F???          M         goto       whalf
0015F8 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
0015FC 0E??               M         movlw   upper Fulls
0015FE 6EF8               M         movwf   TBLPTRU
001600 0E??               M         movlw   high Fulls
001602 6EF7               M         movwf   TBLPTRH
001604 0E??               M         movlw   low Fulls
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001606 6EF6               M         movwf   TBLPTRL
001608 0008               M         tblrd*
00160A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00160C                    M         loop_   
00160C EC?? F???          M         call     WrtLCD
001610 000B               M         tblrd+*
001612 50F5               M         movf     TABLAT, W
001614 E1??               M         bnz     loop_
001616 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
00161A 0E??               M         movlw   upper Halfs
00161C 6EF8               M         movwf   TBLPTRU
00161E 0E??               M         movlw   high Halfs
001620 6EF7               M         movwf   TBLPTRH
001622 0E??               M         movlw   low Halfs
001624 6EF6               M         movwf   TBLPTRL
001626 0008               M         tblrd*
001628 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00162A                    M         loop_   
00162A EC?? F???          M         call     WrtLCD
00162E 000B               M         tblrd+*
001630 50F5               M         movf     TABLAT, W
001632 E1??               M         bnz     loop_
001634 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
001638 0E??               M         movlw   upper Emptys
00163A 6EF8               M         movwf   TBLPTRU
00163C 0E??               M         movlw   high Emptys
00163E 6EF7               M         movwf   TBLPTRH
001640 0E??               M         movlw   low Emptys
001642 6EF6               M         movwf   TBLPTRL
001644 0008               M         tblrd*
001646 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001648                    M         loop_   
001648 EC?? F???          M         call     WrtLCD
00164C 000B               M         tblrd+*
00164E 50F5               M         movf     TABLAT, W
001650 E1??               M         bnz     loop_
001652                    M wend
                      01386          write      Location
  0000                    M         local   loop_
001652 0E??               M         movlw   upper Location
001654 6EF8               M         movwf   TBLPTRU
001656 0E??               M         movlw   high Location
001658 6EF7               M         movwf   TBLPTRH
00165A 0E??               M         movlw   low Location
00165C 6EF6               M         movwf   TBLPTRL
00165E 0008               M         tblrd*
001660 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001662                    M         loop_   
001662 EC?? F???          M         call     WrtLCD
001666 000B               M         tblrd+*
001668 50F5               M         movf     TABLAT, W
00166A E1??               M         bnz     loop_
                      01387          sepdig     b7L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00166C 0E00               M         movlw      b'0'
00166E 6F82               M         movwf      dig12
001670 6E7C               M         movwf      dig2
001672 6E7D               M         movwf      dig3
                          M         
001674 51B2               M         movf       b7L, W
001676 6F86               M         movwf      tot
001678 0E63               M loop3   movlw      d'99'
00167A 6586               M         cpfsgt     tot
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00167C EF?? F???          M         goto       loop2
001680 2B82               M         incf       dig12
001682 5F86               M         subwf      tot, f
001684 0786               M         decf       tot, f
001686 EF?? F???          M         goto       loop3
00168A 0E09               M loop2   movlw      d'9'
00168C 6586               M         cpfsgt     tot
00168E EF?? F???          M         goto       loop1
001692 2A7C               M         incf       dig2
001694 5F86               M         subwf      tot, f
001696 0786               M         decf       tot, f
001698 EF?? F???          M         goto       loop2
00169C 0E00               M loop1   movlw      d'0'
00169E 6586               M         cpfsgt     tot
0016A0 EF?? F???          M         goto       fin
0016A4 2A7D               M         incf       dig3
0016A6 5F86               M         subwf      tot, f
0016A8 0786               M         decf       tot, f
0016AA EF?? F???          M         goto       loop1
0016AE                    M fin     
0016AE EC?? F???      01388          call       WrtNum
0016B2 EC?? F???      01389          call       keywait
0016B6 EC?? F???      01390          call       ClrLCD
                      01391          write      Hob
  0000                    M         local   loop_
0016BA 0E??               M         movlw   upper Hob
0016BC 6EF8               M         movwf   TBLPTRU
0016BE 0E??               M         movlw   high Hob
0016C0 6EF7               M         movwf   TBLPTRH
0016C2 0E??               M         movlw   low Hob
0016C4 6EF6               M         movwf   TBLPTRL
0016C6 0008               M         tblrd*
0016C8 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0016CA                    M         loop_   
0016CA EC?? F???          M         call     WrtLCD
0016CE 000B               M         tblrd+*
0016D0 50F5               M         movf     TABLAT, W
0016D2 E1??               M         bnz     loop_
0016D4 BDBD           01392          btfsc      bheight, 6
                      01393          write      ftall
  0000                    M         local   loop_
0016D6 0E??               M         movlw   upper ftall
0016D8 6EF8               M         movwf   TBLPTRU
0016DA 0E??               M         movlw   high ftall
0016DC 6EF7               M         movwf   TBLPTRH
0016DE 0E??               M         movlw   low ftall
0016E0 6EF6               M         movwf   TBLPTRL
0016E2 0008               M         tblrd*
0016E4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0016E6                    M         loop_   
0016E6 EC?? F???          M         call     WrtLCD
0016EA 000B               M         tblrd+*
0016EC 50F5               M         movf     TABLAT, W
0016EE E1??               M         bnz     loop_
                      01394          write      fshort
  0000                    M         local   loop_
0016F0 0E??               M         movlw   upper fshort
0016F2 6EF8               M         movwf   TBLPTRU
0016F4 0E??               M         movlw   high fshort
0016F6 6EF7               M         movwf   TBLPTRH
0016F8 0E??               M         movlw   low fshort
0016FA 6EF6               M         movwf   TBLPTRL
0016FC 0008               M         tblrd*
0016FE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001700                    M         loop_   
001700 EC?? F???          M         call     WrtLCD
001704 000B               M         tblrd+*
001706 50F5               M         movf     TABLAT, W
001708 E1??               M         bnz     loop_
00170A EC?? F???      01395          call       keywait
00170E EF?? F???      01396          goto       finish
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001712 EC?? F???      01397 shend    call       ClrLCD
                      01398          write      Nob
  0000                    M         local   loop_
001716 0E??               M         movlw   upper Nob
001718 6EF8               M         movwf   TBLPTRU
00171A 0E??               M         movlw   high Nob
00171C 6EF7               M         movwf   TBLPTRH
00171E 0E??               M         movlw   low Nob
001720 6EF6               M         movwf   TBLPTRL
001722 0008               M         tblrd*
001724 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001726                    M         loop_   
001726 EC?? F???          M         call     WrtLCD
00172A 000B               M         tblrd+*
00172C 50F5               M         movf     TABLAT, W
00172E E1??               M         bnz     loop_
001730 EC?? F???      01399          call       keywait
001734 EF?? F???      01400          goto       finish
                      01401         
                      01402 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Interrupts;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01403          
001738 6AF1           01404 setints  clrf      INTCON2
00173A 6AF0           01405          clrf      INTCON3
00173C 9ED0           01406          bcf       RCON, 7        ;no priority interrupts*
00173E 8CF2           01407          bsf       INTCON, 6
001740 8EF2           01408          bsf       INTCON, 7
001742 6A9E           01409          clrf      PIR1
001744 6AA1           01410          clrf      PIR2
001746 88F2           01411          bsf       INTCON, 4
001748 88F0           01412          bsf       INTCON3, 4
00174A 8CF1           01413          bsf       INTCON2, 6
00174C 88F1           01414          bsf       INTCON2, 4
00174E 0012           01415          return
001750                01416 show_gyro
                      01417          
                      01418                 
                      01419                 gyro_read    0x29
                          M         
001750 0E29               M         movlw   0x29
001752 6E73               M         movwf   ADD
001754 EC?? F???          M         call    read_gyro
                          M         ;sepdig DOUT
                          M         ;call   WrtNum
001758 C075 F0BB      01420                 movff   DOUT, gyrox
                      01421                 ;sepdig gyrox
                      01422                 ;call   WrtNum
                      01423                 ;bcf    gyrox, 7
                      01424                 ;bcf    gyrox, 6
                      01425                 ;rlncf  gyrox
                      01426                 ;rlncf  gyrox
                      01427                 
                      01428                 ;gyro_read    0x28
                      01429                 ;btfsc      DOUT, 7
                      01430                 ;bsf        gyrox, 1
                      01431                 ;btfsc      DOUT, 6
                      01432                 ;bsf        gyrox, 0
                      01433                 
                      01434                 ;call       ClrLCD
                      01435                 ;movlw      "X"
                      01436                 ;call       WR_DATA
                      01437                 ;movlw      ":"
                      01438                 ;call       WR_DATA
                      01439                 ;sepdig     gyrox
                      01440                 ;call       WrtNum
                      01441                 
00175C 0012           01442                 return
00175E                01443 show_MG
                      01444         
00175E EC?? F???      01445                 call    ClrLCD
001762 0E4D           01446                 movlw   "M"
001764 EC?? F???      01447                 call    WR_DATA
001768 0E20           01448                 movlw   " "
00176A EC?? F???      01449                 call    WR_DATA
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01450                 mg_read    0x07
                          M                 
00176E 0E07               M         movlw   0x07
001770 6E73               M         movwf   ADD
001772 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001776 0E00               M         movlw      b'0'
001778 6F82               M         movwf      dig12
00177A 6E7C               M         movwf      dig2
00177C 6E7D               M         movwf      dig3
                          M         
00177E 5075               M         movf       DOUT, W
001780 6F86               M         movwf      tot
001782 0E63               M loop3   movlw      d'99'
001784 6586               M         cpfsgt     tot
001786 EF?? F???          M         goto       loop2
00178A 2B82               M         incf       dig12
00178C 5F86               M         subwf      tot, f
00178E 0786               M         decf       tot, f
001790 EF?? F???          M         goto       loop3
001794 0E09               M loop2   movlw      d'9'
001796 6586               M         cpfsgt     tot
001798 EF?? F???          M         goto       loop1
00179C 2A7C               M         incf       dig2
00179E 5F86               M         subwf      tot, f
0017A0 0786               M         decf       tot, f
0017A2 EF?? F???          M         goto       loop2
0017A6 0E00               M loop1   movlw      d'0'
0017A8 6586               M         cpfsgt     tot
0017AA EF?? F???          M         goto       fin
0017AE 2A7D               M         incf       dig3
0017B0 5F86               M         subwf      tot, f
0017B2 0786               M         decf       tot, f
0017B4 EF?? F???          M         goto       loop1
0017B8                    M fin     
0017B8 EC?? F???          M         call    WrtNum
                      01451                 
0017BC 0E20           01452                 movlw   " "
0017BE EC?? F???      01453                 call    WR_DATA
0017C2 0E4C           01454                 movlw   "L"
0017C4 EC?? F???      01455                 call    WR_DATA
0017C8 0E20           01456                 movlw   " "
0017CA EC?? F???      01457                 call    WR_DATA
                      01458                 
                      01459                 mg_read    0x08
                          M                 
0017CE 0E08               M         movlw   0x08
0017D0 6E73               M         movwf   ADD
0017D2 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0017D6 0E00               M         movlw      b'0'
0017D8 6F82               M         movwf      dig12
0017DA 6E7C               M         movwf      dig2
0017DC 6E7D               M         movwf      dig3
                          M         
0017DE 5075               M         movf       DOUT, W
0017E0 6F86               M         movwf      tot
0017E2 0E63               M loop3   movlw      d'99'
0017E4 6586               M         cpfsgt     tot
0017E6 EF?? F???          M         goto       loop2
0017EA 2B82               M         incf       dig12
0017EC 5F86               M         subwf      tot, f
0017EE 0786               M         decf       tot, f
0017F0 EF?? F???          M         goto       loop3
0017F4 0E09               M loop2   movlw      d'9'
0017F6 6586               M         cpfsgt     tot
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0017F8 EF?? F???          M         goto       loop1
0017FC 2A7C               M         incf       dig2
0017FE 5F86               M         subwf      tot, f
001800 0786               M         decf       tot, f
001802 EF?? F???          M         goto       loop2
001806 0E00               M loop1   movlw      d'0'
001808 6586               M         cpfsgt     tot
00180A EF?? F???          M         goto       fin
00180E 2A7D               M         incf       dig3
001810 5F86               M         subwf      tot, f
001812 0786               M         decf       tot, f
001814 EF?? F???          M         goto       loop1
001818                    M fin     
001818 EC?? F???          M         call    WrtNum
                      01460                 
                      01461                 
                      01462                 
                      01463                 
                      01464                 
00181C 0012           01465                 return
00181E                01466 show_RTC
                      01467                 ;clear LCD screen
                      01468                 ;movlw  b'00000001'
                      01469                 ;call   WR_INS
00181E EC?? F???      01470                 call    ClrLCD
                      01471                 ;write  YES
                      01472                 ;Get year
001822 0E32           01473                 movlw   "2"                             ;First line shows 20**/**/**
001824 EC?? F???      01474                 call    WrtLCD
001828 0E30           01475                 movlw   "0"
00182A EC?? F???      01476                 call    WrtLCD
                      01477                 ;write  YES
                      01478                 rtc_read        0x06            ;Read Address 0x06 from DS1307---year
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
00182E 0E06               M         movlw   0x06
                          M 
001830 6E73               M         movwf   ADD
001832 EC?? F???          M         call    read_rtc
                          M 
001836 5075               M         movf    DOUT,w
001838 EC?? F???          M         call    rtc_convert   
                      01479                 
                      01480                 
00183C 5077           01481                 movf    dig10, W
00183E EC?? F???      01482                 call    WrtLCD
001842 5078           01483                 movf    dig1, W
001844 EC?? F???      01484                 call    WrtLCD
                      01485 
001848 0E2F           01486                 movlw   "/"
00184A EC?? F???      01487                 call    WrtLCD
                      01488 
                      01489                 ;Get month
                      01490                 rtc_read        0x05            ;Read Address 0x05 from DS1307---month
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
00184E 0E05               M         movlw   0x05
                          M 
001850 6E73               M         movwf   ADD
001852 EC?? F???          M         call    read_rtc
                          M 
001856 5075               M         movf    DOUT,w
001858 EC?? F???          M         call    rtc_convert   
00185C 5077           01491                 movf    dig10, W
00185E EC?? F???      01492                 call    WrtLCD
001862 5078           01493                 movf    dig1, W
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001864 EC?? F???      01494                 call    WrtLCD
                      01495 
001868 0E2F           01496                 movlw   "/"
00186A EC?? F???      01497                 call    WrtLCD
                      01498 
                      01499                 ;Get day
                      01500                 rtc_read        0x04            ;Read Address 0x04 from DS1307---day
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
00186E 0E04               M         movlw   0x04
                          M 
001870 6E73               M         movwf   ADD
001872 EC?? F???          M         call    read_rtc
                          M 
001876 5075               M         movf    DOUT,w
001878 EC?? F???          M         call    rtc_convert   
00187C 5077           01501                 movf    dig10, W
00187E EC?? F???      01502                 call    WR_DATA
001882 5078           01503                 movf    dig1, W
001884 EC?? F???      01504                 call    WR_DATA
                      01505 
001888 0EC0           01506                 movlw   B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
00188A EC?? F???      01507                 call    WR_INS
                      01508 
                      01509                 ;Get hour
                      01510                 rtc_read        0x02            ;Read Address 0x02 from DS1307---hour
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
00188E 0E02               M         movlw   0x02
                          M 
001890 6E73               M         movwf   ADD
001892 EC?? F???          M         call    read_rtc
                          M 
001896 5075               M         movf    DOUT,w
001898 EC?? F???          M         call    rtc_convert   
00189C 5077           01511                 movf    dig10, W
00189E EC?? F???      01512                 call    WR_DATA
0018A2 5078           01513                 movf    dig1, W
0018A4 EC?? F???      01514                 call    WR_DATA
0018A8 0E3A           01515                 movlw                   ":"
0018AA EC?? F???      01516                 call    WR_DATA
0018AE                01517 fgetoptime
                      01518                 ;movlw  B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
                      01519                 ;call   WR_INS
                      01520                 ;Get minute     
0018AE EC?? F???      01521                 call    ClrLCD
                      01522                 write   OperTime
  0000                    M         local   loop_
0018B2 0E??               M         movlw   upper OperTime
0018B4 6EF8               M         movwf   TBLPTRU
0018B6 0E??               M         movlw   high OperTime
0018B8 6EF7               M         movwf   TBLPTRH
0018BA 0E??               M         movlw   low OperTime
0018BC 6EF6               M         movwf   TBLPTRL
0018BE 0008               M         tblrd*
0018C0 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0018C2                    M         loop_   
0018C2 EC?? F???          M         call     WrtLCD
0018C6 000B               M         tblrd+*
0018C8 50F5               M         movf     TABLAT, W
0018CA E1??               M         bnz     loop_
0018CC 0EC0           01523                 movlw   b'11000000'
0018CE EC?? F???      01524                 call    WR_INS
                      01525                 
                      01526                 rtc_read        0x01            ;Read Address 0x01 from DS1307---min
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
0018D2 0E01               M         movlw   0x01
                          M 
0018D4 6E73               M         movwf   ADD
0018D6 EC?? F???          M         call    read_rtc
                          M 
0018DA 5075               M         movf    DOUT,w
0018DC EC?? F???          M         call    rtc_convert   
0018E0 5077           01527                 movf    dig10, W
0018E2 EC?? F???      01528                 call    WR_DATA
0018E6 5078           01529                 movf    dig1, W
0018E8 EC?? F???      01530                 call    WR_DATA         
0018EC 0E3A           01531                 movlw   ":"
0018EE EC?? F???      01532                 call    WR_DATA
                      01533                 
                      01534                 ;Get seconds
                      01535                 rtc_read        0x00            ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
0018F2 0E00               M         movlw   0x00
                          M 
0018F4 6E73               M         movwf   ADD
0018F6 EC?? F???          M         call    read_rtc
                          M 
0018FA 5075               M         movf    DOUT,w
0018FC EC?? F???          M         call    rtc_convert   
001900 5077           01536                 movf    dig10, W
001902 EC?? F???      01537                 call    WR_DATA
001906 5078           01538                 movf    dig1, W
001908 EC?? F???      01539                 call    WR_DATA
                      01540                 
                      01541                 ;call   OneS                    ;Delay for exactly one seconds and read DS1307 again
                      01542                 
00190C 0012           01543                 return
                      01544 
                      01545 ;***************************************
                      01546 ; Setup RTC with time defined by user
                      01547 ;***************************************
00190E                01548 set_rtc_time
                      01549 
                      01550                 rtc_resetAll    ;reset rtc
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          Resets all the time keeping registers on the RTC to zero
                          M 
00190E 6A74               M         clrf            DAT
001910 6A73               M         clrf            ADD
001912 EC?? F???          M     call        write_rtc       
001916 2A73               M     incf        ADD                     ;Set register address to 1
001918 EC?? F???          M         call            write_rtc
00191C 2A73               M     incf        ADD                     ;Set register address to 2
00191E EC?? F???          M         call            write_rtc
001922 2A73               M     incf        ADD                     ;Set register address to 3
001924 EC?? F???          M         call            write_rtc
001928 2A73               M     incf        ADD                     ;Set register address to 4
00192A EC?? F???          M         call            write_rtc
00192E 2A73               M     incf        ADD                     ;Set register address to 5
001930 EC?? F???          M         call            write_rtc
001934 2A73               M     incf        ADD                     ;Set register address to 6
001936 EC?? F???          M         call            write_rtc
                      01551 
                      01552                 rtc_set 0x00,   B'10000000'
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
00193A 0E00               M         movlw   0x00
00193C 6E73               M         movwf   ADD
                          M 
00193E 0E80               M         movlw   B'10000000'
001940 6E74               M         movwf   DAT     
001942 EC?? F???          M         call    write_rtc
                      01553 
                      01554                 ;set time 
                      01555                 rtc_set 0x06,   B'00010110'             ; Year
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001946 0E06               M         movlw   0x06
001948 6E73               M         movwf   ADD
                          M 
00194A 0E16               M         movlw   B'00010110'
00194C 6E74               M         movwf   DAT     
00194E EC?? F???          M         call    write_rtc
                      01556                 rtc_set 0x05,   B'00000011'             ; Month
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001952 0E05               M         movlw   0x05
001954 6E73               M         movwf   ADD
                          M 
001956 0E03               M         movlw   B'00000011'
001958 6E74               M         movwf   DAT     
00195A EC?? F???          M         call    write_rtc
                      01557                 rtc_set 0x04,   B'00000110'             ; Date
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
00195E 0E04               M         movlw   0x04
001960 6E73               M         movwf   ADD
                          M 
001962 0E06               M         movlw   B'00000110'
001964 6E74               M         movwf   DAT     
001966 EC?? F???          M         call    write_rtc
                      01558                 rtc_set 0x03,   B'00000010'             ; Day
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
00196A 0E03               M         movlw   0x03
00196C 6E73               M         movwf   ADD
                          M 
00196E 0E02               M         movlw   B'00000010'
001970 6E74               M         movwf   DAT     
001972 EC?? F???          M         call    write_rtc
                      01559                 rtc_set 0x02,   B'00000001'             ; Hours
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001976 0E02               M         movlw   0x02
001978 6E73               M         movwf   ADD
                          M 
00197A 0E01               M         movlw   B'00000001'
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00197C 6E74               M         movwf   DAT     
00197E EC?? F???          M         call    write_rtc
                      01560                 rtc_set 0x01,   B'00000000'             ; Minutes
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001982 0E01               M         movlw   0x01
001984 6E73               M         movwf   ADD
                          M 
001986 0E00               M         movlw   B'00000000'
001988 6E74               M         movwf   DAT     
00198A EC?? F???          M         call    write_rtc
                      01561                 rtc_set 0x00,   B'00000000'             ; Seconds
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
00198E 0E00               M         movlw   0x00
001990 6E73               M         movwf   ADD
                          M 
001992 0E00               M         movlw   B'00000000'
001994 6E74               M         movwf   DAT     
001996 EC?? F???          M         call    write_rtc
                      01562         
00199A 0012           01563                 return
                      01564 
                      01565 
                      01566 ;***************************************
                      01567 ; Delay 1s
                      01568 ;***************************************
00199C                01569 OneS
  0000                01570       local     OneS_0
00199C 0E10           01571       movlw 0x10
00199E 6E??           01572       movwf COUNTH
0019A0 0E7A           01573       movlw 0x7A
0019A2 6E??           01574       movwf COUNTM
0019A4 0E06           01575       movlw 0x06
0019A6 6E??           01576       movwf COUNTL
                      01577 
0019A8                01578 OneS_0
0019A8 2E??           01579       decfsz COUNTH, f
0019AA EF?? F???      01580       goto   l8
0019AE 2E??           01581       decfsz COUNTM, f
Warning[207]: Found label after column 1. (l8)
0019B0 EF?? F???      01582  l8     goto   l9
0019B4 2E??           01583       decfsz COUNTL, f
0019B6 EF?? F???      01584 l9      goto   OneS_0
                      01585 
0019BA EF?? F???      01586       goto l10
0019BE 0000           01587 l10     nop
0019C0 0000           01588       nop
0019C2 0012           01589                 return
                      01590 
                      01591 
                      01592 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Counter;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0019C4                01593 count_module
0019C4 0EFF           01594          movlw      b'11111111'
0019C6 6E94           01595          movwf      TRISC       
0019C8 0E00           01596          movlw      b'00000000'
0019CA 6E8B           01597          movwf      LATC
0019CC                01598 cwait    
0019CC EC?? F???      01599          call       sdelay
0019D0 EF?? F???      01600          goto       cwait
0019D4 808B           01601          bsf        LATC, 0
0019D6 EC?? F???      01602          call       sdelay
0019DA 908B           01603          bcf        LATC, 0
0019DC EC?? F???      01604          call       sdelay
0019E0 EF?? F???      01605          goto       cwait
                      01606 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Light Sensor;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0019E4                01607 LS_module
0019E4 0EF0           01608          movlw      b'11110000'
0019E6 6E94           01609          movwf      TRISC
0019E8 0E00           01610          movlw      b'00000000'
0019EA 6E8B           01611          movwf      LATC
0019EC 5082           01612 LSloop   movf       PORTC, W
0019EE 46E8           01613          rlncf      WREG, f
0019F0 6E8B           01614          movwf      LATC
0019F2 EF?? F???      01615          goto       LSloop
                      01616 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PWM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0019F6                01617 PWM_module
0019F6                01618 PWMinit
                      01619         ; bcf       TRISC, 1
                      01620         ; bcf       TRISC, 2
                      01621         ; bcf       TRISC, 0
0019F6 908B           01622          bcf        LATC, 0
0019F8 0E63           01623          movlw      d'99'
0019FA 6ECB           01624          movwf      PR2
                      01625          ;movff     pwm, WREG
0019FC 0E64           01626          movlw      d'100'
0019FE 6EBB           01627          movwf      CCPR2L
001A00 6FB7           01628          movwf      pwmR
001A02 0E64           01629          movlw      d'100'
001A04 6EBE           01630          movwf      CCPR1L
001A06 6FB6           01631          movwf      pwmL
                      01632          
001A08 0E3C           01633          movlw      b'00111100'
001A0A 6EBD           01634          movwf      CCP1CON
001A0C 6EBA           01635          movwf      CCP2CON
001A0E 0E04           01636          movlw      b'00000100'
001A10 6ECA           01637          movwf      T2CON
001A12 0E64           01638          movlw      d'100'
001A14 0012           01639          return
001A16 EF?? F???      01640 pwmwait goto        pwmwait
001A1A                01641 test50100
001A1A EC?? F???      01642          call       sdelay
001A1E EC?? F???      01643          call       sdelay
001A22 EC?? F???      01644          call       sdelay
001A26 EC?? F???      01645          call       sdelay
001A2A EC?? F???      01646          call       sdelay
001A2E EC?? F???      01647          call       sdelay
001A32 0E64           01648          movlw      d'100'
001A34 CFE8 FFBB      01649          movff      WREG, CCPR2L
001A38 CFE8 FFBE      01650          movff      WREG, CCPR1L
001A3C EC?? F???      01651          call       sdelay
001A40 EC?? F???      01652          call       sdelay
001A44 EC?? F???      01653          call       sdelay
001A48 EC?? F???      01654          call       sdelay
001A4C EC?? F???      01655          call       sdelay
001A50 EC?? F???      01656          call       sdelay
001A54 0E1E           01657          movlw      d'30'
001A56 CFE8 FFBB      01658          movff      WREG, CCPR2L
001A5A CFE8 FFBE      01659          movff      WREG, CCPR1L
001A5E EF?? F???      01660          goto       test50100
001A62                01661 setPWM  
001A62 C0B6 FFBE      01662          movff      pwmL, CCPR1L
001A66 C0B7 FFBB      01663          movff      pwmR, CCPR2L
001A6A 0012           01664          return
001A6C                01665 DirectionC
001A6C 908B           01666          bcf        LATC, 0
001A6E 928B           01667          bcf        LATC, 1
001A70 EC?? F???      01668          call       sdelay
001A74 EC?? F???      01669          call       sdelay
001A78 EC?? F???      01670          call       sdelay
001A7C EC?? F???      01671          call       sdelay
001A80 EC?? F???      01672          call       sdelay
001A84 EC?? F???      01673          call       sdelay
001A88 828B           01674          bsf        LATC, 1
001A8A EC?? F???      01675          call       test50100
001A8E EC?? F???      01676          call       sdelay
001A92 EC?? F???      01677          call       sdelay
001A96 EC?? F???      01678          call       sdelay
001A9A EC?? F???      01679          call       sdelay
001A9E EC?? F???      01680          call       sdelay
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001AA2 EC?? F???      01681          call       sdelay
001AA6 928B           01682          bcf        LATC, 1
001AA8 EC?? F???      01683          call       sdelay
001AAC EC?? F???      01684          call       sdelay
001AB0 EC?? F???      01685          call       sdelay
001AB4 EC?? F???      01686          call       sdelay
001AB8 EC?? F???      01687          call       sdelay
001ABC EC?? F???      01688          call       sdelay
001AC0 808B           01689          bsf        LATC, 0
001AC2 EC?? F???      01690          call       test50100
001AC6 EC?? F???      01691          call       sdelay
001ACA EC?? F???      01692          call       sdelay
001ACE EC?? F???      01693          call       sdelay
001AD2 EC?? F???      01694          call       sdelay
001AD6 EC?? F???      01695          call       sdelay
001ADA EC?? F???      01696          call       sdelay
001ADE EF?? F???      01697          goto       DirectionC
                      01698         ; goto      swait
                      01699          
                      01700 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ULTRASONIC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01701 
001AE2                01702 armUS
001AE2 8E94           01703         bsf         TRISC, 7
001AE4 9294           01704         bcf         TRISC, 1
001AE6 928B           01705         bcf         LATC, 1
                      01706         write       Ready
  0000                    M         local   loop_
001AE8 0E??               M         movlw   upper Ready
001AEA 6EF8               M         movwf   TBLPTRU
001AEC 0E??               M         movlw   high Ready
001AEE 6EF7               M         movwf   TBLPTRH
001AF0 0E??               M         movlw   low Ready
001AF2 6EF6               M         movwf   TBLPTRL
001AF4 0008               M         tblrd*
001AF6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001AF8                    M         loop_   
001AF8 EC?? F???          M         call     WrtLCD
001AFC 000B               M         tblrd+*
001AFE 50F5               M         movf     TABLAT, W
001B00 E1??               M         bnz     loop_
001B02                01707 aloopUS
001B02 EC?? F???      01708         call        tdelay
001B06 6B8B           01709         clrf        time
001B08 828B           01710         bsf         LATC, 1
001B0A 91B9           01711         bcf         USOF, 0
001B0C 0E03           01712         movlw       d'3'
001B0E                01713 apause
001B0E 2EE8           01714         decfsz      WREG, f
001B10 EF?? F???      01715         goto        apause
001B14 928B           01716         bcf         LATC, 1
001B16 BE82           01717 aw1      btfsc      PORTC, 7
001B18 EF?? F???      01718          goto       aw2
001B1C EF?? F???      01719          goto       aw1
001B20 AE82           01720 aw2      btfss      PORTC, 7
001B22 EF?? F???      01721          goto       aendUS
001B26 EC?? F???      01722          call       check_sense
001B2A 2B8B           01723          incf       time
001B2C 0EFF           01724          movlw      d'255'
001B2E 638B           01725          cpfseq     time
001B30 EF?? F???      01726          goto       aw2
001B34 81B9           01727          bsf        USOF, 0
001B36 EF?? F???      01728          goto       aendUS
001B3A                01729 aendUS
001B3A B1B9           01730          btfsc      USOF, 0
001B3C EF?? F???      01731          goto       aloopUS
                      01732          sepdig     time
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001B40 0E00               M         movlw      b'0'
001B42 6F82               M         movwf      dig12
001B44 6E7C               M         movwf      dig2
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001B46 6E7D               M         movwf      dig3
                          M         
001B48 518B               M         movf       time, W
001B4A 6F86               M         movwf      tot
001B4C 0E63               M loop3   movlw      d'99'
001B4E 6586               M         cpfsgt     tot
001B50 EF?? F???          M         goto       loop2
001B54 2B82               M         incf       dig12
001B56 5F86               M         subwf      tot, f
001B58 0786               M         decf       tot, f
001B5A EF?? F???          M         goto       loop3
001B5E 0E09               M loop2   movlw      d'9'
001B60 6586               M         cpfsgt     tot
001B62 EF?? F???          M         goto       loop1
001B66 2A7C               M         incf       dig2
001B68 5F86               M         subwf      tot, f
001B6A 0786               M         decf       tot, f
001B6C EF?? F???          M         goto       loop2
001B70 0E00               M loop1   movlw      d'0'
001B72 6586               M         cpfsgt     tot
001B74 EF?? F???          M         goto       fin
001B78 2A7D               M         incf       dig3
001B7A 5F86               M         subwf      tot, f
001B7C 0786               M         decf       tot, f
001B7E EF?? F???          M         goto       loop1
001B82                    M fin     
001B82 EC?? F???      01733          call       ClrLCD
001B86 EC?? F???      01734          call       WrtNum
001B8A 0E14           01735          movlw      d'20'
001B8C 658B           01736          cpfsgt     time
001B8E 0012           01737          return
001B90 EC?? F???      01738          call       sdelay
001B94 EF?? F???      01739          goto       aloopUS
001B98                01740 US_module
                      01741 
001B98                01742 us0c
001B98 0E20           01743          movlw      " "
001B9A EC?? F???      01744          call       WR_DATA
001B9E 0E30           01745          movlw      "0"
001BA0 EC?? F???      01746          call       WR_DATA
001BA4 0E30           01747          movlw      "0"
001BA6 EC?? F???      01748          call       WR_DATA
001BAA 0E30           01749          movlw      "0"
001BAC EC?? F???      01750          call       WR_DATA
001BB0                01751 loopUS  ;call       sdelay
001BB0 9284           01752          bcf        PORTE, 1
001BB2 91B9           01753          bcf        USOF, 0
001BB4 EC?? F???      01754          call      tdelay
001BB8 0E00           01755          movlw      d'0'
001BBA 6F8B           01756          movwf      time
001BBC 8A89           01757          bsf        LATA, 5
001BBE 0E03           01758          movlw      d'3'
001BC0 2EE8           01759 pause    decfsz     WREG, f
001BC2 EF?? F???      01760          goto       pause
001BC6 9A89           01761          bcf        LATA, 5
001BC8 B284           01762 w1       btfsc      PORTE, 1
001BCA EF?? F???      01763          goto       w2
001BCE EF?? F???      01764          goto       w1
001BD2 A284           01765 w2       btfss      PORTE, 1
001BD4 EF?? F???      01766          goto       endUS
001BD8 9A8B           01767          bcf        LATC, 5      
001BDA EC?? F???      01768          call       check_sense
001BDE 2B8B           01769          incf       time
001BE0 0EFF           01770          movlw      d'255'
001BE2 638B           01771          cpfseq     time
001BE4 EF?? F???      01772          goto       w2
001BE8 81B9           01773          bsf        USOF, 0
001BEA EF?? F???      01774          goto       loopUS1
001BEE B1B9           01775 endUS    btfsc      USOF, 0     
001BF0 EF?? F???      01776          goto       loopUS
001BF4 0E1E           01777          movlw      d'30'
001BF6 EC?? F???      01778          call       sdelay
                      01779          ;call      ClrLCD
                      01780          ;sepdig            time
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01781          ;call      WrtNum
001BFA 658B           01782          cpfsgt     time
                      01783          
001BFC EF?? F???      01784          goto       arm_drive
001C00 EF?? F???      01785          goto       loopUS1
                      01786          ;goto      loop_US
                      01787         ; return
                      01788          ;bsf       LATC, 5
                      01789         ; call       barrel_detected
                      01790         ; movlw     d'30'
                      01791          ;cpfslt            time
                      01792          ;bcf       bt, 0
                      01793         ; call      sdelay
001C04 EC?? F???      01794 us1c     call       ClrLCD
001C08 0E30           01795          movlw      "0"
001C0A EC?? F???      01796          call       WR_DATA
001C0E 0E30           01797          movlw      "0"
001C10 EC?? F???      01798          call       WR_DATA
001C14 0E30           01799          movlw      "0"
001C16 EC?? F???      01800          call       WR_DATA
                      01801         
001C1A 9084           01802 loopUS1  bcf        PORTE, 0
001C1C 93B9           01803          bcf        USOF, 1
001C1E EC?? F???      01804          call      tdelay
001C22 0E00           01805          movlw      d'0'
001C24 6F8B           01806          movwf      time
001C26 8A89           01807          bsf        LATA, 5
001C28 0E03           01808          movlw      d'3'
001C2A 2EE8           01809 pause1   decfsz     WREG, f
001C2C EF?? F???      01810          goto       pause1
001C30 9A89           01811          bcf        LATA, 5
001C32 B084           01812 w11      btfsc      PORTE, 0
001C34 EF?? F???      01813          goto       w21
001C38 EF?? F???      01814          goto       w11
001C3C A084           01815 w21      btfss      PORTE, 0
001C3E EF?? F???      01816          goto       endUS1
001C42 988B           01817          bcf        LATC, 4      
001C44 EC?? F???      01818          call       check_sense
001C48 2B8B           01819          incf       time
001C4A 0EFF           01820          movlw      d'255'
001C4C 638B           01821          cpfseq     time
001C4E EF?? F???      01822          goto       w21
001C52 83B9           01823          bsf        USOF, 1
001C54 EF?? F???      01824          goto       endUS1
001C58 B3B9           01825 endUS1   btfsc      USOF, 1
001C5A EF?? F???      01826          goto       uss
                      01827         ; sepdig            time
                      01828         ; call      ClrLCD
                      01829         ; call      WrtNum
001C5E 0E14           01830          movlw      d'20'
001C60 658B           01831          cpfsgt     time
                      01832          ;bsf       LATC, 4
001C62 EC?? F???      01833          call       barrel_detected
001C66 0E14           01834 uss      movlw      d'20'
001C68 618B           01835          cpfslt     time
001C6A 91A2           01836          bcf        bt, 0
001C6C 0012           01837          return
                      01838         ; call      tdelay
001C6E                01839 us2c    
                      01840         ; movlw     " "
                      01841         ; call      WR_DATA
                      01842          ;movlw     "0"
                      01843          ;call      WR_DATA
                      01844          ;movlw     "0"
                      01845          ;call      WR_DATA
                      01846          ;movlw     "0"
                      01847          ;call      WR_DATA
001C6E 9484           01848 loopUS2  bcf        PORTE, 2
001C70 95B9           01849          bcf        USOF, 2
001C72 EC?? F???      01850          call      tdelay
001C76 0E00           01851          movlw      d'0'
001C78 6F8B           01852          movwf      time
001C7A 8A89           01853          bsf        LATA, 5
001C7C 0E03           01854          movlw      d'3'
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001C7E 2EE8           01855 pause2   decfsz     WREG, f
001C80 EF?? F???      01856          goto       pause2
001C84 9A89           01857          bcf        LATA, 5
001C86 B484           01858 w12      btfsc      PORTE, 2
001C88 EF?? F???      01859          goto       w22
001C8C EF?? F???      01860          goto       w12
001C90 A484           01861 w22      btfss      PORTE, 2
001C92 EF?? F???      01862          goto       endUS2
001C96 9E8B           01863          bcf        LATC, 7      
001C98 EC?? F???      01864          call       check_sense
001C9C 2B8B           01865          incf       time
001C9E 0EFF           01866          movlw      d'255'
001CA0 638B           01867          cpfseq     time
001CA2 EF?? F???      01868          goto       w22
001CA6 85B9           01869          bsf        USOF, 2
001CA8 EF?? F???      01870          goto       endUS2
001CAC B5B9           01871 endUS2   btfsc      USOF, 2
001CAE EF?? F???      01872          goto       shortHandle
                      01873         ; sepdig            time
                      01874         ; call      ClrLCD
                      01875         ; call      WrtNum
001CB2 EC?? F???      01876          call       sdelay
001CB6 9E8B           01877          bcf        LATC, 7
001CB8 0E14           01878          movlw      d'20' 
001CBA 658B           01879          cpfsgt     time
                      01880          ;bsf       LATC, 7
001CBC EF?? F???      01881          goto       tallHandle
001CC0 EF?? F???      01882          goto       shortHandle
                      01883         ; call       barrel_detected
001CC4 0E14           01884          movlw      d'20'
001CC6 618B           01885          cpfslt     time
                      01886          
                      01887          ;bcf       bt, 0
001CC8 EF?? F???      01888          goto       loopUS
                      01889         
                      01890         
001CCC EF?? F???      01891 wait      goto     wait
                      01892 
001CD0                01893 check_sense     
001CD0 0E12           01894         movlw   d'18'
                      01895         
001CD2 6F8D           01896         movwf   sensitivity
001CD4                01897 senseloop
001CD4 2F8D           01898         decfsz  sensitivity, f
001CD6 EF?? F???      01899         goto    senseloop
001CDA 0012           01900         return
                      01901         
001CDC                01902 enchandle
001CDC B2F2           01903         btfsc   INTCON, 1
001CDE EC?? F???      01904         call    rhandle
001CE2 B2F0           01905         btfsc   INTCON3, 1
001CE4 EC?? F???      01906         call    lhandle
001CE8 0012           01907         return
001CEA                01908 rhandle
001CEA 92F2           01909         bcf     INTCON, 1
001CEC 2BA3           01910         incf    rightE
001CEE 2BA3           01911         incf    rightE
001CF0 2BA3           01912         incf    rightE
001CF2 A1BA           01913         btfss   boolENC, 0
001CF4 EF?? F???      01914         goto    encextra
001CF8 91BA           01915         bcf     boolENC, 0
001CFA                01916 encend  
001CFA 0012           01917         return
001CFC                01918 encextra
001CFC 2BA3           01919         incf    rightE
001CFE 81BA           01920         bsf     boolENC, 0
001D00 EF?? F???      01921         goto    encend
                      01922         
001D04                01923 lhandle 
001D04 92F0           01924         bcf     INTCON3, 1
001D06 2BA4           01925         incf    leftE
001D08 2BA4           01926         incf    leftE
001D0A 2BA4           01927         incf    leftE
001D0C 0012           01928         return
MPASM 5.65                        LCDATA.ASM   3-30-2016  3:28:27         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001D0E 0E14           01929 sdelay  movlw   d'20'
001D10 6E7F           01930         movwf   lcd_sd
001D12                01931 sloop
001D12 EC?? F???      01932         call    tdelay
001D16 2E7F           01933         decfsz  lcd_sd
001D18 EF?? F???      01934         goto    sloop
001D1C 0012           01935         return
                      01936          
001D1E                01937 tdelay
001D1E 0EFF           01938         movlw   d'255'
001D20 6E7E           01939         movwf   lcd_td
Warning[207]: Found label after column 1. (tloop)
001D22                01940  tloop      
001D22 EC?? F???      01941         call    lcdLongDelay
001D26 2E7E           01942         decfsz  lcd_td
001D28 EF?? F???      01943         goto    tloop
001D2C 0012           01944     return
001D2E                01945 lcdLongDelay
001D2E 0E50           01946     movlw d'80'
001D30 6F81           01947     movwf lcd_d2
001D32                01948 LLD_LOOP
Warning[207]: Found label after column 1. (LCD_DELAY)
001D32                01949     LCD_DELAY
001D32 2F81           01950     decfsz lcd_d2,f
001D34 EF?? F???      01951     goto LLD_LOOP
001D38 0012           01952     return
001D3A 90D8           01953 WrtNum2     bcf     STATUS,C
001D3C 507D           01954             movf    dig3, W
001D3E 267D           01955             addwf   dig3
                      01956            ; carry   dig3           
                      01957            ; bcf            STATUS,C
001D40 507C           01958             movf    dig2, W
001D42 227C           01959             addwfc  dig2
                      01960            ; carry   dig2
001D44 5182           01961             movf    dig12, W
001D46 2382           01962             addwfc  dig12    
001D48 EC?? F???      01963             call    wdig1
001D4C EC?? F???      01964             call    WrtLCD
001D50 EC?? F???      01965             call    wdig2
001D54 EC?? F???      01966             call    WrtLCD
001D58 EC?? F???      01967             call    wdig3
001D5C EC?? F???      01968             call    WrtLCD
001D60 0012           01969             return
                      01970             
001D62                01971 WrtNum       
001D62 EC?? F???      01972             call  wdig1
001D66 EC?? F???      01973             call    WrtLCD
001D6A EC?? F???      01974             call    wdig2
001D6E EC?? F???      01975             call    WrtLCD
001D72 EC?? F???      01976             call    wdig3
001D76 EC?? F???      01977             call    WrtLCD
001D7A 0012           01978             return
                      01979         
Warning[205]: Found directive in column 1. (END)
                      01980 END      

Errors   :     0
Warnings :   101 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

