MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 #include <p18f4620.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Dec 08 2015
                      00005 ;  MPASM PIC18F4620 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      01440         LIST
                      00003 #include <lcd.inc>
  0000                00001         extern  InitLCD,WrtLCD,ClrLCD,ClkLCD, WR_DATA, WR_INS
                      00002 
                      00003 
Warning[205]: Found directive in column 1. (list)
                      00004 list P=18F4620, F=INHX32, C=160, N=80, ST=OFF, MM=OFF, R=DEC
                      00005 
                      00006 ;;;;;;Configuration Bits;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00007 
                      00008                 CONFIG OSC=HS, FCMEN=OFF, IESO=OFF
                      00009                 CONFIG PWRT = OFF, BOREN = SBORDIS, BORV = 3
                      00010                 CONFIG WDT = OFF, WDTPS = 32768
                      00011                 CONFIG MCLRE = ON, LPT1OSC = OFF, PBADEN = OFF, CCP2MX = PORTC
                      00012                 CONFIG STVREN = ON, LVP = OFF, XINST = OFF
                      00013                 CONFIG DEBUG = OFF
                      00014                 CONFIG CP0 = OFF, CP1 = OFF, CP2 = OFF, CP3 = OFF
                      00015                 CONFIG CPB = OFF, CPD = OFF
                      00016                 CONFIG WRT0 = OFF, WRT1 = OFF, WRT2 = OFF, WRT3 = OFF
                      00017                 CONFIG WRTB = OFF, WRTC = OFF, WRTD = OFF
                      00018                 CONFIG EBTR0 = OFF, EBTR1 = OFF, EBTR2 = OFF, EBTR3 = OFF
                      00019                 CONFIG EBTRB = OFF
                      00020 
                      00021 
                      00022 ;;;;;;Vectors;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00023 
                      00024 
Warning[205]: Found directive in column 1. (cblock)
                      00025 cblock 0x70
  00000070            00026                 numb
  00000071            00027                 dt1                     ;0x71            addresses are used for the RTC module
  00000072            00028         dt2                     ;0x72
  00000073            00029         ADD                     ;0x73
  00000074            00030         DAT                     ;0x74
  00000075            00031         DOUT            ;DOUT
  00000076            00032         B1                      ;B1
  00000077            00033         dig10           ;dig10
  00000078            00034         dig1            ;dig1
  00000079            00035         numb2
  0000007A            00036         tc
  0000007B            00037         dat
  0000007C            00038         dig2
  0000007D            00039         dig3
  0000007E            00040         lcd_td
  0000007F            00041         lcd_sd
  00000080            00042         lcd_d1
  00000081            00043         lcd_d2
  00000082            00044         dig12
  00000083            00045         dig22
  00000084            00046         dig32
  00000085            00047         left
  00000086            00048         tot
  00000087            00049         tot2
  00000088            00050         temp
  00000089            00051         temp2
  0000008A            00052         temp3
  0000008B            00053         time
  0000008C            00054         pwm
  0000008D            00055         sensitivity
  0000008E            00056         renc
  0000008F            00057         dt3
  00000090            00058         XBUF
  00000091            00059         count
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000092            00060         CONTROL
  00000093            00061         flag
  00000094            00062         B2
  00000095            00063         ssec
  00000096            00064         smin
  00000097            00065         fsec
  00000098            00066         fmin
  00000099            00067         opmin
  0000009A            00068         opsec
  0000009B            00069         optime
  0000009C            00070         cap1
  0000009D            00071         capinv
  0000009E            00072         numBar
  0000009F            00073         Empty
  000000A0            00074         Half
  000000A1            00075         Full
  000000A2            00076         bt
  000000A3            00077         rightE
  000000A4            00078         leftE
  000000A5            00079         currentB
  000000A6            00080         b1L
  000000A7            00081         b1Li
  000000A8            00082         b2L
  000000A9            00083         b2Li
  000000AA            00084         b3L
  000000AB            00085         b3Li
  000000AC            00086         b4L
  000000AD            00087         b4Li
  000000AE            00088         b5L
  000000AF            00089         b5Li
  000000B0            00090         b6L
  000000B1            00091         b6Li
  000000B2            00092         b7L
  000000B3            00093         b7Li
  000000B4            00094         sdirection
  000000B5            00095         cdirection
  000000B6            00096         pwmL
  000000B7            00097         pwmR
  000000B8            00098         dirdiff
  000000B9            00099         USOF
  000000BA            00100         boolENC
  000000BB            00101         gyrox
  000000BC            00102         xhead
  000000BD            00103         bheight
  000000BE            00104         tallB
  000000BF            00105         shortB
                      00106         
                      00107         endc
                      00108                 
  00000002            00109 RS      equ 2
  00000003            00110 E       equ 3
  00000001            00111 Ca      equ 1
                      00112         
Warning[205]: Found directive in column 1. (variable)
  0000                00113 variable _waitknt = 0
                      00114         
Warning[205]: Found directive in column 1. (udata)
                      00115 udata
Warning[207]: Found label after column 1. (COUNTH)
000000                00116         COUNTH  res 1   ;const used in delay
Warning[207]: Found label after column 1. (COUNTM)
000001                00117         COUNTM  res     1       ;const used in delay
Warning[207]: Found label after column 1. (COUNTL)
000002                00118         COUNTL  res     1       ;const used in delay
Warning[205]: Found directive in column 1. (org)
                      00119 org     0x0000
Warning[203]: Found opcode in column 1. (goto)
000000 EF?? F???      00120 goto    Init
Warning[205]: Found directive in column 1. (org)
                      00121 org     0x0008
Warning[203]: Found opcode in column 1. (call)
000008 EC?? F???      00122 call    enchandle
Warning[203]: Found opcode in column 1. (nop)
00000C 0000           00123 nop
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[203]: Found opcode in column 1. (retfie)
00000E 0010           00124 retfie
                      00125 
                      00126 
                      00127 
                      00128 carry   macro   num
                      00129         bcf     STATUS, C
                      00130         local   carend
                      00131         movlw   d'9'
                      00132         cpfsgt  num
                      00133         goto    carend
                      00134         subwf   num
                      00135         decf    num
                      00136         bsf     STATUS, C
                      00137 carend  
                      00138         endm
                      00139 write   macro   msg
                      00140         local   loop_
                      00141         movlw   upper msg
                      00142         movwf   TBLPTRU
                      00143         movlw   high msg
                      00144         movwf   TBLPTRH
                      00145         movlw   low msg
                      00146         movwf   TBLPTRL
                      00147         tblrd*
                      00148         movf     TABLAT, W
                      00149         loop_   
                      00150         call     WrtLCD
                      00151         tblrd+*
                      00152         movf     TABLAT, W
                      00153         bnz     loop_
                      00154         endm
000010                00155 wdig1
000010 5182           00156             movf    dig12, W
                      00157             ;addlw   0x30
                      00158             ;call    WR_DATA
                      00159             ;return
000012 24E8           00160              addwf   WREG, W
                      00161            
000014 26F9           00162            addwf   PCL, f
000016 0C30 0C31 0C32 00163            dt      "0123456789"
       0C33 0C34 0C35 
       0C36 0C37 0C38 
       0C39 
                      00164             
00002A                00165 wdig2
00002A 507C           00166             movf    dig2, W
00002C 24E8           00167             addwf   WREG, W
00002E 26F9           00168             addwf   PCL, f
000030 0C30 0C31 0C32 00169             dt     "0123456789"
       0C33 0C34 0C35 
       0C36 0C37 0C38 
       0C39 
000044                00170 wdig3
000044 507D           00171             movf    dig3, W
000046 24E8           00172             addwf   WREG, W
000048 26F9           00173             addwf   PCL, f
00004A 0C30 0C31 0C32 00174             dt     "0123456789"
       0C33 0C34 0C35 
       0C36 0C37 0C38 
       0C39 
00005E                00175 Ready
00005E 5320 6174 7472 00176             db  " Start-*", 0
       2A2D 0000 
000068                00177 RightInt
000068 6952 6867 0074 00178             db  "Right", 0
00006E                00179 LeftInt    
00006E 654C 7466 0000 00180             db  "Left", 0
000074                00181 Running
000074 7552 6E6E 6E69 00182             db  "Running", 0
       0067 
00007C                00183 Done
00007C 3A42 0020      00184             db  "B: ", 0
000080                00185 Done2
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000080 4620 203A 0000 00186             db  " F: ", 0
000086                00187 Done3
000086 2020 2020 2020 00188             db  "                           ", "H: ", 0
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 2020 
       2020 4820 203A 
       0000 
0000A6                00189 Done4
0000A6 4520 203A 0000 00190             db  " E: ", 0
0000AC                00191 Done5
0000AC 3A4C 0020      00192             db  "L: ", 0
0000B0                00193 Done6       
0000B0 5220 203A 0000 00194             db  " R: ", 0
0000B6                00195 Barrel  
0000B6 6F4E 0020      00196             db  "No ", 0
0000BA                00197 Fulls
0000BA 4620 6C75 3A6C 00198             db  " Full: ", 0
       0020 
0000C2                00199 Location
0000C2 2020 2020 2020 00200             db "                      ","Location: ", 0
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 6F4C 
       6163 6974 6E6F 
       203A 0000 
0000E4                00201 OperTime
0000E4 704F 7265 7461 00202             db "Operation time: ", "                        ", 0
       6F69 206E 6974 
       656D 203A 2020 
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 2020 
       2020 2020 0000 
00010E                00203 Halfs   
00010E 4820 6C61 3B66 00204             db  " Half; ", 0
       0020 
000116                00205 Emptys      
000116 4520 706D 3A74 00206             db  " Empt: ", 0
       0020 
00011E                00207 Nob 
00011E 6F4E 6D20 726F 00208             db  "No more barrels", 0
       2065 6162 7272 
       6C65 0073 
00012E                00209 seconds
00012E 6573 6F63 646E 00210             db  "seconds", 0
       0073 
                      00211             
000136                00212 Hob
000136 6548 6769 7468 00213             db  "Height:    ", 0
       203A 2020 0020 
000142                00214 fshort
000142 6873 726F 0074 00215             db  "short", 0
000148                00216 ftall   
000148 6174 6C6C 0000 00217             db  "tall", 0
                      00218 
                      00219 stime   macro   tin tout
                      00220         movff   tin, temp
                      00221         movlw   b'00001111'
                      00222         andwf   temp, f
                      00223         movff   tin, temp2
                      00224         movlw   b'11110000'
                      00225         andwf   temp2, f
                      00226         
                      00227         endm
                      00228 
                      00229 
                      00230 sepdig  macro      num
                      00231         local      loop3
                      00232         local      loop2
                      00233         local      loop1
                      00234         local      fin
                      00235         movlw      b'0'
                      00236         movwf      dig12
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00237         movwf      dig2
                      00238         movwf      dig3
                      00239         
                      00240         movf       num, W
                      00241         movwf      tot
                      00242 loop3   movlw      d'99'
                      00243         cpfsgt     tot
                      00244         goto       loop2
                      00245         incf       dig12
                      00246         subwf      tot, f
                      00247         decf       tot, f
                      00248         goto       loop3
                      00249 loop2   movlw      d'9'
                      00250         cpfsgt     tot
                      00251         goto       loop1
                      00252         incf       dig2
                      00253         subwf      tot, f
                      00254         decf       tot, f
                      00255         goto       loop2
                      00256 loop1   movlw      d'0'
                      00257         cpfsgt     tot
                      00258         goto       fin
                      00259         incf       dig3
                      00260         subwf      tot, f
                      00261         decf       tot, f
                      00262         goto       loop1
                      00263 fin     
                      00264         endm
                      00265         
                      00266 Save_BarrelH macro   Loc, Fl
                      00267             movff   rightE, Loc
                      00268             clrf           Fl
                      00269             btfsc          PORTA, 0
                      00270             bsf            Fl, 2
                      00271             btfsc          PORTA, 1
                      00272             bsf            Fl, 1
                      00273             btfss          PORTA, 1
                      00274             bsf            Fl, 0
                      00275             btfsc          PORTA, 0
                      00276             bcf            Fl, 1
                      00277             endm
                      00278             
                      00279 Save_BarrelL macro   Loc, Fl
                      00280             movff   rightE, Loc
                      00281             clrf           Fl
                      00282             btfsc          PORTA, 2
                      00283             bsf            Fl, 2
                      00284             btfsc          PORTA, 3
                      00285             bsf            Fl, 1
                      00286             btfss          PORTA, 3
                      00287             bsf            Fl, 0
                      00288             btfsc          PORTA, 2
                      00289             bcf            Fl, 1
                      00290             endm
                      00291 
                      00292             
                      00293 dFull   macro      fulln
                      00294         local      wfull
                      00295         local      whalf
                      00296         local      wempty
                      00297         local      wend
                      00298         btfsc      fulln, 2
                      00299         goto        wfull
                      00300         btfsc      fulln, 1
                      00301         goto       whalf
                      00302         goto       wempty
                      00303 wfull   write      Fulls
                      00304         goto       wend
                      00305 whalf   write      Halfs
                      00306         goto       wend
                      00307 wempty  write      Emptys       
                      00308 wend
                      00309         endm
                      00310 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;RTC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00311 i2c_common_check_ack    macro   err_address             ;If bad ACK bit received, goto err_address
                      00312         ;banksel                SSPCON2
                      00313     btfsc       SSPCON2,ACKSTAT
                      00314     goto        err_address
                      00315     endm
                      00316 
                      00317 i2c_common_start        macro
                      00318 ;input:         none
                      00319 ;output:        none
                      00320 ;desc:          initiate start conditionon the bus
                      00321 
                      00322     local       back1
                      00323     bsf         SSPCON2,SEN
                      00324 back1   
                      00325     btfss       PIR1,SSPIF
                      00326     ;btfsc         SSPCON2,SEN
                      00327     goto        back1
                      00328     bcf         PIR1,SSPIF
                      00329     
                      00330     endm
                      00331 
                      00332 i2c_common_stop macro
                      00333 ;input:         none
                      00334 ;output:        none
                      00335 ;desc:          initiate stop condition on the bus
                      00336         ;banksel     SSPCON2
                      00337     local       back1
                      00338     bsf         SSPCON2,PEN
                      00339 back1   
                      00340     btfss       PIR1,SSPIF
                      00341     ;btfsc        SSPCON2,PEN
                      00342     goto        back1
                      00343     bcf         PIR1,SSPIF
                      00344     endm
                      00345 
                      00346 i2c_common_repeatedstart        macro
                      00347 ;input:         none
                      00348 ;output:        none
                      00349 ;desc:          initiate repeated start on the bus. Usually used for
                      00350 ;                       changing direction of SDA without STOP event
                      00351         ;banksel     SSPCON2
                      00352     local       back1
                      00353     bsf         SSPCON2,RSEN
                      00354 back1   
                      00355     btfss       PIR1,SSPIF
                      00356     ;btfsc         SSPCON2,RSEN
                      00357     goto        back1
                      00358     bcf         PIR1,SSPIF
                      00359     endm
                      00360 
                      00361 i2c_common_ack          macro
                      00362 ;input:         none
                      00363 ;output:        none
                      00364 ;desc:          send an acknowledge to slave device
                      00365    ; banksel     SSPCON2
                      00366     local       back1
                      00367     bcf         SSPCON2,ACKDT
                      00368     bsf         SSPCON2,ACKEN
                      00369 back1   
                      00370     btfss       PIR1,SSPIF
                      00371     ;btfsc       SSPCON2,ACKEN
                      00372     goto        back1
                      00373     bcf         PIR1,SSPIF
                      00374     endm
                      00375 
                      00376 i2c_common_nack macro
                      00377 ;input:         none
                      00378 ;output:        none
                      00379 ;desc:          send an not acknowledge to slave device
                      00380    ;banksel     SSPCON2
                      00381     local       back1
                      00382     bsf         SSPCON2,ACKDT
                      00383     bsf         SSPCON2,ACKEN
                      00384 back1   
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00385     btfss       PIR1,SSPIF
                      00386     ;btfsc       SSPCON2,ACKEN
                      00387     goto        back1
                      00388     bcf         PIR1,SSPIF
                      00389     endm
                      00390 
                      00391 i2c_common_write        macro
                      00392     local       back1
                      00393 ;input:         W
                      00394 ;output:        to slave device
                      00395 ;desc:          writes W to SSPBUF and send to slave device. Make sure
                      00396 ;                       transmit is finished before continuing
                      00397   
                      00398     movwf       SSPBUF
                      00399 back1   
                      00400     btfss       PIR1,SSPIF
                      00401     ;btfsc       SSPSTAT,R_W 
                      00402     goto        back1
                      00403     bcf         PIR1,SSPIF
                      00404     endm
                      00405 
                      00406 i2c_common_read macro
                      00407     local       back1
                      00408 ;input:         none
                      00409 ;output:        W
                      00410 ;desc:          reads data from slave and saves it in W.
                      00411    
                      00412     bsf         SSPCON2,RCEN    ;Begin receiving byte from
                      00413 back1   
                      00414     btfss       PIR1,SSPIF
                      00415     ;btfsc       SSPCON2,RCEN
                      00416     goto        back1
                      00417     bcf         PIR1,SSPIF
                      00418     movf        SSPBUF,w
                      00419     endm
                      00420 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\
00014E                00421 i2c_common_setup
                      00422 ;input:         none
                      00423 ;output:        none
                      00424 ;desc:          sets up I2C as master device with 100kHz baud rate
                      00425 
00014E 6AC7           00426     clrf        SSPSTAT         ;I2C line levels, and clear all flags
000150 0E18           00427     movlw       d'24'           ;100kHz baud rate: 10MHz osc / [4*(24+1)]
                      00428 
000152 6EC8           00429     movwf       SSPADD          ;RTC only supports 100kHz
                      00430 
000154 0E28           00431     movlw       b'00101000'     ;Config SSP for Master Mode I2C
                      00432 
000156 6EC6           00433     movwf       SSPCON1
000158 8AC6           00434     bsf         SSPCON1 ,SSPEN    ;Enable SSP module
                      00435     
                      00436     i2c_common_stop                     ;Ensure the bus is free
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
00015A 84C5               M     bsf         SSPCON2,PEN
00015C                    M back1   
00015C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
00015E EF?? F???          M     goto        back1
000162 969E               M     bcf         PIR1,SSPIF
000164 0012           00437         return
                      00438 
                      00439 ;rtc Algorithms;;;;;;
                      00440         
000166                00441 write_gyro
                      00442         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000166 80C5               M     bsf         SSPCON2,SEN
000168                    M back1   
000168 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
00016A EF?? F???          M     goto        back1
00016E 969E               M     bcf         PIR1,SSPIF
                          M     
000170 0ED4           00443         movlw       0xD4        ;DS1307 address | WRITE bit
                      00444         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000172 6EC9               M     movwf       SSPBUF
000174                    M back1   
000174 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
000176 EF?? F???          M     goto        back1
00017A 969E               M     bcf         PIR1,SSPIF
                      00445         i2c_common_check_ack   gWR_ERR
                          M         ;banksel                SSPCON2
00017C BCC5               M     btfsc       SSPCON2,ACKSTAT
00017E EF?? F???          M     goto        gWR_ERR
                      00446 
                      00447         ;Write data to I2C bus (Register Address in RTC)
                      00448 
000182 5073           00449         movf        ADD,w       ;Set register pointer in RTC
                      00450         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000184 6EC9               M     movwf       SSPBUF
000186                    M back1   
000186 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
000188 EF?? F???          M     goto        back1
00018C 969E               M     bcf         PIR1,SSPIF
                      00451         i2c_common_check_ack   gWR_ERR
                          M         ;banksel                SSPCON2
00018E BCC5               M     btfsc       SSPCON2,ACKSTAT
000190 EF?? F???          M     goto        gWR_ERR
                      00452 
                      00453         ;Write data to I2C bus (Data to be placed in RTC register)
                      00454 
000194 5074           00455         movf       DAT,w       ;Write data to register in RTC
                      00456         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000196 6EC9               M     movwf       SSPBUF
000198                    M back1   
000198 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00019A EF?? F???          M     goto        back1
00019E 969E               M     bcf         PIR1,SSPIF
                      00457         i2c_common_check_ack   gWR_ERR
                          M         ;banksel                SSPCON2
0001A0 BCC5               M     btfsc       SSPCON2,ACKSTAT
0001A2 EF?? F???          M     goto        gWR_ERR
0001A6 EF?? F???      00458         goto        gWR_END
0001AA                00459 gWR_ERR
0001AA 0000           00460         nop
0001AC                00461 gWR_END  
                      00462                 i2c_common_stop ;Release the I2C bus
                          M ;input:         none
                          M ;output:        none
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
0001AC 84C5               M     bsf         SSPCON2,PEN
0001AE                    M back1   
0001AE A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
0001B0 EF?? F???          M     goto        back1
0001B4 969E               M     bcf         PIR1,SSPIF
0001B6 0012           00463         return
0001B8                00464 write_mg
                      00465         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
0001B8 80C5               M     bsf         SSPCON2,SEN
0001BA                    M back1   
0001BA A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
0001BC EF?? F???          M     goto        back1
0001C0 969E               M     bcf         PIR1,SSPIF
                          M     
0001C2 0E3C           00466         movlw       0x3C        ;DS1307 address | WRITE bit
                      00467         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0001C4 6EC9               M     movwf       SSPBUF
0001C6                    M back1   
0001C6 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0001C8 EF?? F???          M     goto        back1
0001CC 969E               M     bcf         PIR1,SSPIF
                      00468         i2c_common_check_ack   mWR_ERR
                          M         ;banksel                SSPCON2
0001CE BCC5               M     btfsc       SSPCON2,ACKSTAT
0001D0 EF?? F???          M     goto        mWR_ERR
                      00469 
                      00470         ;Write data to I2C bus (Register Address in RTC)
                      00471 
0001D4 5073           00472         movf        ADD,w       ;Set register pointer in RTC
                      00473         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0001D6 6EC9               M     movwf       SSPBUF
0001D8                    M back1   
0001D8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0001DA EF?? F???          M     goto        back1
0001DE 969E               M     bcf         PIR1,SSPIF
                      00474         i2c_common_check_ack   mWR_ERR
                          M         ;banksel                SSPCON2
0001E0 BCC5               M     btfsc       SSPCON2,ACKSTAT
0001E2 EF?? F???          M     goto        mWR_ERR
                      00475 
                      00476         ;Write data to I2C bus (Data to be placed in RTC register)
                      00477 
0001E6 5074           00478         movf       DAT,w       ;Write data to register in RTC
                      00479         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0001E8 6EC9               M     movwf       SSPBUF
0001EA                    M back1   
0001EA A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0001EC EF?? F???          M     goto        back1
0001F0 969E               M     bcf         PIR1,SSPIF
                      00480         i2c_common_check_ack   mWR_ERR
                          M         ;banksel                SSPCON2
0001F2 BCC5               M     btfsc       SSPCON2,ACKSTAT
0001F4 EF?? F???          M     goto        mWR_ERR
0001F8 EF?? F???      00481         goto        mWR_END
0001FC                00482 mWR_ERR
0001FC 0000           00483         nop
0001FE                00484 mWR_END  
                      00485                 i2c_common_stop ;Release the I2C bus
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
0001FE 84C5               M     bsf         SSPCON2,PEN
000200                    M back1   
000200 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
000202 EF?? F???          M     goto        back1
000206 969E               M     bcf         PIR1,SSPIF
000208 0012           00486         return
                      00487         
00020A                00488 write_rtc
                      00489 ;input:         address of register in RTC
                      00490 ;output:        none
                      00491 ;Desc:          handles writing data to RTC
                      00492         ;Select the DS1307 on the bus, in WRITE mode
                      00493         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
00020A 80C5               M     bsf         SSPCON2,SEN
00020C                    M back1   
00020C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
00020E EF?? F???          M     goto        back1
000212 969E               M     bcf         PIR1,SSPIF
                          M     
000214 0ED0           00494         movlw       0xD0        ;DS1307 address | WRITE bit
                      00495         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000216 6EC9               M     movwf       SSPBUF
000218                    M back1   
000218 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00021A EF?? F???          M     goto        back1
00021E 969E               M     bcf         PIR1,SSPIF
                      00496         i2c_common_check_ack   WR_ERR
                          M         ;banksel                SSPCON2
000220 BCC5               M     btfsc       SSPCON2,ACKSTAT
000222 EF?? F???          M     goto        WR_ERR
                      00497 
                      00498         ;Write data to I2C bus (Register Address in RTC)
                      00499 
000226 5073           00500         movf        ADD,w       ;Set register pointer in RTC
                      00501         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M   
000228 6EC9               M     movwf       SSPBUF
00022A                    M back1   
00022A A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00022C EF?? F???          M     goto        back1
000230 969E               M     bcf         PIR1,SSPIF
                      00502         i2c_common_check_ack   WR_ERR
                          M         ;banksel                SSPCON2
000232 BCC5               M     btfsc       SSPCON2,ACKSTAT
000234 EF?? F???          M     goto        WR_ERR
                      00503 
                      00504         ;Write data to I2C bus (Data to be placed in RTC register)
                      00505 
000238 5074           00506         movf       DAT,w       ;Write data to register in RTC
                      00507         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
00023A 6EC9               M     movwf       SSPBUF
00023C                    M back1   
00023C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00023E EF?? F???          M     goto        back1
000242 969E               M     bcf         PIR1,SSPIF
                      00508         i2c_common_check_ack   WR_ERR
                          M         ;banksel                SSPCON2
000244 BCC5               M     btfsc       SSPCON2,ACKSTAT
000246 EF?? F???          M     goto        WR_ERR
00024A EF?? F???      00509         goto        WR_END
00024E                00510 WR_ERR
00024E 0000           00511         nop
000250                00512 WR_END  
                      00513                 i2c_common_stop ;Release the I2C bus
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
000250 84C5               M     bsf         SSPCON2,PEN
000252                    M back1   
000252 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
000254 EF?? F???          M     goto        back1
000258 969E               M     bcf         PIR1,SSPIF
00025A 0012           00514         return
                      00515         
00025C                00516 read_gyro
                      00517         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
00025C 80C5               M     bsf         SSPCON2,SEN
00025E                    M back1   
00025E A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
000260 EF?? F???          M     goto        back1
000264 969E               M     bcf         PIR1,SSPIF
                          M     
000266 0ED4           00518         movlw       0xD4        
                      00519         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000268 6EC9               M     movwf       SSPBUF
00026A                    M back1   
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00026A A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00026C EF?? F???          M     goto        back1
000270 969E               M     bcf         PIR1,SSPIF
                      00520         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000272 BCC5               M     btfsc       SSPCON2,ACKSTAT
000274 EF?? F???          M     goto        RD_ERR
000278 5073           00521         movf        ADD,w       
                      00522         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
00027A 6EC9               M     movwf       SSPBUF
00027C                    M back1   
00027C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00027E EF?? F???          M     goto        back1
000282 969E               M     bcf         PIR1,SSPIF
                      00523         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000284 BCC5               M     btfsc       SSPCON2,ACKSTAT
000286 EF?? F???          M     goto        RD_ERR
                      00524 
                      00525         i2c_common_repeatedstart
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate repeated start on the bus. Usually used for
                          M ;                       changing direction of SDA without STOP event
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
00028A 82C5               M     bsf         SSPCON2,RSEN
00028C                    M back1   
00028C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,RSEN
00028E EF?? F???          M     goto        back1
000292 969E               M     bcf         PIR1,SSPIF
000294 0ED5           00526         movlw       0xD5       
                      00527         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000296 6EC9               M     movwf       SSPBUF
000298                    M back1   
000298 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00029A EF?? F???          M     goto        back1
00029E 969E               M     bcf         PIR1,SSPIF
                      00528         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
0002A0 BCC5               M     btfsc       SSPCON2,ACKSTAT
0002A2 EF?? F???          M     goto        RD_ERR
                      00529 
                      00530         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
0002A6 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
0002A8                    M back1   
0002A8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
0002AA EF?? F???          M     goto        back1
0002AE 969E               M     bcf         PIR1,SSPIF
0002B0 50C9               M     movf        SSPBUF,w
                      00531 
0002B2 6E75           00532         movwf       DOUT
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00533         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
0002B4 8AC5               M     bsf         SSPCON2,ACKDT
0002B6 88C5               M     bsf         SSPCON2,ACKEN
0002B8                    M back1   
0002B8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
0002BA EF?? F???          M     goto        back1
0002BE 969E               M     bcf         PIR1,SSPIF
                      00534         
0002C0 EF?? F???      00535         goto        RD_END
                      00536         
0002C4                00537 read_mg
                      00538         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
0002C4 80C5               M     bsf         SSPCON2,SEN
0002C6                    M back1   
0002C6 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
0002C8 EF?? F???          M     goto        back1
0002CC 969E               M     bcf         PIR1,SSPIF
                          M     
0002CE 0E3C           00539         movlw       0x3C        
                      00540         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0002D0 6EC9               M     movwf       SSPBUF
0002D2                    M back1   
0002D2 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0002D4 EF?? F???          M     goto        back1
0002D8 969E               M     bcf         PIR1,SSPIF
                      00541         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
0002DA BCC5               M     btfsc       SSPCON2,ACKSTAT
0002DC EF?? F???          M     goto        RD_ERR
0002E0 5073           00542         movf        ADD,w       
                      00543         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0002E2 6EC9               M     movwf       SSPBUF
0002E4                    M back1   
0002E4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0002E6 EF?? F???          M     goto        back1
0002EA 969E               M     bcf         PIR1,SSPIF
                      00544         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
0002EC BCC5               M     btfsc       SSPCON2,ACKSTAT
0002EE EF?? F???          M     goto        RD_ERR
                      00545 
                      00546         i2c_common_repeatedstart
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate repeated start on the bus. Usually used for
                          M ;                       changing direction of SDA without STOP event
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0002F2 82C5               M     bsf         SSPCON2,RSEN
0002F4                    M back1   
0002F4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,RSEN
0002F6 EF?? F???          M     goto        back1
0002FA 969E               M     bcf         PIR1,SSPIF
0002FC 0E3D           00547         movlw       0x3D       
                      00548         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0002FE 6EC9               M     movwf       SSPBUF
000300                    M back1   
000300 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
000302 EF?? F???          M     goto        back1
000306 969E               M     bcf         PIR1,SSPIF
                      00549         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000308 BCC5               M     btfsc       SSPCON2,ACKSTAT
00030A EF?? F???          M     goto        RD_ERR
                      00550 
                      00551         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
00030E 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
000310                    M back1   
000310 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
000312 EF?? F???          M     goto        back1
000316 969E               M     bcf         PIR1,SSPIF
000318 50C9               M     movf        SSPBUF,w
                      00552 
00031A 6E75           00553         movwf       DOUT
                      00554         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
00031C 8AC5               M     bsf         SSPCON2,ACKDT
00031E 88C5               M     bsf         SSPCON2,ACKEN
000320                    M back1   
000320 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
000322 EF?? F???          M     goto        back1
000326 969E               M     bcf         PIR1,SSPIF
                      00555         
000328 EF?? F???      00556         goto        RD_END      
00032C                00557 read_rtc
                      00558 ;input:         address of RTC
                      00559 ;output:        DOUT or DOUT
                      00560 ;Desc:          This reads from the selected address of the RTC
                      00561 ;                       and saves it into DOUT or address DOUT
                      00562         ;Select the DS1307 on the bus, in WRITE mode
                      00563         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
00032C 80C5               M     bsf         SSPCON2,SEN
00032E                    M back1   
00032E A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
000330 EF?? F???          M     goto        back1
000334 969E               M     bcf         PIR1,SSPIF
                          M     
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000336 0ED0           00564         movlw       0xD0        ;DS1307 address | WRITE bit
                      00565         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000338 6EC9               M     movwf       SSPBUF
00033A                    M back1   
00033A A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00033C EF?? F???          M     goto        back1
000340 969E               M     bcf         PIR1,SSPIF
                      00566         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000342 BCC5               M     btfsc       SSPCON2,ACKSTAT
000344 EF?? F???          M     goto        RD_ERR
                      00567 
                      00568         ;Write data to I2C bus (Register Address in RTC)
                      00569 
000348 5073           00570         movf        ADD,w       ;Set register pointer in RTC
                      00571         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
00034A 6EC9               M     movwf       SSPBUF
00034C                    M back1   
00034C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00034E EF?? F???          M     goto        back1
000352 969E               M     bcf         PIR1,SSPIF
                      00572         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000354 BCC5               M     btfsc       SSPCON2,ACKSTAT
000356 EF?? F???          M     goto        RD_ERR
                      00573 
                      00574         ;Re-Select the DS1307 on the bus, in READ mode
                      00575         i2c_common_repeatedstart
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate repeated start on the bus. Usually used for
                          M ;                       changing direction of SDA without STOP event
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
00035A 82C5               M     bsf         SSPCON2,RSEN
00035C                    M back1   
00035C A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,RSEN
00035E EF?? F???          M     goto        back1
000362 969E               M     bcf         PIR1,SSPIF
000364 0ED1           00576         movlw       0xD1        ;DS1307 address | READ bit
                      00577         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
000366 6EC9               M     movwf       SSPBUF
000368                    M back1   
000368 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
00036A EF?? F???          M     goto        back1
00036E 969E               M     bcf         PIR1,SSPIF
                      00578         i2c_common_check_ack   RD_ERR
                          M         ;banksel                SSPCON2
000370 BCC5               M     btfsc       SSPCON2,ACKSTAT
000372 EF?? F???          M     goto        RD_ERR
                      00579 
                      00580         ;Read data from I2C bus (Contents of Register in RTC)
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00581         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
000376 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
000378                    M back1   
000378 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
00037A EF?? F???          M     goto        back1
00037E 969E               M     bcf         PIR1,SSPIF
000380 50C9               M     movf        SSPBUF,w
                      00582 
000382 6E75           00583         movwf       DOUT
                      00584         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
000384 8AC5               M     bsf         SSPCON2,ACKDT
000386 88C5               M     bsf         SSPCON2,ACKEN
000388                    M back1   
000388 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
00038A EF?? F???          M     goto        back1
00038E 969E               M     bcf         PIR1,SSPIF
                      00585         
000390 EF?? F???      00586         goto        RD_END
                      00587 
000394                00588 RD_ERR 
000394 0000           00589         nop
                      00590         
                      00591         ;Release the I2C bus
                      00592 RD_END  i2c_common_stop
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
000396 84C5               M     bsf         SSPCON2,PEN
000398                    M back1   
000398 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
00039A EF?? F???          M     goto        back1
00039E 969E               M     bcf         PIR1,SSPIF
0003A0 0012           00593         return
                      00594 
0003A2                00595 rtc_convert   
                      00596 ;input:         W
                      00597 ;output:        dig10 (dig10), dig1 (dig1)
                      00598 ;desc:          This subroutine converts the binary number
                      00599 ;                       in W into a two digit ASCII number and place
                      00600 ;                       each digit into the corresponding registers
                      00601 ;                       dig10 or dig1
                      00602 
0003A2 6E76           00603     movwf   B1             ; B1 = HHHH LLLL
0003A4 3876           00604     swapf   B1,w           ; W  = LLLL HHHH
0003A6 0B0F           00605     andlw   0x0f           ; Mask upper four bits 0000 HHHH
0003A8 0F30           00606     addlw   0x30           ; convert to ASCII
0003AA 6E77           00607     movwf   dig10                  ;saves into 10ths digit
                      00608    ;movwf    dig2
0003AC 5076           00609     movf    B1,w
0003AE 0B0F           00610     andlw   0x0f           ; w  = 0000 LLLL
0003B0 0F30           00611     addlw   0x30           ; convert to ASCII           
0003B2 6E78           00612     movwf       dig1           ; saves into 1s digit
                      00613    ;movwf       dig3
                      00614  ;  movlw       d'0'
                      00615   ; movwf       dig12
0003B4 0012           00616         return
                      00617 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00618 
                      00619         ;Select the DS1307 on the bus, in WRITE mode
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00620         i2c_common_start
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate start conditionon the bus
                          M 
  0000                    M     local       back1
0003B6 80C5               M     bsf         SSPCON2,SEN
0003B8                    M back1   
0003B8 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc         SSPCON2,SEN
0003BA EF?? F???          M     goto        back1
0003BE 969E               M     bcf         PIR1,SSPIF
                          M     
0003C0 0E11           00621                 movlw       b'00010001'
                      00622         i2c_common_write
  0000                    M     local       back1
                          M ;input:         W
                          M ;output:        to slave device
                          M ;desc:          writes W to SSPBUF and send to slave device. Make sure
                          M ;                       transmit is finished before continuing
                          M   
0003C2 6EC9               M     movwf       SSPBUF
0003C4                    M back1   
0003C4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPSTAT,R_W 
0003C6 EF?? F???          M     goto        back1
0003CA 969E               M     bcf         PIR1,SSPIF
                      00623                 i2c_common_check_ack   R_END
                          M         ;banksel                SSPCON2
0003CC BCC5               M     btfsc       SSPCON2,ACKSTAT
0003CE EF?? F???          M     goto        R_END
                      00624 
                      00625         i2c_common_read
  0000                    M     local       back1
                          M ;input:         none
                          M ;output:        W
                          M ;desc:          reads data from slave and saves it in W.
                          M    
0003D2 86C5               M     bsf         SSPCON2,RCEN    ;Begin receiving byte from
0003D4                    M back1   
0003D4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,RCEN
0003D6 EF?? F???          M     goto        back1
0003DA 969E               M     bcf         PIR1,SSPIF
0003DC 50C9               M     movf        SSPBUF,w
                      00626 
0003DE 6E70           00627         movwf       0x70
                      00628         i2c_common_nack      ;Send acknowledgement of data reception
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          send an not acknowledge to slave device
                          M    ;banksel     SSPCON2
  0000                    M     local       back1
0003E0 8AC5               M     bsf         SSPCON2,ACKDT
0003E2 88C5               M     bsf         SSPCON2,ACKEN
0003E4                    M back1   
0003E4 A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc       SSPCON2,ACKEN
0003E6 EF?? F???          M     goto        back1
0003EA 969E               M     bcf         PIR1,SSPIF
0003EC                00629 R_END
                      00630                 i2c_common_stop
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          initiate stop condition on the bus
                          M         ;banksel     SSPCON2
  0000                    M     local       back1
0003EC 84C5               M     bsf         SSPCON2,PEN
0003EE                    M back1   
0003EE A69E               M     btfss       PIR1,SSPIF
                          M     ;btfsc        SSPCON2,PEN
0003F0 EF?? F???          M     goto        back1
0003F4 969E               M     bcf         PIR1,SSPIF
0003F6 0012           00631         return
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00632          ;Set SDA and SCL to high-Z first as required for I2C
                      00633          
                      00634 rtc_resetAll    macro
                      00635 ;input:         none
                      00636 ;output:        none
                      00637 ;desc:          Resets all the time keeping registers on the RTC to zero
                      00638 
                      00639         clrf            0x74
                      00640         clrf            ADD
                      00641     call        write_rtc       
                      00642     incf        ADD                     ;Set register address to 1
                      00643         call            write_rtc
                      00644     incf        ADD                     ;Set register address to 2
                      00645         call            write_rtc
                      00646     incf        ADD                     ;Set register address to 3
                      00647         call            write_rtc
                      00648     incf        ADD                     ;Set register address to 4
                      00649         call            write_rtc
                      00650     incf        ADD                     ;Set register address to 5
                      00651         call            write_rtc
                      00652     incf        ADD                     ;Set register address to 6
                      00653         call            write_rtc
                      00654         endm
                      00655 
                      00656 rtc_set         macro   addliteral,datliteral
                      00657 ;input:         addliteral: value of address
                      00658 ;                       datliteral: value of data
                      00659 ;output:        none
                      00660 ;desc:          loads the data in datliteral into the 
                      00661 ;                       address specified by addliteral in the RTC
                      00662 
                      00663         movlw   addliteral
                      00664         movwf   ADD
                      00665 
                      00666         movlw   datliteral
                      00667         movwf   DAT     
                      00668         call    write_rtc
                      00669         endm
                      00670 gyro_read       macro   addliteral
                      00671         
                      00672         movlw   addliteral
                      00673         movwf   ADD
                      00674         call    read_gyro
                      00675         ;sepdig DOUT
                      00676         ;call   WrtNum
                      00677         endm
                      00678         
                      00679 mg_read         macro   addliteral
                      00680                 
                      00681         movlw   addliteral
                      00682         movwf   ADD
                      00683         call    read_mg
                      00684         sepdig  DOUT
                      00685         call    WrtNum
                      00686         endm
                      00687 
                      00688         
                      00689 rtc_read        macro   addliteral
                      00690 ;input:         addliteral
                      00691 ;output:        DOUT, dig10, dig1
                      00692 ;desc:          From the selected register in the RTC, read the data
                      00693 ;                       and load it into DOUT. DOUT is also converted into 
                      00694 ;                       ASCII characters and the tens digit is placed into
                      00695 ;                       dig10 and the ones digit is placed in dig1
                      00696         movlw   addliteral
                      00697 
                      00698         movwf   ADD
                      00699         call    read_rtc
                      00700 
                      00701         movf    DOUT,w
                      00702         call    rtc_convert   
                      00703         endm
0003F8                00704 Gyroinit
0003F8 8894           00705         bsf        TRISC,4                
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003FA 8694           00706         bsf        TRISC,3
0003FC 6A89           00707         clrf      LATA
0003FE 6A8A           00708         clrf      LATB
000400 6A8B           00709         clrf      LATC 
000402 EC?? F???      00710         call      i2c_common_setup
                      00711         ;write    Ready
                      00712         ;goto     mainwait
000406 0012           00713         return
000408                00714 MGinit
000408 8894           00715         bsf        TRISC,4                
00040A 8694           00716         bsf        TRISC,3
00040C 6A89           00717         clrf      LATA
00040E 6A8A           00718         clrf      LATB
000410 6A8B           00719         clrf      LATC 
000412 EC?? F???      00720         call      i2c_common_setup
000416 0012           00721         return
                      00722         
000418                00723 RTCinit
                      00724         
                      00725        
                      00726   ;Set SDA and SCL to high-Z first as required for I2C
000418 8894           00727                  bsf       TRISC,4                
00041A 8694           00728                  bsf       TRISC,3
                      00729 
00041C 6A89           00730          clrf      LATA
00041E 6A8A           00731          clrf      LATB
000420 6A8B           00732          clrf      LATC 
                      00733         ; clrf      PORTD
                      00734                  ;Set up I2C for communication
000422 EC?? F???      00735                  call      i2c_common_setup
                      00736         ;        rtc_resetAll
                      00737                  
                      00738          ;call  set_rtc_time
                      00739         ; call   show_RTC
000426 0012           00740         return   
000428 6AF2           00741 Init     clrf      INTCON         ; No interrupts
                      00742          
00042A 0E00           00743          movlw     d'0'
00042C 6F8E           00744          movwf     renc
00042E 6F9E           00745          movwf     numBar
000430 6FA2           00746          movwf     bt
000432 6FA1           00747          movwf     Full
000434 6FA0           00748          movwf     Half
000436 6F9F           00749          movwf     Empty
000438 6FA3           00750          movwf     rightE
00043A 6FA4           00751          movwf     leftE
00043C 6FA5           00752          movwf     currentB
00043E 0EFF           00753          movlw     b'11111111'
000440 6E92           00754          movwf     TRISA
000442 0EF2           00755          movlw     b'11110010'    ; Set required keypad inputs
000444 6E93           00756          movwf     TRISB
                      00757          ;call     setints 
000446 6A95           00758          clrf      TRISD
000448 6A89           00759          clrf      LATA
00044A 6A8A           00760          clrf      LATB
00044C 6A8B           00761          clrf      LATC
00044E 6A8C           00762          clrf      LATD
000450 0E0F           00763          movlw     b'00001111'
000452 12C1           00764          iorwf     ADCON1
000454 0E03           00765          movlw     b'11'
000456 6F9C           00766          movwf     cap1
000458 0E14           00767          movlw     h'14'
00045A 6F9D           00768          movwf     capinv
00045C EC?? F???      00769          call      InitLCD    ;Initialize the LCD 
                      00770          
                      00771         ; call     MGinit
                      00772         ;write      Ready
000460 EC?? F???      00773          call      sdelay
                      00774         ; stime     ssec10, ssec1
                      00775         ; rtc_read   0x01
                      00776         ; stime     smin10, smin1
                      00777         ;goto      US_module
                      00778         ;call      MGinit
                      00779         ;goto      mgtest
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000464 EC?? F???      00780          call       RTCinit
                      00781          write      Ready
  0000                    M         local   loop_
000468 0E??               M         movlw   upper Ready
00046A 6EF8               M         movwf   TBLPTRU
00046C 0E??               M         movlw   high Ready
00046E 6EF7               M         movwf   TBLPTRH
000470 0E??               M         movlw   low Ready
000472 6EF6               M         movwf   TBLPTRL
000474 0008               M         tblrd*
000476 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000478                    M         loop_   
000478 EC?? F???          M         call     WrtLCD
00047C 000B               M         tblrd+*
00047E 50F5               M         movf     TABLAT, W
000480 E1??               M         bnz     loop_
Warning[225]: Invalid label in operand (rtc_resetAll)
Warning[226]: Destination address must be word aligned
000482 EC00 F000      00782          call       rtc_resetAll
000486 EC?? F???      00783          call       keywait
00048A EC?? F???      00784          call       fgetoptime
                      00785          
                      00786          ;goto     PWM_module
                      00787          ;goto     LS_module
                      00788          ;goto     count_module
                      00789          ;call     straight 
                      00790          ;goto      encTest
                      00791          ;call  PWMinit
                      00792          ;goto      test50100
                      00793         ;goto       gyroinitt     
                      00794         ;goto       gSteer
                      00795         ;call       arm_drive
                      00796         ;write     Ready
                      00797          ;goto     mainloops
                      00798         ; goto     steer_module
Warning[207]: Found label after column 1. (mainwait)
00048E EF?? F???      00799         mainwait    goto mainwait
                      00800         
                      00801 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ARM Module;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00802         
                      00803         
Warning[207]: Found label after column 1. (arm_drive)
000492                00804         arm_drive
000492 9094           00805             bcf     TRISC, 0
000494 808B           00806             bsf     LATC, 0
Warning[207]: Found label after column 1. (retract)
000496                00807         retract
000496 0E06           00808             movlw   b'0110'
000498 6E96           00809             movwf   TRISE
00049A 9092           00810             bcf     TRISA, 0
00049C EC?? F???      00811             call    armUS
                      00812             write   Ready
  0000                    M         local   loop_
0004A0 0E??               M         movlw   upper Ready
0004A2 6EF8               M         movwf   TBLPTRU
0004A4 0E??               M         movlw   high Ready
0004A6 6EF7               M         movwf   TBLPTRH
0004A8 0E??               M         movlw   low Ready
0004AA 6EF6               M         movwf   TBLPTRL
0004AC 0008               M         tblrd*
0004AE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0004B0                    M         loop_   
0004B0 EC?? F???          M         call     WrtLCD
0004B4 000B               M         tblrd+*
0004B6 50F5               M         movf     TABLAT, W
0004B8 E1??               M         bnz     loop_
Warning[207]: Found label after column 1. (rest)
0004BA                00813         rest
0004BA 8089           00814         bsf         LATA, 0
0004BC 908D           00815             bcf     LATE, 0
Warning[207]: Found label after column 1. (armwait1)
0004BE                00816         armwait1
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0004BE A284           00817             btfss   PORTE, 1
0004C0 EF?? F???      00818             goto    armwait1
0004C4 EF?? F???      00819             goto    Atestf
Warning[207]: Found label after column 1. (d1)
0004C8 9089           00820          d1 bcf     LATA, 0
                      00821             
                      00822          
Warning[207]: Found label after column 1. (driveabit)
0004CA                00823         driveabit
0004CA EC?? F???      00824             call    sdelay
0004CE EC?? F???      00825             call    sdelay
0004D2 EC?? F???      00826             call    sdelay
0004D6 EC?? F???      00827             call    sdelay
0004DA EC?? F???      00828             call    sdelay
0004DE 908B           00829             bcf     LATC, 0
0004E0 808D           00830             bsf     LATE, 0
                      00831             
Warning[207]: Found label after column 1. (armwait2)
0004E2                00832         armwait2
0004E2 A484           00833             btfss   PORTE, 2    
0004E4 EF?? F???      00834             goto    armwait2
0004E8 EF?? F???      00835             goto    Atestb
Warning[207]: Found label after column 1. (d2)
0004EC 908D           00836         d2  bcf     LATE, 0
                      00837            ; goto    rest
0004EE 0012           00838         return
                      00839         
Warning[207]: Found label after column 1. (Atestf)
0004F0                00840         Atestf
0004F0 A284           00841             btfss   PORTE, 1
0004F2 EF?? F???      00842             goto    armwait1
0004F6 A284           00843             btfss   PORTE, 1
0004F8 EF?? F???      00844             goto    armwait1
0004FC A284           00845             btfss   PORTE, 1
0004FE EF?? F???      00846             goto    armwait1
000502 EF?? F???      00847             goto    d1
                      00848             
Warning[207]: Found label after column 1. (Atestb)
000506                00849         Atestb
000506 A484           00850             btfss   PORTE, 2
000508 EF?? F???      00851             goto    armwait2
00050C A484           00852             btfss   PORTE, 2
00050E EF?? F???      00853             goto    armwait2
000512 A484           00854             btfss   PORTE, 2
000514 EF?? F???      00855             goto    armwait2
000518 EF?? F???      00856             goto    d2
                      00857             
                      00858 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Gyro Steer;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00859             
00051C EC?? F???      00860 gSteer      call    gyroinitt
000520 EC?? F???      00861             call    ClrLCD
000524 0EA0           00862             movlw   d'160'
000526 6FBC           00863             movwf   xhead
000528                00864 gsteerloop
000528 EC?? F???      00865             call    ClrLCD
00052C EC?? F???      00866             call    show_gyro
000530 91BB           00867             bcf     gyrox, 0
000532 43BB           00868             rrncf   gyrox
                      00869             sepdig  gyrox
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000534 0E00               M         movlw      b'0'
000536 6F82               M         movwf      dig12
000538 6E7C               M         movwf      dig2
00053A 6E7D               M         movwf      dig3
                          M         
00053C 51BB               M         movf       gyrox, W
00053E 6F86               M         movwf      tot
000540 0E63               M loop3   movlw      d'99'
000542 6586               M         cpfsgt     tot
000544 EF?? F???          M         goto       loop2
000548 2B82               M         incf       dig12
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00054A 5F86               M         subwf      tot, f
00054C 0786               M         decf       tot, f
00054E EF?? F???          M         goto       loop3
000552 0E09               M loop2   movlw      d'9'
000554 6586               M         cpfsgt     tot
000556 EF?? F???          M         goto       loop1
00055A 2A7C               M         incf       dig2
00055C 5F86               M         subwf      tot, f
00055E 0786               M         decf       tot, f
000560 EF?? F???          M         goto       loop2
000564 0E00               M loop1   movlw      d'0'
000566 6586               M         cpfsgt     tot
000568 EF?? F???          M         goto       fin
00056C 2A7D               M         incf       dig3
00056E 5F86               M         subwf      tot, f
000570 0786               M         decf       tot, f
000572 EF?? F???          M         goto       loop1
000576                    M fin     
000576 EC?? F???      00870             call    WrtNum
00057A 6AE8           00871             clrf    WREG
00057C 65BB           00872             cpfsgt  gyrox
00057E EF?? F???      00873             goto    gsteerend
000582 0E50           00874             movlw   d'80'
000584 65BB           00875             cpfsgt  gyrox
000586 EF?? F???      00876             goto    LeftT
00058A 51BB           00877 RightT      movf    gyrox, W
00058C 27BC           00878             addwf   xhead, f
                      00879            ; incf    xhead
00058E EF?? F???      00880             goto    gsteerend
                      00881             
000592 0E80           00882 LeftT       movlw   d'128'
000594 6F88           00883             movwf   temp
000596 51BB           00884             movf    gyrox, W 
                      00885             ;decf    xhead
000598 5F88           00886             subwf   temp, f
00059A 5188           00887             movf    temp, W
00059C 5FBC           00888             subwf   xhead
00059E                00889 gsteerend
00059E 0E20           00890             movlw   ' '
0005A0 EC?? F???      00891             call    WR_DATA
0005A4 0E48           00892             movlw   'H'
0005A6 EC?? F???      00893             call    WR_DATA
0005AA 0E3A           00894             movlw   ':'
0005AC EC?? F???      00895             call    WR_DATA
0005B0 0E20           00896             movlw   ' '
0005B2 EC?? F???      00897             call    WR_DATA
                      00898             
                      00899             sepdig  xhead
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0005B6 0E00               M         movlw      b'0'
0005B8 6F82               M         movwf      dig12
0005BA 6E7C               M         movwf      dig2
0005BC 6E7D               M         movwf      dig3
                          M         
0005BE 51BC               M         movf       xhead, W
0005C0 6F86               M         movwf      tot
0005C2 0E63               M loop3   movlw      d'99'
0005C4 6586               M         cpfsgt     tot
0005C6 EF?? F???          M         goto       loop2
0005CA 2B82               M         incf       dig12
0005CC 5F86               M         subwf      tot, f
0005CE 0786               M         decf       tot, f
0005D0 EF?? F???          M         goto       loop3
0005D4 0E09               M loop2   movlw      d'9'
0005D6 6586               M         cpfsgt     tot
0005D8 EF?? F???          M         goto       loop1
0005DC 2A7C               M         incf       dig2
0005DE 5F86               M         subwf      tot, f
0005E0 0786               M         decf       tot, f
0005E2 EF?? F???          M         goto       loop2
0005E6 0E00               M loop1   movlw      d'0'
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0005E8 6586               M         cpfsgt     tot
0005EA EF?? F???          M         goto       fin
0005EE 2A7D               M         incf       dig3
0005F0 5F86               M         subwf      tot, f
0005F2 0786               M         decf       tot, f
0005F4 EF?? F???          M         goto       loop1
0005F8                    M fin     
0005F8 EC?? F???      00900             call    WrtNum
0005FC B881           00901             btfsc   PORTB, 4
0005FE EF?? F???      00902             goto    gSteer
000602 EC?? F???      00903             call    sdelay
000606 EF?? F???      00904             goto    gsteerloop
                      00905             
                      00906           
                      00907 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Steering Module;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00060A                00908 straight
00060A 9294           00909            bcf      TRISC, 1
00060C 9494           00910            bcf      TRISC, 2
00060E 828B           00911            bsf      LATC, 1
000610 848B           00912            bsf      LATC, 2
000612 0012           00913            return
000614 EF?? F???      00914 straitwait  goto    straitwait
000618                00915 steer_module
000618 EC?? F???      00916          call       PWMinit
00061C EC?? F???      00917          call       mginit
                      00918          mg_read    0x08
                          M                 
000620 0E08               M         movlw   0x08
000622 6E73               M         movwf   ADD
000624 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000628 0E00               M         movlw      b'0'
00062A 6F82               M         movwf      dig12
00062C 6E7C               M         movwf      dig2
00062E 6E7D               M         movwf      dig3
                          M         
000630 5075               M         movf       DOUT, W
000632 6F86               M         movwf      tot
000634 0E63               M loop3   movlw      d'99'
000636 6586               M         cpfsgt     tot
000638 EF?? F???          M         goto       loop2
00063C 2B82               M         incf       dig12
00063E 5F86               M         subwf      tot, f
000640 0786               M         decf       tot, f
000642 EF?? F???          M         goto       loop3
000646 0E09               M loop2   movlw      d'9'
000648 6586               M         cpfsgt     tot
00064A EF?? F???          M         goto       loop1
00064E 2A7C               M         incf       dig2
000650 5F86               M         subwf      tot, f
000652 0786               M         decf       tot, f
000654 EF?? F???          M         goto       loop2
000658 0E00               M loop1   movlw      d'0'
00065A 6586               M         cpfsgt     tot
00065C EF?? F???          M         goto       fin
000660 2A7D               M         incf       dig3
000662 5F86               M         subwf      tot, f
000664 0786               M         decf       tot, f
000666 EF?? F???          M         goto       loop1
00066A                    M fin     
00066A EC?? F???          M         call    WrtNum
00066E EC?? F???      00919          call       show_MG
000672 C075 F0B4      00920          movff      DOUT, sdirection
000676                00921 steerloop
000676 0E46           00922          movlw      d'70'
000678 6FB7           00923          movwf      pwmR
00067A 6FB6           00924          movwf      pwmL
00067C EC?? F???      00925          call       mginit
                      00926          mg_read    0x08
                          M                 
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000680 0E08               M         movlw   0x08
000682 6E73               M         movwf   ADD
000684 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000688 0E00               M         movlw      b'0'
00068A 6F82               M         movwf      dig12
00068C 6E7C               M         movwf      dig2
00068E 6E7D               M         movwf      dig3
                          M         
000690 5075               M         movf       DOUT, W
000692 6F86               M         movwf      tot
000694 0E63               M loop3   movlw      d'99'
000696 6586               M         cpfsgt     tot
000698 EF?? F???          M         goto       loop2
00069C 2B82               M         incf       dig12
00069E 5F86               M         subwf      tot, f
0006A0 0786               M         decf       tot, f
0006A2 EF?? F???          M         goto       loop3
0006A6 0E09               M loop2   movlw      d'9'
0006A8 6586               M         cpfsgt     tot
0006AA EF?? F???          M         goto       loop1
0006AE 2A7C               M         incf       dig2
0006B0 5F86               M         subwf      tot, f
0006B2 0786               M         decf       tot, f
0006B4 EF?? F???          M         goto       loop2
0006B8 0E00               M loop1   movlw      d'0'
0006BA 6586               M         cpfsgt     tot
0006BC EF?? F???          M         goto       fin
0006C0 2A7D               M         incf       dig3
0006C2 5F86               M         subwf      tot, f
0006C4 0786               M         decf       tot, f
0006C6 EF?? F???          M         goto       loop1
0006CA                    M fin     
0006CA EC?? F???          M         call    WrtNum
0006CE C075 F0B5      00927          movff      DOUT, cdirection
0006D2 EC?? F???      00928          call       mginit
0006D6 EC?? F???      00929          call       show_MG
0006DA 51B5           00930          movf       cdirection, W
0006DC 65B4           00931          cpfsgt     sdirection
0006DE EF?? F???      00932          goto       stleft
0006E2 61B4           00933          cpfslt     sdirection
0006E4 EF?? F???      00934          goto       stright
0006E8 EF?? F???      00935          goto       steerend
                      00936          
0006EC                00937 stleft   
0006EC C0B4 F088      00938          movff      sdirection, temp
0006F0 51B5           00939          movf       cdirection, W
0006F2 5F88           00940          subwf      temp
0006F4 C088 F0B8      00941          movff      temp, dirdiff
0006F8 51B8           00942          movf       dirdiff, W
0006FA 5FB6           00943          subwf      pwmL
0006FC 27B7           00944          addwf      pwmR
0006FE 5FB6           00945          subwf      pwmL
000700 27B7           00946          addwf      pwmR
000702 EF?? F???      00947          goto       steerend
                      00948          
000706                00949 stright
000706 51B4           00950          movf       sdirection, W
000708 5FB5           00951          subwf      cdirection
00070A C0B5 F0B8      00952          movff      cdirection, dirdiff
00070E 51B8           00953          movf       dirdiff, W
000710 5FB7           00954          subwf      pwmR
000712 27B6           00955          addwf      pwmL
000714 5FB7           00956          subwf      pwmR
000716 27B6           00957          addwf      pwmL
000718 EF?? F???      00958          goto       steerend
00071C                00959 steerend
00071C EC?? F???      00960          call       setPWM
000720 EC?? F???      00961          call       sdelay
000724 EF?? F???      00962          goto       steerloop
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00963 
                      00964 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Gyroscope Test;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00965          
000728                00966 gyroinitt
                      00967          write Ready
  0000                    M         local   loop_
000728 0E??               M         movlw   upper Ready
00072A 6EF8               M         movwf   TBLPTRU
00072C 0E??               M         movlw   high Ready
00072E 6EF7               M         movwf   TBLPTRH
000730 0E??               M         movlw   low Ready
000732 6EF6               M         movwf   TBLPTRL
000734 0008               M         tblrd*
000736 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000738                    M         loop_   
000738 EC?? F???          M         call     WrtLCD
00073C 000B               M         tblrd+*
00073E 50F5               M         movf     TABLAT, W
000740 E1??               M         bnz     loop_
000742 EC?? F???      00968         call    Gyroinit
000746 0E20           00969         movlw   0x20
000748 6E73           00970         movwf   ADD
00074A 0E0A           00971         movlw   b'00001010'
00074C 6E74           00972         movwf   DAT
00074E EC?? F???      00973         call    write_gyro
                      00974         
000752 0E24           00975         movlw   0x24
000754 6E73           00976         movwf   ADD
000756 0E00           00977         movlw   b'00000000'
000758 6E74           00978         movwf   DAT
00075A EC?? F???      00979         call    write_gyro
00075E 0012           00980         return
                      00981         ;movlw  0x23
                      00982         ;movwf  ADD
                      00983         ;movlw  b'00110000'
                      00984         ;movwf  DAT
                      00985         ;call   write_gyro
000760                00986 gyroloop
000760 EC?? F???      00987         call    sdelay
                      00988         ;call   Gyroinit
000764 EC?? F???      00989         call    ClrLCD
000768 EC?? F???      00990         call    show_gyro
00076C EC?? F???      00991         call    tdelay
000770 EC?? F???      00992         call    tdelay
000774 EC?? F???      00993         call    tdelay
000778 EC?? F???      00994         call    tdelay
00077C EC?? F???      00995         call    tdelay
000780 EC?? F???      00996         call    tdelay
000784 EC?? F???      00997         call    tdelay
000788 EC?? F???      00998         call    tdelay
00078C EF?? F???      00999         goto    gyroloop
                      01000             
                      01001 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Magnetormeter Test;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01002 
                      01003 
                      01004          
000790 6A73           01005 mginit  clrf            ADD
000792 0E70           01006          movlw          0x70
000794 6E74           01007          movwf          DAT
000796 EC?? F???      01008          call           write_mg
                      01009          
00079A 2A73           01010          incf           ADD
00079C 0EA0           01011          movlw          0xA0
00079E 6E74           01012          movwf          DAT
0007A0 EC?? F???      01013          call           write_mg
                      01014          
0007A4 2A73           01015          incf           ADD
0007A6 6A74           01016          clrf           DAT
0007A8 EC?? F???      01017          call           write_mg
0007AC EC?? F???      01018          call           tdelay
0007B0 0012           01019          return
                      01020 
0007B2 EC?? F???      01021 mgtest  call        mginit       
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0007B6                01022 mgloop
0007B6 EC?? F???      01023         call            show_MG
0007BA EC?? F???      01024         call            tdelay
0007BE EC?? F???      01025         call            tdelay
0007C2 EC?? F???      01026         call            tdelay
0007C6 EC?? F???      01027         call            tdelay
0007CA EC?? F???      01028         call            tdelay
0007CE EC?? F???      01029         call            tdelay
0007D2 EC?? F???      01030         call            tdelay
0007D6 EC?? F???      01031         call            tdelay
0007DA EF?? F???      01032         goto            mgtest
                      01033          
                      01034 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Optical Encoder Test;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01035 
                      01036 ;resetEnc
                      01037 ;        clrf           rightE
                      01038 ;        clrf           leftE    
0007DE                01039 encTest 
0007DE 6A8A           01040         clrf            LATB
0007E0 0EFF           01041          movlw          b'11111111'
0007E2 6E93           01042          movwf          TRISB
0007E4 6A94           01043          clrf           TRISC
0007E6 EC?? F???      01044          call           setints
0007EA EC?? F???      01045 etloop   call           tdelay
0007EE EC?? F???      01046          call           ClrLCD
                      01047          write          Done5
  0000                    M         local   loop_
0007F2 0E??               M         movlw   upper Done5
0007F4 6EF8               M         movwf   TBLPTRU
0007F6 0E??               M         movlw   high Done5
0007F8 6EF7               M         movwf   TBLPTRH
0007FA 0E??               M         movlw   low Done5
0007FC 6EF6               M         movwf   TBLPTRL
0007FE 0008               M         tblrd*
000800 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000802                    M         loop_   
000802 EC?? F???          M         call     WrtLCD
000806 000B               M         tblrd+*
000808 50F5               M         movf     TABLAT, W
00080A E1??               M         bnz     loop_
                      01048          sepdig         rightE
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00080C 0E00               M         movlw      b'0'
00080E 6F82               M         movwf      dig12
000810 6E7C               M         movwf      dig2
000812 6E7D               M         movwf      dig3
                          M         
000814 51A3               M         movf       rightE, W
000816 6F86               M         movwf      tot
000818 0E63               M loop3   movlw      d'99'
00081A 6586               M         cpfsgt     tot
00081C EF?? F???          M         goto       loop2
000820 2B82               M         incf       dig12
000822 5F86               M         subwf      tot, f
000824 0786               M         decf       tot, f
000826 EF?? F???          M         goto       loop3
00082A 0E09               M loop2   movlw      d'9'
00082C 6586               M         cpfsgt     tot
00082E EF?? F???          M         goto       loop1
000832 2A7C               M         incf       dig2
000834 5F86               M         subwf      tot, f
000836 0786               M         decf       tot, f
000838 EF?? F???          M         goto       loop2
00083C 0E00               M loop1   movlw      d'0'
00083E 6586               M         cpfsgt     tot
000840 EF?? F???          M         goto       fin
000844 2A7D               M         incf       dig3
000846 5F86               M         subwf      tot, f
000848 0786               M         decf       tot, f
00084A EF?? F???          M         goto       loop1
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00084E                    M fin     
00084E EC?? F???      01049          call           WrtNum2
                      01050          write          Done6
  0000                    M         local   loop_
000852 0E??               M         movlw   upper Done6
000854 6EF8               M         movwf   TBLPTRU
000856 0E??               M         movlw   high Done6
000858 6EF7               M         movwf   TBLPTRH
00085A 0E??               M         movlw   low Done6
00085C 6EF6               M         movwf   TBLPTRL
00085E 0008               M         tblrd*
000860 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000862                    M         loop_   
000862 EC?? F???          M         call     WrtLCD
000866 000B               M         tblrd+*
000868 50F5               M         movf     TABLAT, W
00086A E1??               M         bnz     loop_
                      01051          sepdig         leftE
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00086C 0E00               M         movlw      b'0'
00086E 6F82               M         movwf      dig12
000870 6E7C               M         movwf      dig2
000872 6E7D               M         movwf      dig3
                          M         
000874 51A4               M         movf       leftE, W
000876 6F86               M         movwf      tot
000878 0E63               M loop3   movlw      d'99'
00087A 6586               M         cpfsgt     tot
00087C EF?? F???          M         goto       loop2
000880 2B82               M         incf       dig12
000882 5F86               M         subwf      tot, f
000884 0786               M         decf       tot, f
000886 EF?? F???          M         goto       loop3
00088A 0E09               M loop2   movlw      d'9'
00088C 6586               M         cpfsgt     tot
00088E EF?? F???          M         goto       loop1
000892 2A7C               M         incf       dig2
000894 5F86               M         subwf      tot, f
000896 0786               M         decf       tot, f
000898 EF?? F???          M         goto       loop2
00089C 0E00               M loop1   movlw      d'0'
00089E 6586               M         cpfsgt     tot
0008A0 EF?? F???          M         goto       fin
0008A4 2A7D               M         incf       dig3
0008A6 5F86               M         subwf      tot, f
0008A8 0786               M         decf       tot, f
0008AA EF?? F???          M         goto       loop1
0008AE                    M fin     
0008AE EC?? F???      01052          call           WrtNum2
                      01053         ; btfsc         PORTB, 1
                      01054         ; call          resetEnc
0008B2 908B           01055          bcf            LATC, 0
0008B4 B081           01056          btfsc          PORTB, 0
0008B6 808B           01057          bsf            LATC, 0
0008B8 EF?? F???      01058          goto           etloop
0008BC EF?? F???      01059          goto           etloop
                      01060 
0008C0                01061 main    
0008C0 0E8F           01062         movlw       b'10001111'
0008C2 6E92           01063         movwf       TRISA
0008C4 0EFE           01064         movlw       b'11111110'
0008C6 6E93           01065         movwf       TRISB
0008C8 0E98           01066         movlw       b'10011000'
0008CA 6E94           01067         movwf       TRISC
0008CC 0E07           01068         movlw       b'0111'
0008CE 6E96           01069         movwf       TRISE
                      01070         write           Ready
  0000                    M         local   loop_
0008D0 0E??               M         movlw   upper Ready
0008D2 6EF8               M         movwf   TBLPTRU
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0008D4 0E??               M         movlw   high Ready
0008D6 6EF7               M         movwf   TBLPTRH
0008D8 0E??               M         movlw   low Ready
0008DA 6EF6               M         movwf   TBLPTRL
0008DC 0008               M         tblrd*
0008DE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0008E0                    M         loop_   
0008E0 EC?? F???          M         call     WrtLCD
0008E4 000B               M         tblrd+*
0008E6 50F5               M         movf     TABLAT, W
0008E8 E1??               M         bnz     loop_
0008EA EC?? F???      01071         call    kloop
0008EE EC?? F???      01072         call    PWMinit
0008F2 EC?? F???      01073         call    ClrLCD
                      01074          
0008F6                01075 mainloop
0008F6 EC?? F???      01076          call      US_module
0008FA EF?? F???      01077          goto      mainloop
0008FE                01078 barrel_detected
                      01079          ;bsf      LATB, 3
                      01080          ;btfsc    PORTC, 7
                      01081          ;bsf      LATB, 4
0008FE A1A2           01082          btfss     bt, 0
000900 EC?? F???      01083          call      addB
000904 81A2           01084          bsf       bt, 0
000906 0E07           01085          movlw     d'7'
000908 639E           01086          cpfseq    numBar
00090A 0012           01087          return
00090C EF?? F???      01088          goto       finish
                      01089 
000910                01090 keywait  
000910 EC?? F???      01091          call      sdelay
000914 A881           01092 kloop    btfss     PORTB, 4
000916 EF?? F???      01093          goto      kloop
00091A                01094 kloop2
00091A B881           01095          btfsc     PORTB, 4
00091C EF?? F???      01096          goto      kloop2
000920 0012           01097          return
000922                01098 addB    
000922 2B9E           01099          incf      numBar
000924 EF?? F???      01100          goto      loopUS2
000928                01101 tallHandle
000928 2BBE           01102          incf      tallB
00092A B080           01103          btfsc     PORTA, 0
00092C 2BA1           01104          incf      Full
00092E B280           01105          btfsc     PORTA, 1
000930 2BA0           01106          incf      Half
000932 A280           01107          btfss     PORTA, 1
000934 2B9F           01108          incf      Empty
000936 B080           01109          btfsc     PORTA, 0
000938 07A0           01110          decf      Half
00093A EC?? F???      01111          call      find_CB
00093E 0012           01112          return
                      01113         
000940                01114 shortHandle
000940 2BBF           01115          incf      shortB
000942 B480           01116          btfsc     PORTA, 2
000944 2BA1           01117          incf      Full
000946 B680           01118          btfsc     PORTA, 3
000948 2BA0           01119          incf      Half
00094A A680           01120          btfss     PORTA, 3
00094C 2B9F           01121          incf      Empty
00094E B480           01122          btfsc     PORTA, 2
000950 07A0           01123          decf      Half
000952 EC?? F???      01124          call      find_CB
000956 0012           01125          return
000958                01126 find_CB
000958 A1A5           01127          btfss     currentB, 0
00095A EF?? F???      01128          goto      sb1
00095E A3A5           01129          btfss     currentB, 1
000960 EF?? F???      01130          goto      sb2
000964 A5A5           01131          btfss     currentB, 2
000966 EF?? F???      01132          goto      sb3
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00096A A7A5           01133          btfss     currentB, 3
00096C EF?? F???      01134          goto      sb4
000970 A9A5           01135          btfss     currentB, 4
000972 EF?? F???      01136          goto      sb5
000976 ABA5           01137          btfss     currentB, 5
000978 EF?? F???      01138          goto      sb6
00097C ADA5           01139          btfss     currentB, 6
00097E EF?? F???      01140          goto      sb7
                      01141 
                      01142          
000982 81A5           01143 sb1      bsf       currentB, 0
000984 A1BD           01144          btfss     bheight, 0
                      01145          Save_BarrelL   b1L, b1Li
000986 C0A3 F0A6          M             movff   rightE, b1L
00098A 6BA7               M             clrf           b1Li
00098C B480               M             btfsc          PORTA, 2
00098E 85A7               M             bsf            b1Li, 2
000990 B680               M             btfsc          PORTA, 3
000992 83A7               M             bsf            b1Li, 1
000994 A680               M             btfss          PORTA, 3
000996 81A7               M             bsf            b1Li, 0
000998 B480               M             btfsc          PORTA, 2
00099A 93A7               M             bcf            b1Li, 1
00099C B1BD           01146          btfsc     bheight, 0 
                      01147          Save_BarrelH   b1L, b1Li
00099E C0A3 F0A6          M             movff   rightE, b1L
0009A2 6BA7               M             clrf           b1Li
0009A4 B080               M             btfsc          PORTA, 0
0009A6 85A7               M             bsf            b1Li, 2
0009A8 B280               M             btfsc          PORTA, 1
0009AA 83A7               M             bsf            b1Li, 1
0009AC A280               M             btfss          PORTA, 1
0009AE 81A7               M             bsf            b1Li, 0
0009B0 B080               M             btfsc          PORTA, 0
0009B2 93A7               M             bcf            b1Li, 1
0009B4 0012           01148          return
0009B6 83A5           01149 sb2      bsf       currentB, 1
0009B8 A3BD           01150          btfss     bheight, 1
                      01151          Save_BarrelL   b2L, b2Li
0009BA C0A3 F0A8          M             movff   rightE, b2L
0009BE 6BA9               M             clrf           b2Li
0009C0 B480               M             btfsc          PORTA, 2
0009C2 85A9               M             bsf            b2Li, 2
0009C4 B680               M             btfsc          PORTA, 3
0009C6 83A9               M             bsf            b2Li, 1
0009C8 A680               M             btfss          PORTA, 3
0009CA 81A9               M             bsf            b2Li, 0
0009CC B480               M             btfsc          PORTA, 2
0009CE 93A9               M             bcf            b2Li, 1
0009D0 B3BD           01152          btfsc     bheight, 1 
                      01153          Save_BarrelH   b2L, b2Li
0009D2 C0A3 F0A8          M             movff   rightE, b2L
0009D6 6BA9               M             clrf           b2Li
0009D8 B080               M             btfsc          PORTA, 0
0009DA 85A9               M             bsf            b2Li, 2
0009DC B280               M             btfsc          PORTA, 1
0009DE 83A9               M             bsf            b2Li, 1
0009E0 A280               M             btfss          PORTA, 1
0009E2 81A9               M             bsf            b2Li, 0
0009E4 B080               M             btfsc          PORTA, 0
0009E6 93A9               M             bcf            b2Li, 1
0009E8 0012           01154          return
0009EA 85A5           01155 sb3      bsf       currentB, 2
0009EC A5BD           01156          btfss     bheight, 2
                      01157          Save_BarrelL   b3L, b3Li
0009EE C0A3 F0AA          M             movff   rightE, b3L
0009F2 6BAB               M             clrf           b3Li
0009F4 B480               M             btfsc          PORTA, 2
0009F6 85AB               M             bsf            b3Li, 2
0009F8 B680               M             btfsc          PORTA, 3
0009FA 83AB               M             bsf            b3Li, 1
0009FC A680               M             btfss          PORTA, 3
0009FE 81AB               M             bsf            b3Li, 0
000A00 B480               M             btfsc          PORTA, 2
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000A02 93AB               M             bcf            b3Li, 1
000A04 B5BD           01158          btfsc     bheight, 2 
                      01159          Save_BarrelH   b3L, b3Li
000A06 C0A3 F0AA          M             movff   rightE, b3L
000A0A 6BAB               M             clrf           b3Li
000A0C B080               M             btfsc          PORTA, 0
000A0E 85AB               M             bsf            b3Li, 2
000A10 B280               M             btfsc          PORTA, 1
000A12 83AB               M             bsf            b3Li, 1
000A14 A280               M             btfss          PORTA, 1
000A16 81AB               M             bsf            b3Li, 0
000A18 B080               M             btfsc          PORTA, 0
000A1A 93AB               M             bcf            b3Li, 1
000A1C 0012           01160          return
000A1E 87A5           01161 sb4      bsf       currentB, 3
000A20 A7BD           01162          btfss     bheight, 3
                      01163          Save_BarrelL   b4L, b4Li
000A22 C0A3 F0AC          M             movff   rightE, b4L
000A26 6BAD               M             clrf           b4Li
000A28 B480               M             btfsc          PORTA, 2
000A2A 85AD               M             bsf            b4Li, 2
000A2C B680               M             btfsc          PORTA, 3
000A2E 83AD               M             bsf            b4Li, 1
000A30 A680               M             btfss          PORTA, 3
000A32 81AD               M             bsf            b4Li, 0
000A34 B480               M             btfsc          PORTA, 2
000A36 93AD               M             bcf            b4Li, 1
000A38 B7BD           01164          btfsc     bheight, 3 
                      01165          Save_BarrelH   b4L, b4Li
000A3A C0A3 F0AC          M             movff   rightE, b4L
000A3E 6BAD               M             clrf           b4Li
000A40 B080               M             btfsc          PORTA, 0
000A42 85AD               M             bsf            b4Li, 2
000A44 B280               M             btfsc          PORTA, 1
000A46 83AD               M             bsf            b4Li, 1
000A48 A280               M             btfss          PORTA, 1
000A4A 81AD               M             bsf            b4Li, 0
000A4C B080               M             btfsc          PORTA, 0
000A4E 93AD               M             bcf            b4Li, 1
000A50 0012           01166          return
000A52 89A5           01167 sb5      bsf       currentB, 4
000A54 A9BD           01168          btfss     bheight, 4
                      01169          Save_BarrelL   b5L, b5Li
000A56 C0A3 F0AE          M             movff   rightE, b5L
000A5A 6BAF               M             clrf           b5Li
000A5C B480               M             btfsc          PORTA, 2
000A5E 85AF               M             bsf            b5Li, 2
000A60 B680               M             btfsc          PORTA, 3
000A62 83AF               M             bsf            b5Li, 1
000A64 A680               M             btfss          PORTA, 3
000A66 81AF               M             bsf            b5Li, 0
000A68 B480               M             btfsc          PORTA, 2
000A6A 93AF               M             bcf            b5Li, 1
000A6C B9BD           01170          btfsc     bheight, 4 
                      01171          Save_BarrelH   b5L, b5Li
000A6E C0A3 F0AE          M             movff   rightE, b5L
000A72 6BAF               M             clrf           b5Li
000A74 B080               M             btfsc          PORTA, 0
000A76 85AF               M             bsf            b5Li, 2
000A78 B280               M             btfsc          PORTA, 1
000A7A 83AF               M             bsf            b5Li, 1
000A7C A280               M             btfss          PORTA, 1
000A7E 81AF               M             bsf            b5Li, 0
000A80 B080               M             btfsc          PORTA, 0
000A82 93AF               M             bcf            b5Li, 1
000A84 0012           01172          return
000A86 8BA5           01173 sb6      bsf       currentB, 5
000A88 ABBD           01174          btfss     bheight, 5
                      01175          Save_BarrelL   b6L, b6Li
000A8A C0A3 F0B0          M             movff   rightE, b6L
000A8E 6BB1               M             clrf           b6Li
000A90 B480               M             btfsc          PORTA, 2
000A92 85B1               M             bsf            b6Li, 2
000A94 B680               M             btfsc          PORTA, 3
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000A96 83B1               M             bsf            b6Li, 1
000A98 A680               M             btfss          PORTA, 3
000A9A 81B1               M             bsf            b6Li, 0
000A9C B480               M             btfsc          PORTA, 2
000A9E 93B1               M             bcf            b6Li, 1
000AA0 BBBD           01176          btfsc     bheight, 5 
                      01177          Save_BarrelH   b6L, b6Li
000AA2 C0A3 F0B0          M             movff   rightE, b6L
000AA6 6BB1               M             clrf           b6Li
000AA8 B080               M             btfsc          PORTA, 0
000AAA 85B1               M             bsf            b6Li, 2
000AAC B280               M             btfsc          PORTA, 1
000AAE 83B1               M             bsf            b6Li, 1
000AB0 A280               M             btfss          PORTA, 1
000AB2 81B1               M             bsf            b6Li, 0
000AB4 B080               M             btfsc          PORTA, 0
000AB6 93B1               M             bcf            b6Li, 1
000AB8 0012           01178          return
000ABA 8DA5           01179 sb7      bsf       currentB, 6
000ABC ADBD           01180          btfss     bheight, 6
                      01181          Save_BarrelL   b7L, b7Li
000ABE C0A3 F0B2          M             movff   rightE, b7L
000AC2 6BB3               M             clrf           b7Li
000AC4 B480               M             btfsc          PORTA, 2
000AC6 85B3               M             bsf            b7Li, 2
000AC8 B680               M             btfsc          PORTA, 3
000ACA 83B3               M             bsf            b7Li, 1
000ACC A680               M             btfss          PORTA, 3
000ACE 81B3               M             bsf            b7Li, 0
000AD0 B480               M             btfsc          PORTA, 2
000AD2 93B3               M             bcf            b7Li, 1
000AD4 BDBD           01182          btfsc     bheight, 6 
                      01183          Save_BarrelH   b7L, b7Li
000AD6 C0A3 F0B2          M             movff   rightE, b7L
000ADA 6BB3               M             clrf           b7Li
000ADC B080               M             btfsc          PORTA, 0
000ADE 85B3               M             bsf            b7Li, 2
000AE0 B280               M             btfsc          PORTA, 1
000AE2 83B3               M             bsf            b7Li, 1
000AE4 A280               M             btfss          PORTA, 1
000AE6 81B3               M             bsf            b7Li, 0
000AE8 B080               M             btfsc          PORTA, 0
000AEA 93B3               M             bcf            b7Li, 1
000AEC 0012           01184          return
                      01185 
000AEE 8893           01186 finish   bsf       TRISB, 4
000AF0 EC?? F???      01187          call      WrtNum
000AF4 9093           01188          bcf       TRISB, 0
000AF6 9493           01189          bcf       TRISB, 2
000AF8 EC?? F???      01190          call      ClrLCD
                      01191          write     OperTime
  0000                    M         local   loop_
000AFC 0E??               M         movlw   upper OperTime
000AFE 6EF8               M         movwf   TBLPTRU
000B00 0E??               M         movlw   high OperTime
000B02 6EF7               M         movwf   TBLPTRH
000B04 0E??               M         movlw   low OperTime
000B06 6EF6               M         movwf   TBLPTRL
000B08 0008               M         tblrd*
000B0A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000B0C                    M         loop_   
000B0C EC?? F???          M         call     WrtLCD
000B10 000B               M         tblrd+*
000B12 50F5               M         movf     TABLAT, W
000B14 E1??               M         bnz     loop_
000B16 EC?? F???      01192          call      keywait
000B1A EC?? F???      01193          call      ClrLCD
                      01194          write     Done
  0000                    M         local   loop_
000B1E 0E??               M         movlw   upper Done
000B20 6EF8               M         movwf   TBLPTRU
000B22 0E??               M         movlw   high Done
000B24 6EF7               M         movwf   TBLPTRH
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000B26 0E??               M         movlw   low Done
000B28 6EF6               M         movwf   TBLPTRL
000B2A 0008               M         tblrd*
000B2C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000B2E                    M         loop_   
000B2E EC?? F???          M         call     WrtLCD
000B32 000B               M         tblrd+*
000B34 50F5               M         movf     TABLAT, W
000B36 E1??               M         bnz     loop_
                      01195          sepdig    numBar
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000B38 0E00               M         movlw      b'0'
000B3A 6F82               M         movwf      dig12
000B3C 6E7C               M         movwf      dig2
000B3E 6E7D               M         movwf      dig3
                          M         
000B40 519E               M         movf       numBar, W
000B42 6F86               M         movwf      tot
000B44 0E63               M loop3   movlw      d'99'
000B46 6586               M         cpfsgt     tot
000B48 EF?? F???          M         goto       loop2
000B4C 2B82               M         incf       dig12
000B4E 5F86               M         subwf      tot, f
000B50 0786               M         decf       tot, f
000B52 EF?? F???          M         goto       loop3
000B56 0E09               M loop2   movlw      d'9'
000B58 6586               M         cpfsgt     tot
000B5A EF?? F???          M         goto       loop1
000B5E 2A7C               M         incf       dig2
000B60 5F86               M         subwf      tot, f
000B62 0786               M         decf       tot, f
000B64 EF?? F???          M         goto       loop2
000B68 0E00               M loop1   movlw      d'0'
000B6A 6586               M         cpfsgt     tot
000B6C EF?? F???          M         goto       fin
000B70 2A7D               M         incf       dig3
000B72 5F86               M         subwf      tot, f
000B74 0786               M         decf       tot, f
000B76 EF?? F???          M         goto       loop1
000B7A                    M fin     
000B7A EC?? F???      01196          call      WrtNum
                      01197          write     Done2
  0000                    M         local   loop_
000B7E 0E??               M         movlw   upper Done2
000B80 6EF8               M         movwf   TBLPTRU
000B82 0E??               M         movlw   high Done2
000B84 6EF7               M         movwf   TBLPTRH
000B86 0E??               M         movlw   low Done2
000B88 6EF6               M         movwf   TBLPTRL
000B8A 0008               M         tblrd*
000B8C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000B8E                    M         loop_   
000B8E EC?? F???          M         call     WrtLCD
000B92 000B               M         tblrd+*
000B94 50F5               M         movf     TABLAT, W
000B96 E1??               M         bnz     loop_
                      01198          sepdig    Full
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000B98 0E00               M         movlw      b'0'
000B9A 6F82               M         movwf      dig12
000B9C 6E7C               M         movwf      dig2
000B9E 6E7D               M         movwf      dig3
                          M         
000BA0 51A1               M         movf       Full, W
000BA2 6F86               M         movwf      tot
000BA4 0E63               M loop3   movlw      d'99'
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000BA6 6586               M         cpfsgt     tot
000BA8 EF?? F???          M         goto       loop2
000BAC 2B82               M         incf       dig12
000BAE 5F86               M         subwf      tot, f
000BB0 0786               M         decf       tot, f
000BB2 EF?? F???          M         goto       loop3
000BB6 0E09               M loop2   movlw      d'9'
000BB8 6586               M         cpfsgt     tot
000BBA EF?? F???          M         goto       loop1
000BBE 2A7C               M         incf       dig2
000BC0 5F86               M         subwf      tot, f
000BC2 0786               M         decf       tot, f
000BC4 EF?? F???          M         goto       loop2
000BC8 0E00               M loop1   movlw      d'0'
000BCA 6586               M         cpfsgt     tot
000BCC EF?? F???          M         goto       fin
000BD0 2A7D               M         incf       dig3
000BD2 5F86               M         subwf      tot, f
000BD4 0786               M         decf       tot, f
000BD6 EF?? F???          M         goto       loop1
000BDA                    M fin     
000BDA EC?? F???      01199          call      WrtNum
                      01200          write     Done3
  0000                    M         local   loop_
000BDE 0E??               M         movlw   upper Done3
000BE0 6EF8               M         movwf   TBLPTRU
000BE2 0E??               M         movlw   high Done3
000BE4 6EF7               M         movwf   TBLPTRH
000BE6 0E??               M         movlw   low Done3
000BE8 6EF6               M         movwf   TBLPTRL
000BEA 0008               M         tblrd*
000BEC 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000BEE                    M         loop_   
000BEE EC?? F???          M         call     WrtLCD
000BF2 000B               M         tblrd+*
000BF4 50F5               M         movf     TABLAT, W
000BF6 E1??               M         bnz     loop_
                      01201          sepdig    Half
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000BF8 0E00               M         movlw      b'0'
000BFA 6F82               M         movwf      dig12
000BFC 6E7C               M         movwf      dig2
000BFE 6E7D               M         movwf      dig3
                          M         
000C00 51A0               M         movf       Half, W
000C02 6F86               M         movwf      tot
000C04 0E63               M loop3   movlw      d'99'
000C06 6586               M         cpfsgt     tot
000C08 EF?? F???          M         goto       loop2
000C0C 2B82               M         incf       dig12
000C0E 5F86               M         subwf      tot, f
000C10 0786               M         decf       tot, f
000C12 EF?? F???          M         goto       loop3
000C16 0E09               M loop2   movlw      d'9'
000C18 6586               M         cpfsgt     tot
000C1A EF?? F???          M         goto       loop1
000C1E 2A7C               M         incf       dig2
000C20 5F86               M         subwf      tot, f
000C22 0786               M         decf       tot, f
000C24 EF?? F???          M         goto       loop2
000C28 0E00               M loop1   movlw      d'0'
000C2A 6586               M         cpfsgt     tot
000C2C EF?? F???          M         goto       fin
000C30 2A7D               M         incf       dig3
000C32 5F86               M         subwf      tot, f
000C34 0786               M         decf       tot, f
000C36 EF?? F???          M         goto       loop1
000C3A                    M fin     
000C3A EC?? F???      01202          call      WrtNum
                      01203          write     Done4
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local   loop_
000C3E 0E??               M         movlw   upper Done4
000C40 6EF8               M         movwf   TBLPTRU
000C42 0E??               M         movlw   high Done4
000C44 6EF7               M         movwf   TBLPTRH
000C46 0E??               M         movlw   low Done4
000C48 6EF6               M         movwf   TBLPTRL
000C4A 0008               M         tblrd*
000C4C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000C4E                    M         loop_   
000C4E EC?? F???          M         call     WrtLCD
000C52 000B               M         tblrd+*
000C54 50F5               M         movf     TABLAT, W
000C56 E1??               M         bnz     loop_
                      01204          sepdig    Empty
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000C58 0E00               M         movlw      b'0'
000C5A 6F82               M         movwf      dig12
000C5C 6E7C               M         movwf      dig2
000C5E 6E7D               M         movwf      dig3
                          M         
000C60 519F               M         movf       Empty, W
000C62 6F86               M         movwf      tot
000C64 0E63               M loop3   movlw      d'99'
000C66 6586               M         cpfsgt     tot
000C68 EF?? F???          M         goto       loop2
000C6C 2B82               M         incf       dig12
000C6E 5F86               M         subwf      tot, f
000C70 0786               M         decf       tot, f
000C72 EF?? F???          M         goto       loop3
000C76 0E09               M loop2   movlw      d'9'
000C78 6586               M         cpfsgt     tot
000C7A EF?? F???          M         goto       loop1
000C7E 2A7C               M         incf       dig2
000C80 5F86               M         subwf      tot, f
000C82 0786               M         decf       tot, f
000C84 EF?? F???          M         goto       loop2
000C88 0E00               M loop1   movlw      d'0'
000C8A 6586               M         cpfsgt     tot
000C8C EF?? F???          M         goto       fin
000C90 2A7D               M         incf       dig3
000C92 5F86               M         subwf      tot, f
000C94 0786               M         decf       tot, f
000C96 EF?? F???          M         goto       loop1
000C9A                    M fin     
000C9A EC?? F???      01205          call      WrtNum
000C9E EC?? F???      01206          call      sdelay        
000CA2 EC?? F???      01207          call      sdelay        
000CA6 EC?? F???      01208          call      sdelay
000CAA A281           01209 dwait    btfss     PORTB, 1
000CAC EF?? F???      01210         goto       dwait
                      01211         
000CB0 EC?? F???      01212 finish2 call       ClrLCD
                      01213         write      Done5
  0000                    M         local   loop_
000CB4 0E??               M         movlw   upper Done5
000CB6 6EF8               M         movwf   TBLPTRU
000CB8 0E??               M         movlw   high Done5
000CBA 6EF7               M         movwf   TBLPTRH
000CBC 0E??               M         movlw   low Done5
000CBE 6EF6               M         movwf   TBLPTRL
000CC0 0008               M         tblrd*
000CC2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000CC4                    M         loop_   
000CC4 EC?? F???          M         call     WrtLCD
000CC8 000B               M         tblrd+*
000CCA 50F5               M         movf     TABLAT, W
000CCC E1??               M         bnz     loop_
                      01214         sepdig     rightE
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000CCE 0E00               M         movlw      b'0'
000CD0 6F82               M         movwf      dig12
000CD2 6E7C               M         movwf      dig2
000CD4 6E7D               M         movwf      dig3
                          M         
000CD6 51A3               M         movf       rightE, W
000CD8 6F86               M         movwf      tot
000CDA 0E63               M loop3   movlw      d'99'
000CDC 6586               M         cpfsgt     tot
000CDE EF?? F???          M         goto       loop2
000CE2 2B82               M         incf       dig12
000CE4 5F86               M         subwf      tot, f
000CE6 0786               M         decf       tot, f
000CE8 EF?? F???          M         goto       loop3
000CEC 0E09               M loop2   movlw      d'9'
000CEE 6586               M         cpfsgt     tot
000CF0 EF?? F???          M         goto       loop1
000CF4 2A7C               M         incf       dig2
000CF6 5F86               M         subwf      tot, f
000CF8 0786               M         decf       tot, f
000CFA EF?? F???          M         goto       loop2
000CFE 0E00               M loop1   movlw      d'0'
000D00 6586               M         cpfsgt     tot
000D02 EF?? F???          M         goto       fin
000D06 2A7D               M         incf       dig3
000D08 5F86               M         subwf      tot, f
000D0A 0786               M         decf       tot, f
000D0C EF?? F???          M         goto       loop1
000D10                    M fin     
000D10 EC?? F???      01215         call       WrtNum
                      01216         write      Done6
  0000                    M         local   loop_
000D14 0E??               M         movlw   upper Done6
000D16 6EF8               M         movwf   TBLPTRU
000D18 0E??               M         movlw   high Done6
000D1A 6EF7               M         movwf   TBLPTRH
000D1C 0E??               M         movlw   low Done6
000D1E 6EF6               M         movwf   TBLPTRL
000D20 0008               M         tblrd*
000D22 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000D24                    M         loop_   
000D24 EC?? F???          M         call     WrtLCD
000D28 000B               M         tblrd+*
000D2A 50F5               M         movf     TABLAT, W
000D2C E1??               M         bnz     loop_
                      01217         sepdig     leftE
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000D2E 0E00               M         movlw      b'0'
000D30 6F82               M         movwf      dig12
000D32 6E7C               M         movwf      dig2
000D34 6E7D               M         movwf      dig3
                          M         
000D36 51A4               M         movf       leftE, W
000D38 6F86               M         movwf      tot
000D3A 0E63               M loop3   movlw      d'99'
000D3C 6586               M         cpfsgt     tot
000D3E EF?? F???          M         goto       loop2
000D42 2B82               M         incf       dig12
000D44 5F86               M         subwf      tot, f
000D46 0786               M         decf       tot, f
000D48 EF?? F???          M         goto       loop3
000D4C 0E09               M loop2   movlw      d'9'
000D4E 6586               M         cpfsgt     tot
000D50 EF?? F???          M         goto       loop1
000D54 2A7C               M         incf       dig2
000D56 5F86               M         subwf      tot, f
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000D58 0786               M         decf       tot, f
000D5A EF?? F???          M         goto       loop2
000D5E 0E00               M loop1   movlw      d'0'
000D60 6586               M         cpfsgt     tot
000D62 EF?? F???          M         goto       fin
000D66 2A7D               M         incf       dig3
000D68 5F86               M         subwf      tot, f
000D6A 0786               M         decf       tot, f
000D6C EF?? F???          M         goto       loop1
000D70                    M fin     
000D70 EC?? F???      01218         call       WrtNum
000D74 EC?? F???      01219         call       sdelay        
000D78 EC?? F???      01220          call      sdelay        
000D7C EC?? F???      01221          call      sdelay
000D80 A281           01222 dwait2   btfss     PORTB, 1
000D82 EF?? F???      01223          goto      dwait2
                      01224 
000D86 A1A5           01225 finish3  btfss      currentB, 0
000D88 EF?? F???      01226          goto       shend
000D8C EC?? F???      01227          call      ClrLCD
                      01228          write      Barrel
  0000                    M         local   loop_
000D90 0E??               M         movlw   upper Barrel
000D92 6EF8               M         movwf   TBLPTRU
000D94 0E??               M         movlw   high Barrel
000D96 6EF7               M         movwf   TBLPTRH
000D98 0E??               M         movlw   low Barrel
000D9A 6EF6               M         movwf   TBLPTRL
000D9C 0008               M         tblrd*
000D9E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000DA0                    M         loop_   
000DA0 EC?? F???          M         call     WrtLCD
000DA4 000B               M         tblrd+*
000DA6 50F5               M         movf     TABLAT, W
000DA8 E1??               M         bnz     loop_
000DAA 0E31           01229          movlw      "1"
000DAC EC?? F???      01230          call       WrtLCD
                      01231          write      Fulls
  0000                    M         local   loop_
000DB0 0E??               M         movlw   upper Fulls
000DB2 6EF8               M         movwf   TBLPTRU
000DB4 0E??               M         movlw   high Fulls
000DB6 6EF7               M         movwf   TBLPTRH
000DB8 0E??               M         movlw   low Fulls
000DBA 6EF6               M         movwf   TBLPTRL
000DBC 0008               M         tblrd*
000DBE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000DC0                    M         loop_   
000DC0 EC?? F???          M         call     WrtLCD
000DC4 000B               M         tblrd+*
000DC6 50F5               M         movf     TABLAT, W
000DC8 E1??               M         bnz     loop_
                      01232          dFull      b1Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
000DCA B5A7               M         btfsc      b1Li,  2
000DCC EF?? F???          M         goto        wfull
000DD0 B3A7               M         btfsc      b1Li,  1
000DD2 EF?? F???          M         goto       whalf
000DD6 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
000DDA 0E??               M         movlw   upper Fulls
000DDC 6EF8               M         movwf   TBLPTRU
000DDE 0E??               M         movlw   high Fulls
000DE0 6EF7               M         movwf   TBLPTRH
000DE2 0E??               M         movlw   low Fulls
000DE4 6EF6               M         movwf   TBLPTRL
000DE6 0008               M         tblrd*
000DE8 50F5               M         movf     TABLAT, W
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (loop_)
000DEA                    M         loop_   
000DEA EC?? F???          M         call     WrtLCD
000DEE 000B               M         tblrd+*
000DF0 50F5               M         movf     TABLAT, W
000DF2 E1??               M         bnz     loop_
000DF4 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
000DF8 0E??               M         movlw   upper Halfs
000DFA 6EF8               M         movwf   TBLPTRU
000DFC 0E??               M         movlw   high Halfs
000DFE 6EF7               M         movwf   TBLPTRH
000E00 0E??               M         movlw   low Halfs
000E02 6EF6               M         movwf   TBLPTRL
000E04 0008               M         tblrd*
000E06 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000E08                    M         loop_   
000E08 EC?? F???          M         call     WrtLCD
000E0C 000B               M         tblrd+*
000E0E 50F5               M         movf     TABLAT, W
000E10 E1??               M         bnz     loop_
000E12 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
000E16 0E??               M         movlw   upper Emptys
000E18 6EF8               M         movwf   TBLPTRU
000E1A 0E??               M         movlw   high Emptys
000E1C 6EF7               M         movwf   TBLPTRH
000E1E 0E??               M         movlw   low Emptys
000E20 6EF6               M         movwf   TBLPTRL
000E22 0008               M         tblrd*
000E24 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000E26                    M         loop_   
000E26 EC?? F???          M         call     WrtLCD
000E2A 000B               M         tblrd+*
000E2C 50F5               M         movf     TABLAT, W
000E2E E1??               M         bnz     loop_
000E30                    M wend
                      01233          write      Location
  0000                    M         local   loop_
000E30 0E??               M         movlw   upper Location
000E32 6EF8               M         movwf   TBLPTRU
000E34 0E??               M         movlw   high Location
000E36 6EF7               M         movwf   TBLPTRH
000E38 0E??               M         movlw   low Location
000E3A 6EF6               M         movwf   TBLPTRL
000E3C 0008               M         tblrd*
000E3E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000E40                    M         loop_   
000E40 EC?? F???          M         call     WrtLCD
000E44 000B               M         tblrd+*
000E46 50F5               M         movf     TABLAT, W
000E48 E1??               M         bnz     loop_
                      01234          sepdig     b1L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000E4A 0E00               M         movlw      b'0'
000E4C 6F82               M         movwf      dig12
000E4E 6E7C               M         movwf      dig2
000E50 6E7D               M         movwf      dig3
                          M         
000E52 51A6               M         movf       b1L, W
000E54 6F86               M         movwf      tot
000E56 0E63               M loop3   movlw      d'99'
000E58 6586               M         cpfsgt     tot
000E5A EF?? F???          M         goto       loop2
000E5E 2B82               M         incf       dig12
000E60 5F86               M         subwf      tot, f
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000E62 0786               M         decf       tot, f
000E64 EF?? F???          M         goto       loop3
000E68 0E09               M loop2   movlw      d'9'
000E6A 6586               M         cpfsgt     tot
000E6C EF?? F???          M         goto       loop1
000E70 2A7C               M         incf       dig2
000E72 5F86               M         subwf      tot, f
000E74 0786               M         decf       tot, f
000E76 EF?? F???          M         goto       loop2
000E7A 0E00               M loop1   movlw      d'0'
000E7C 6586               M         cpfsgt     tot
000E7E EF?? F???          M         goto       fin
000E82 2A7D               M         incf       dig3
000E84 5F86               M         subwf      tot, f
000E86 0786               M         decf       tot, f
000E88 EF?? F???          M         goto       loop1
000E8C                    M fin     
000E8C EC?? F???      01235          call       WrtNum
000E90 EC?? F???      01236          call       keywait
000E94 EC?? F???      01237          call       ClrLCD
                      01238          write      Hob
  0000                    M         local   loop_
000E98 0E??               M         movlw   upper Hob
000E9A 6EF8               M         movwf   TBLPTRU
000E9C 0E??               M         movlw   high Hob
000E9E 6EF7               M         movwf   TBLPTRH
000EA0 0E??               M         movlw   low Hob
000EA2 6EF6               M         movwf   TBLPTRL
000EA4 0008               M         tblrd*
000EA6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000EA8                    M         loop_   
000EA8 EC?? F???          M         call     WrtLCD
000EAC 000B               M         tblrd+*
000EAE 50F5               M         movf     TABLAT, W
000EB0 E1??               M         bnz     loop_
000EB2 A1BD           01239          btfss      bheight, 0
                      01240          write      fshort
  0000                    M         local   loop_
000EB4 0E??               M         movlw   upper fshort
000EB6 6EF8               M         movwf   TBLPTRU
000EB8 0E??               M         movlw   high fshort
000EBA 6EF7               M         movwf   TBLPTRH
000EBC 0E??               M         movlw   low fshort
000EBE 6EF6               M         movwf   TBLPTRL
000EC0 0008               M         tblrd*
000EC2 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000EC4                    M         loop_   
000EC4 EC?? F???          M         call     WrtLCD
000EC8 000B               M         tblrd+*
000ECA 50F5               M         movf     TABLAT, W
000ECC E1??               M         bnz     loop_
000ECE B1BD           01241          btfsc      bheight, 0
                      01242          write      ftall
  0000                    M         local   loop_
000ED0 0E??               M         movlw   upper ftall
000ED2 6EF8               M         movwf   TBLPTRU
000ED4 0E??               M         movlw   high ftall
000ED6 6EF7               M         movwf   TBLPTRH
000ED8 0E??               M         movlw   low ftall
000EDA 6EF6               M         movwf   TBLPTRL
000EDC 0008               M         tblrd*
000EDE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000EE0                    M         loop_   
000EE0 EC?? F???          M         call     WrtLCD
000EE4 000B               M         tblrd+*
000EE6 50F5               M         movf     TABLAT, W
000EE8 E1??               M         bnz     loop_
000EEA EC?? F???      01243          call       keywait
                      01244          
000EEE A3A5           01245          btfss      currentB, 1
000EF0 EF?? F???      01246          goto       shend
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000EF4 EC?? F???      01247          call      ClrLCD
                      01248          write      Barrel
  0000                    M         local   loop_
000EF8 0E??               M         movlw   upper Barrel
000EFA 6EF8               M         movwf   TBLPTRU
000EFC 0E??               M         movlw   high Barrel
000EFE 6EF7               M         movwf   TBLPTRH
000F00 0E??               M         movlw   low Barrel
000F02 6EF6               M         movwf   TBLPTRL
000F04 0008               M         tblrd*
000F06 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F08                    M         loop_   
000F08 EC?? F???          M         call     WrtLCD
000F0C 000B               M         tblrd+*
000F0E 50F5               M         movf     TABLAT, W
000F10 E1??               M         bnz     loop_
000F12 0E32           01249          movlw      "2" 
000F14 EC?? F???      01250          call       WrtLCD
                      01251          write      Fulls
  0000                    M         local   loop_
000F18 0E??               M         movlw   upper Fulls
000F1A 6EF8               M         movwf   TBLPTRU
000F1C 0E??               M         movlw   high Fulls
000F1E 6EF7               M         movwf   TBLPTRH
000F20 0E??               M         movlw   low Fulls
000F22 6EF6               M         movwf   TBLPTRL
000F24 0008               M         tblrd*
000F26 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F28                    M         loop_   
000F28 EC?? F???          M         call     WrtLCD
000F2C 000B               M         tblrd+*
000F2E 50F5               M         movf     TABLAT, W
000F30 E1??               M         bnz     loop_
                      01252          dFull      b2Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
000F32 B5A9               M         btfsc      b2Li,  2
000F34 EF?? F???          M         goto        wfull
000F38 B3A9               M         btfsc      b2Li,  1
000F3A EF?? F???          M         goto       whalf
000F3E EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
000F42 0E??               M         movlw   upper Fulls
000F44 6EF8               M         movwf   TBLPTRU
000F46 0E??               M         movlw   high Fulls
000F48 6EF7               M         movwf   TBLPTRH
000F4A 0E??               M         movlw   low Fulls
000F4C 6EF6               M         movwf   TBLPTRL
000F4E 0008               M         tblrd*
000F50 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F52                    M         loop_   
000F52 EC?? F???          M         call     WrtLCD
000F56 000B               M         tblrd+*
000F58 50F5               M         movf     TABLAT, W
000F5A E1??               M         bnz     loop_
000F5C EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
000F60 0E??               M         movlw   upper Halfs
000F62 6EF8               M         movwf   TBLPTRU
000F64 0E??               M         movlw   high Halfs
000F66 6EF7               M         movwf   TBLPTRH
000F68 0E??               M         movlw   low Halfs
000F6A 6EF6               M         movwf   TBLPTRL
000F6C 0008               M         tblrd*
000F6E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F70                    M         loop_   
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000F70 EC?? F???          M         call     WrtLCD
000F74 000B               M         tblrd+*
000F76 50F5               M         movf     TABLAT, W
000F78 E1??               M         bnz     loop_
000F7A EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
000F7E 0E??               M         movlw   upper Emptys
000F80 6EF8               M         movwf   TBLPTRU
000F82 0E??               M         movlw   high Emptys
000F84 6EF7               M         movwf   TBLPTRH
000F86 0E??               M         movlw   low Emptys
000F88 6EF6               M         movwf   TBLPTRL
000F8A 0008               M         tblrd*
000F8C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000F8E                    M         loop_   
000F8E EC?? F???          M         call     WrtLCD
000F92 000B               M         tblrd+*
000F94 50F5               M         movf     TABLAT, W
000F96 E1??               M         bnz     loop_
000F98                    M wend
                      01253          write      Location
  0000                    M         local   loop_
000F98 0E??               M         movlw   upper Location
000F9A 6EF8               M         movwf   TBLPTRU
000F9C 0E??               M         movlw   high Location
000F9E 6EF7               M         movwf   TBLPTRH
000FA0 0E??               M         movlw   low Location
000FA2 6EF6               M         movwf   TBLPTRL
000FA4 0008               M         tblrd*
000FA6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
000FA8                    M         loop_   
000FA8 EC?? F???          M         call     WrtLCD
000FAC 000B               M         tblrd+*
000FAE 50F5               M         movf     TABLAT, W
000FB0 E1??               M         bnz     loop_
                      01254          sepdig     b2L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
000FB2 0E00               M         movlw      b'0'
000FB4 6F82               M         movwf      dig12
000FB6 6E7C               M         movwf      dig2
000FB8 6E7D               M         movwf      dig3
                          M         
000FBA 51A8               M         movf       b2L, W
000FBC 6F86               M         movwf      tot
000FBE 0E63               M loop3   movlw      d'99'
000FC0 6586               M         cpfsgt     tot
000FC2 EF?? F???          M         goto       loop2
000FC6 2B82               M         incf       dig12
000FC8 5F86               M         subwf      tot, f
000FCA 0786               M         decf       tot, f
000FCC EF?? F???          M         goto       loop3
000FD0 0E09               M loop2   movlw      d'9'
000FD2 6586               M         cpfsgt     tot
000FD4 EF?? F???          M         goto       loop1
000FD8 2A7C               M         incf       dig2
000FDA 5F86               M         subwf      tot, f
000FDC 0786               M         decf       tot, f
000FDE EF?? F???          M         goto       loop2
000FE2 0E00               M loop1   movlw      d'0'
000FE4 6586               M         cpfsgt     tot
000FE6 EF?? F???          M         goto       fin
000FEA 2A7D               M         incf       dig3
000FEC 5F86               M         subwf      tot, f
000FEE 0786               M         decf       tot, f
000FF0 EF?? F???          M         goto       loop1
000FF4                    M fin     
000FF4 EC?? F???      01255          call       WrtNum
000FF8 EC?? F???      01256          call       keywait
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000FFC EC?? F???      01257          call       ClrLCD
                      01258          write      Hob
  0000                    M         local   loop_
001000 0E??               M         movlw   upper Hob
001002 6EF8               M         movwf   TBLPTRU
001004 0E??               M         movlw   high Hob
001006 6EF7               M         movwf   TBLPTRH
001008 0E??               M         movlw   low Hob
00100A 6EF6               M         movwf   TBLPTRL
00100C 0008               M         tblrd*
00100E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001010                    M         loop_   
001010 EC?? F???          M         call     WrtLCD
001014 000B               M         tblrd+*
001016 50F5               M         movf     TABLAT, W
001018 E1??               M         bnz     loop_
00101A A3BD           01259          btfss      bheight, 1
                      01260          write      fshort
  0000                    M         local   loop_
00101C 0E??               M         movlw   upper fshort
00101E 6EF8               M         movwf   TBLPTRU
001020 0E??               M         movlw   high fshort
001022 6EF7               M         movwf   TBLPTRH
001024 0E??               M         movlw   low fshort
001026 6EF6               M         movwf   TBLPTRL
001028 0008               M         tblrd*
00102A 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00102C                    M         loop_   
00102C EC?? F???          M         call     WrtLCD
001030 000B               M         tblrd+*
001032 50F5               M         movf     TABLAT, W
001034 E1??               M         bnz     loop_
001036 B3BD           01261          btfsc      bheight, 1
                      01262          write      ftall
  0000                    M         local   loop_
001038 0E??               M         movlw   upper ftall
00103A 6EF8               M         movwf   TBLPTRU
00103C 0E??               M         movlw   high ftall
00103E 6EF7               M         movwf   TBLPTRH
001040 0E??               M         movlw   low ftall
001042 6EF6               M         movwf   TBLPTRL
001044 0008               M         tblrd*
001046 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001048                    M         loop_   
001048 EC?? F???          M         call     WrtLCD
00104C 000B               M         tblrd+*
00104E 50F5               M         movf     TABLAT, W
001050 E1??               M         bnz     loop_
001052 EC?? F???      01263          call       keywait
                      01264          
001056 A5A5           01265          btfss      currentB, 2
001058 EF?? F???      01266          goto       shend
00105C EC?? F???      01267          call      ClrLCD
                      01268          write      Barrel
  0000                    M         local   loop_
001060 0E??               M         movlw   upper Barrel
001062 6EF8               M         movwf   TBLPTRU
001064 0E??               M         movlw   high Barrel
001066 6EF7               M         movwf   TBLPTRH
001068 0E??               M         movlw   low Barrel
00106A 6EF6               M         movwf   TBLPTRL
00106C 0008               M         tblrd*
00106E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001070                    M         loop_   
001070 EC?? F???          M         call     WrtLCD
001074 000B               M         tblrd+*
001076 50F5               M         movf     TABLAT, W
001078 E1??               M         bnz     loop_
00107A 0E33           01269          movlw      "3"
00107C EC?? F???      01270          call       WrtLCD
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01271          write      Fulls
  0000                    M         local   loop_
001080 0E??               M         movlw   upper Fulls
001082 6EF8               M         movwf   TBLPTRU
001084 0E??               M         movlw   high Fulls
001086 6EF7               M         movwf   TBLPTRH
001088 0E??               M         movlw   low Fulls
00108A 6EF6               M         movwf   TBLPTRL
00108C 0008               M         tblrd*
00108E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001090                    M         loop_   
001090 EC?? F???          M         call     WrtLCD
001094 000B               M         tblrd+*
001096 50F5               M         movf     TABLAT, W
001098 E1??               M         bnz     loop_
                      01272          dFull      b3Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
00109A B5AB               M         btfsc      b3Li,  2
00109C EF?? F???          M         goto        wfull
0010A0 B3AB               M         btfsc      b3Li,  1
0010A2 EF?? F???          M         goto       whalf
0010A6 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
0010AA 0E??               M         movlw   upper Fulls
0010AC 6EF8               M         movwf   TBLPTRU
0010AE 0E??               M         movlw   high Fulls
0010B0 6EF7               M         movwf   TBLPTRH
0010B2 0E??               M         movlw   low Fulls
0010B4 6EF6               M         movwf   TBLPTRL
0010B6 0008               M         tblrd*
0010B8 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0010BA                    M         loop_   
0010BA EC?? F???          M         call     WrtLCD
0010BE 000B               M         tblrd+*
0010C0 50F5               M         movf     TABLAT, W
0010C2 E1??               M         bnz     loop_
0010C4 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
0010C8 0E??               M         movlw   upper Halfs
0010CA 6EF8               M         movwf   TBLPTRU
0010CC 0E??               M         movlw   high Halfs
0010CE 6EF7               M         movwf   TBLPTRH
0010D0 0E??               M         movlw   low Halfs
0010D2 6EF6               M         movwf   TBLPTRL
0010D4 0008               M         tblrd*
0010D6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0010D8                    M         loop_   
0010D8 EC?? F???          M         call     WrtLCD
0010DC 000B               M         tblrd+*
0010DE 50F5               M         movf     TABLAT, W
0010E0 E1??               M         bnz     loop_
0010E2 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
0010E6 0E??               M         movlw   upper Emptys
0010E8 6EF8               M         movwf   TBLPTRU
0010EA 0E??               M         movlw   high Emptys
0010EC 6EF7               M         movwf   TBLPTRH
0010EE 0E??               M         movlw   low Emptys
0010F0 6EF6               M         movwf   TBLPTRL
0010F2 0008               M         tblrd*
0010F4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0010F6                    M         loop_   
0010F6 EC?? F???          M         call     WrtLCD
0010FA 000B               M         tblrd+*
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0010FC 50F5               M         movf     TABLAT, W
0010FE E1??               M         bnz     loop_
001100                    M wend
                      01273          write      Location
  0000                    M         local   loop_
001100 0E??               M         movlw   upper Location
001102 6EF8               M         movwf   TBLPTRU
001104 0E??               M         movlw   high Location
001106 6EF7               M         movwf   TBLPTRH
001108 0E??               M         movlw   low Location
00110A 6EF6               M         movwf   TBLPTRL
00110C 0008               M         tblrd*
00110E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001110                    M         loop_   
001110 EC?? F???          M         call     WrtLCD
001114 000B               M         tblrd+*
001116 50F5               M         movf     TABLAT, W
001118 E1??               M         bnz     loop_
                      01274          sepdig     b3L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
00111A 0E00               M         movlw      b'0'
00111C 6F82               M         movwf      dig12
00111E 6E7C               M         movwf      dig2
001120 6E7D               M         movwf      dig3
                          M         
001122 51AA               M         movf       b3L, W
001124 6F86               M         movwf      tot
001126 0E63               M loop3   movlw      d'99'
001128 6586               M         cpfsgt     tot
00112A EF?? F???          M         goto       loop2
00112E 2B82               M         incf       dig12
001130 5F86               M         subwf      tot, f
001132 0786               M         decf       tot, f
001134 EF?? F???          M         goto       loop3
001138 0E09               M loop2   movlw      d'9'
00113A 6586               M         cpfsgt     tot
00113C EF?? F???          M         goto       loop1
001140 2A7C               M         incf       dig2
001142 5F86               M         subwf      tot, f
001144 0786               M         decf       tot, f
001146 EF?? F???          M         goto       loop2
00114A 0E00               M loop1   movlw      d'0'
00114C 6586               M         cpfsgt     tot
00114E EF?? F???          M         goto       fin
001152 2A7D               M         incf       dig3
001154 5F86               M         subwf      tot, f
001156 0786               M         decf       tot, f
001158 EF?? F???          M         goto       loop1
00115C                    M fin     
00115C EC?? F???      01275          call       WrtNum
001160 EC?? F???      01276          call       keywait
001164 EC?? F???      01277          call       ClrLCD
                      01278          write      Hob
  0000                    M         local   loop_
001168 0E??               M         movlw   upper Hob
00116A 6EF8               M         movwf   TBLPTRU
00116C 0E??               M         movlw   high Hob
00116E 6EF7               M         movwf   TBLPTRH
001170 0E??               M         movlw   low Hob
001172 6EF6               M         movwf   TBLPTRL
001174 0008               M         tblrd*
001176 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001178                    M         loop_   
001178 EC?? F???          M         call     WrtLCD
00117C 000B               M         tblrd+*
00117E 50F5               M         movf     TABLAT, W
001180 E1??               M         bnz     loop_
001182 A5BD           01279          btfss      bheight, 2
                      01280          write      fshort
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local   loop_
001184 0E??               M         movlw   upper fshort
001186 6EF8               M         movwf   TBLPTRU
001188 0E??               M         movlw   high fshort
00118A 6EF7               M         movwf   TBLPTRH
00118C 0E??               M         movlw   low fshort
00118E 6EF6               M         movwf   TBLPTRL
001190 0008               M         tblrd*
001192 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001194                    M         loop_   
001194 EC?? F???          M         call     WrtLCD
001198 000B               M         tblrd+*
00119A 50F5               M         movf     TABLAT, W
00119C E1??               M         bnz     loop_
00119E B5BD           01281          btfsc      bheight, 2
                      01282          write      ftall
  0000                    M         local   loop_
0011A0 0E??               M         movlw   upper ftall
0011A2 6EF8               M         movwf   TBLPTRU
0011A4 0E??               M         movlw   high ftall
0011A6 6EF7               M         movwf   TBLPTRH
0011A8 0E??               M         movlw   low ftall
0011AA 6EF6               M         movwf   TBLPTRL
0011AC 0008               M         tblrd*
0011AE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0011B0                    M         loop_   
0011B0 EC?? F???          M         call     WrtLCD
0011B4 000B               M         tblrd+*
0011B6 50F5               M         movf     TABLAT, W
0011B8 E1??               M         bnz     loop_
0011BA EC?? F???      01283          call       keywait
                      01284          
0011BE A7A5           01285          btfss      currentB, 3
0011C0 EF?? F???      01286          goto       shend
0011C4 EC?? F???      01287          call      ClrLCD
                      01288          write      Barrel
  0000                    M         local   loop_
0011C8 0E??               M         movlw   upper Barrel
0011CA 6EF8               M         movwf   TBLPTRU
0011CC 0E??               M         movlw   high Barrel
0011CE 6EF7               M         movwf   TBLPTRH
0011D0 0E??               M         movlw   low Barrel
0011D2 6EF6               M         movwf   TBLPTRL
0011D4 0008               M         tblrd*
0011D6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0011D8                    M         loop_   
0011D8 EC?? F???          M         call     WrtLCD
0011DC 000B               M         tblrd+*
0011DE 50F5               M         movf     TABLAT, W
0011E0 E1??               M         bnz     loop_
0011E2 0E34           01289          movlw      "4"
0011E4 EC?? F???      01290          call       WrtLCD
                      01291          write      Fulls
  0000                    M         local   loop_
0011E8 0E??               M         movlw   upper Fulls
0011EA 6EF8               M         movwf   TBLPTRU
0011EC 0E??               M         movlw   high Fulls
0011EE 6EF7               M         movwf   TBLPTRH
0011F0 0E??               M         movlw   low Fulls
0011F2 6EF6               M         movwf   TBLPTRL
0011F4 0008               M         tblrd*
0011F6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0011F8                    M         loop_   
0011F8 EC?? F???          M         call     WrtLCD
0011FC 000B               M         tblrd+*
0011FE 50F5               M         movf     TABLAT, W
001200 E1??               M         bnz     loop_
                      01292          dFull      b4Li
  0000                    M         local      wfull
  0000                    M         local      whalf
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local      wempty
  0000                    M         local      wend
001202 B5AD               M         btfsc      b4Li,  2
001204 EF?? F???          M         goto        wfull
001208 B3AD               M         btfsc      b4Li,  1
00120A EF?? F???          M         goto       whalf
00120E EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
001212 0E??               M         movlw   upper Fulls
001214 6EF8               M         movwf   TBLPTRU
001216 0E??               M         movlw   high Fulls
001218 6EF7               M         movwf   TBLPTRH
00121A 0E??               M         movlw   low Fulls
00121C 6EF6               M         movwf   TBLPTRL
00121E 0008               M         tblrd*
001220 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001222                    M         loop_   
001222 EC?? F???          M         call     WrtLCD
001226 000B               M         tblrd+*
001228 50F5               M         movf     TABLAT, W
00122A E1??               M         bnz     loop_
00122C EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
001230 0E??               M         movlw   upper Halfs
001232 6EF8               M         movwf   TBLPTRU
001234 0E??               M         movlw   high Halfs
001236 6EF7               M         movwf   TBLPTRH
001238 0E??               M         movlw   low Halfs
00123A 6EF6               M         movwf   TBLPTRL
00123C 0008               M         tblrd*
00123E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001240                    M         loop_   
001240 EC?? F???          M         call     WrtLCD
001244 000B               M         tblrd+*
001246 50F5               M         movf     TABLAT, W
001248 E1??               M         bnz     loop_
00124A EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
00124E 0E??               M         movlw   upper Emptys
001250 6EF8               M         movwf   TBLPTRU
001252 0E??               M         movlw   high Emptys
001254 6EF7               M         movwf   TBLPTRH
001256 0E??               M         movlw   low Emptys
001258 6EF6               M         movwf   TBLPTRL
00125A 0008               M         tblrd*
00125C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00125E                    M         loop_   
00125E EC?? F???          M         call     WrtLCD
001262 000B               M         tblrd+*
001264 50F5               M         movf     TABLAT, W
001266 E1??               M         bnz     loop_
001268                    M wend
                      01293          write      Location
  0000                    M         local   loop_
001268 0E??               M         movlw   upper Location
00126A 6EF8               M         movwf   TBLPTRU
00126C 0E??               M         movlw   high Location
00126E 6EF7               M         movwf   TBLPTRH
001270 0E??               M         movlw   low Location
001272 6EF6               M         movwf   TBLPTRL
001274 0008               M         tblrd*
001276 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001278                    M         loop_   
001278 EC?? F???          M         call     WrtLCD
00127C 000B               M         tblrd+*
00127E 50F5               M         movf     TABLAT, W
001280 E1??               M         bnz     loop_
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01294          sepdig     b4L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001282 0E00               M         movlw      b'0'
001284 6F82               M         movwf      dig12
001286 6E7C               M         movwf      dig2
001288 6E7D               M         movwf      dig3
                          M         
00128A 51AC               M         movf       b4L, W
00128C 6F86               M         movwf      tot
00128E 0E63               M loop3   movlw      d'99'
001290 6586               M         cpfsgt     tot
001292 EF?? F???          M         goto       loop2
001296 2B82               M         incf       dig12
001298 5F86               M         subwf      tot, f
00129A 0786               M         decf       tot, f
00129C EF?? F???          M         goto       loop3
0012A0 0E09               M loop2   movlw      d'9'
0012A2 6586               M         cpfsgt     tot
0012A4 EF?? F???          M         goto       loop1
0012A8 2A7C               M         incf       dig2
0012AA 5F86               M         subwf      tot, f
0012AC 0786               M         decf       tot, f
0012AE EF?? F???          M         goto       loop2
0012B2 0E00               M loop1   movlw      d'0'
0012B4 6586               M         cpfsgt     tot
0012B6 EF?? F???          M         goto       fin
0012BA 2A7D               M         incf       dig3
0012BC 5F86               M         subwf      tot, f
0012BE 0786               M         decf       tot, f
0012C0 EF?? F???          M         goto       loop1
0012C4                    M fin     
0012C4 EC?? F???      01295          call       WrtNum
0012C8 EC?? F???      01296          call       keywait
0012CC EC?? F???      01297          call       ClrLCD
                      01298          write      Hob
  0000                    M         local   loop_
0012D0 0E??               M         movlw   upper Hob
0012D2 6EF8               M         movwf   TBLPTRU
0012D4 0E??               M         movlw   high Hob
0012D6 6EF7               M         movwf   TBLPTRH
0012D8 0E??               M         movlw   low Hob
0012DA 6EF6               M         movwf   TBLPTRL
0012DC 0008               M         tblrd*
0012DE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0012E0                    M         loop_   
0012E0 EC?? F???          M         call     WrtLCD
0012E4 000B               M         tblrd+*
0012E6 50F5               M         movf     TABLAT, W
0012E8 E1??               M         bnz     loop_
0012EA A7BD           01299          btfss      bheight, 3
                      01300          write      fshort
  0000                    M         local   loop_
0012EC 0E??               M         movlw   upper fshort
0012EE 6EF8               M         movwf   TBLPTRU
0012F0 0E??               M         movlw   high fshort
0012F2 6EF7               M         movwf   TBLPTRH
0012F4 0E??               M         movlw   low fshort
0012F6 6EF6               M         movwf   TBLPTRL
0012F8 0008               M         tblrd*
0012FA 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0012FC                    M         loop_   
0012FC EC?? F???          M         call     WrtLCD
001300 000B               M         tblrd+*
001302 50F5               M         movf     TABLAT, W
001304 E1??               M         bnz     loop_
001306 B7BD           01301          btfsc      bheight, 3
                      01302          write      ftall
  0000                    M         local   loop_
001308 0E??               M         movlw   upper ftall
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00130A 6EF8               M         movwf   TBLPTRU
00130C 0E??               M         movlw   high ftall
00130E 6EF7               M         movwf   TBLPTRH
001310 0E??               M         movlw   low ftall
001312 6EF6               M         movwf   TBLPTRL
001314 0008               M         tblrd*
001316 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001318                    M         loop_   
001318 EC?? F???          M         call     WrtLCD
00131C 000B               M         tblrd+*
00131E 50F5               M         movf     TABLAT, W
001320 E1??               M         bnz     loop_
001322 EC?? F???      01303          call       keywait
                      01304          
001326 A9A5           01305          btfss      currentB, 4
001328 EF?? F???      01306          goto       shend
00132C EC?? F???      01307          call      ClrLCD
                      01308          write      Barrel
  0000                    M         local   loop_
001330 0E??               M         movlw   upper Barrel
001332 6EF8               M         movwf   TBLPTRU
001334 0E??               M         movlw   high Barrel
001336 6EF7               M         movwf   TBLPTRH
001338 0E??               M         movlw   low Barrel
00133A 6EF6               M         movwf   TBLPTRL
00133C 0008               M         tblrd*
00133E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001340                    M         loop_   
001340 EC?? F???          M         call     WrtLCD
001344 000B               M         tblrd+*
001346 50F5               M         movf     TABLAT, W
001348 E1??               M         bnz     loop_
00134A 0E35           01309          movlw      "5"
00134C EC?? F???      01310          call       WrtLCD
                      01311          write      Fulls
  0000                    M         local   loop_
001350 0E??               M         movlw   upper Fulls
001352 6EF8               M         movwf   TBLPTRU
001354 0E??               M         movlw   high Fulls
001356 6EF7               M         movwf   TBLPTRH
001358 0E??               M         movlw   low Fulls
00135A 6EF6               M         movwf   TBLPTRL
00135C 0008               M         tblrd*
00135E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001360                    M         loop_   
001360 EC?? F???          M         call     WrtLCD
001364 000B               M         tblrd+*
001366 50F5               M         movf     TABLAT, W
001368 E1??               M         bnz     loop_
                      01312          dFull      b5Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
00136A B5AF               M         btfsc      b5Li,  2
00136C EF?? F???          M         goto        wfull
001370 B3AF               M         btfsc      b5Li,  1
001372 EF?? F???          M         goto       whalf
001376 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
00137A 0E??               M         movlw   upper Fulls
00137C 6EF8               M         movwf   TBLPTRU
00137E 0E??               M         movlw   high Fulls
001380 6EF7               M         movwf   TBLPTRH
001382 0E??               M         movlw   low Fulls
001384 6EF6               M         movwf   TBLPTRL
001386 0008               M         tblrd*
001388 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00138A                    M         loop_   
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00138A EC?? F???          M         call     WrtLCD
00138E 000B               M         tblrd+*
001390 50F5               M         movf     TABLAT, W
001392 E1??               M         bnz     loop_
001394 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
001398 0E??               M         movlw   upper Halfs
00139A 6EF8               M         movwf   TBLPTRU
00139C 0E??               M         movlw   high Halfs
00139E 6EF7               M         movwf   TBLPTRH
0013A0 0E??               M         movlw   low Halfs
0013A2 6EF6               M         movwf   TBLPTRL
0013A4 0008               M         tblrd*
0013A6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0013A8                    M         loop_   
0013A8 EC?? F???          M         call     WrtLCD
0013AC 000B               M         tblrd+*
0013AE 50F5               M         movf     TABLAT, W
0013B0 E1??               M         bnz     loop_
0013B2 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
0013B6 0E??               M         movlw   upper Emptys
0013B8 6EF8               M         movwf   TBLPTRU
0013BA 0E??               M         movlw   high Emptys
0013BC 6EF7               M         movwf   TBLPTRH
0013BE 0E??               M         movlw   low Emptys
0013C0 6EF6               M         movwf   TBLPTRL
0013C2 0008               M         tblrd*
0013C4 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0013C6                    M         loop_   
0013C6 EC?? F???          M         call     WrtLCD
0013CA 000B               M         tblrd+*
0013CC 50F5               M         movf     TABLAT, W
0013CE E1??               M         bnz     loop_
0013D0                    M wend
                      01313          write      Location
  0000                    M         local   loop_
0013D0 0E??               M         movlw   upper Location
0013D2 6EF8               M         movwf   TBLPTRU
0013D4 0E??               M         movlw   high Location
0013D6 6EF7               M         movwf   TBLPTRH
0013D8 0E??               M         movlw   low Location
0013DA 6EF6               M         movwf   TBLPTRL
0013DC 0008               M         tblrd*
0013DE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0013E0                    M         loop_   
0013E0 EC?? F???          M         call     WrtLCD
0013E4 000B               M         tblrd+*
0013E6 50F5               M         movf     TABLAT, W
0013E8 E1??               M         bnz     loop_
                      01314          sepdig     b5L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0013EA 0E00               M         movlw      b'0'
0013EC 6F82               M         movwf      dig12
0013EE 6E7C               M         movwf      dig2
0013F0 6E7D               M         movwf      dig3
                          M         
0013F2 51AE               M         movf       b5L, W
0013F4 6F86               M         movwf      tot
0013F6 0E63               M loop3   movlw      d'99'
0013F8 6586               M         cpfsgt     tot
0013FA EF?? F???          M         goto       loop2
0013FE 2B82               M         incf       dig12
001400 5F86               M         subwf      tot, f
001402 0786               M         decf       tot, f
001404 EF?? F???          M         goto       loop3
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001408 0E09               M loop2   movlw      d'9'
00140A 6586               M         cpfsgt     tot
00140C EF?? F???          M         goto       loop1
001410 2A7C               M         incf       dig2
001412 5F86               M         subwf      tot, f
001414 0786               M         decf       tot, f
001416 EF?? F???          M         goto       loop2
00141A 0E00               M loop1   movlw      d'0'
00141C 6586               M         cpfsgt     tot
00141E EF?? F???          M         goto       fin
001422 2A7D               M         incf       dig3
001424 5F86               M         subwf      tot, f
001426 0786               M         decf       tot, f
001428 EF?? F???          M         goto       loop1
00142C                    M fin     
00142C EC?? F???      01315          call       WrtNum
001430 EC?? F???      01316          call       keywait
001434 EC?? F???      01317          call       ClrLCD
                      01318          write      Hob
  0000                    M         local   loop_
001438 0E??               M         movlw   upper Hob
00143A 6EF8               M         movwf   TBLPTRU
00143C 0E??               M         movlw   high Hob
00143E 6EF7               M         movwf   TBLPTRH
001440 0E??               M         movlw   low Hob
001442 6EF6               M         movwf   TBLPTRL
001444 0008               M         tblrd*
001446 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001448                    M         loop_   
001448 EC?? F???          M         call     WrtLCD
00144C 000B               M         tblrd+*
00144E 50F5               M         movf     TABLAT, W
001450 E1??               M         bnz     loop_
001452 A9BD           01319          btfss      bheight, 4
                      01320          write      fshort
  0000                    M         local   loop_
001454 0E??               M         movlw   upper fshort
001456 6EF8               M         movwf   TBLPTRU
001458 0E??               M         movlw   high fshort
00145A 6EF7               M         movwf   TBLPTRH
00145C 0E??               M         movlw   low fshort
00145E 6EF6               M         movwf   TBLPTRL
001460 0008               M         tblrd*
001462 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001464                    M         loop_   
001464 EC?? F???          M         call     WrtLCD
001468 000B               M         tblrd+*
00146A 50F5               M         movf     TABLAT, W
00146C E1??               M         bnz     loop_
00146E B9BD           01321          btfsc      bheight, 4
                      01322          write      ftall
  0000                    M         local   loop_
001470 0E??               M         movlw   upper ftall
001472 6EF8               M         movwf   TBLPTRU
001474 0E??               M         movlw   high ftall
001476 6EF7               M         movwf   TBLPTRH
001478 0E??               M         movlw   low ftall
00147A 6EF6               M         movwf   TBLPTRL
00147C 0008               M         tblrd*
00147E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001480                    M         loop_   
001480 EC?? F???          M         call     WrtLCD
001484 000B               M         tblrd+*
001486 50F5               M         movf     TABLAT, W
001488 E1??               M         bnz     loop_
00148A EC?? F???      01323          call       keywait
                      01324          
00148E ABA5           01325          btfss      currentB, 5
001490 EF?? F???      01326          goto       shend
001494 EC?? F???      01327          call      ClrLCD
                      01328          write      Barrel
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local   loop_
001498 0E??               M         movlw   upper Barrel
00149A 6EF8               M         movwf   TBLPTRU
00149C 0E??               M         movlw   high Barrel
00149E 6EF7               M         movwf   TBLPTRH
0014A0 0E??               M         movlw   low Barrel
0014A2 6EF6               M         movwf   TBLPTRL
0014A4 0008               M         tblrd*
0014A6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0014A8                    M         loop_   
0014A8 EC?? F???          M         call     WrtLCD
0014AC 000B               M         tblrd+*
0014AE 50F5               M         movf     TABLAT, W
0014B0 E1??               M         bnz     loop_
0014B2 0E36           01329          movlw      "6"
0014B4 EC?? F???      01330          call       WrtLCD
                      01331          write      Fulls
  0000                    M         local   loop_
0014B8 0E??               M         movlw   upper Fulls
0014BA 6EF8               M         movwf   TBLPTRU
0014BC 0E??               M         movlw   high Fulls
0014BE 6EF7               M         movwf   TBLPTRH
0014C0 0E??               M         movlw   low Fulls
0014C2 6EF6               M         movwf   TBLPTRL
0014C4 0008               M         tblrd*
0014C6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0014C8                    M         loop_   
0014C8 EC?? F???          M         call     WrtLCD
0014CC 000B               M         tblrd+*
0014CE 50F5               M         movf     TABLAT, W
0014D0 E1??               M         bnz     loop_
                      01332          dFull      b6Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
0014D2 B5B1               M         btfsc      b6Li,  2
0014D4 EF?? F???          M         goto        wfull
0014D8 B3B1               M         btfsc      b6Li,  1
0014DA EF?? F???          M         goto       whalf
0014DE EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
0014E2 0E??               M         movlw   upper Fulls
0014E4 6EF8               M         movwf   TBLPTRU
0014E6 0E??               M         movlw   high Fulls
0014E8 6EF7               M         movwf   TBLPTRH
0014EA 0E??               M         movlw   low Fulls
0014EC 6EF6               M         movwf   TBLPTRL
0014EE 0008               M         tblrd*
0014F0 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0014F2                    M         loop_   
0014F2 EC?? F???          M         call     WrtLCD
0014F6 000B               M         tblrd+*
0014F8 50F5               M         movf     TABLAT, W
0014FA E1??               M         bnz     loop_
0014FC EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
001500 0E??               M         movlw   upper Halfs
001502 6EF8               M         movwf   TBLPTRU
001504 0E??               M         movlw   high Halfs
001506 6EF7               M         movwf   TBLPTRH
001508 0E??               M         movlw   low Halfs
00150A 6EF6               M         movwf   TBLPTRL
00150C 0008               M         tblrd*
00150E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001510                    M         loop_   
001510 EC?? F???          M         call     WrtLCD
001514 000B               M         tblrd+*
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001516 50F5               M         movf     TABLAT, W
001518 E1??               M         bnz     loop_
00151A EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
00151E 0E??               M         movlw   upper Emptys
001520 6EF8               M         movwf   TBLPTRU
001522 0E??               M         movlw   high Emptys
001524 6EF7               M         movwf   TBLPTRH
001526 0E??               M         movlw   low Emptys
001528 6EF6               M         movwf   TBLPTRL
00152A 0008               M         tblrd*
00152C 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00152E                    M         loop_   
00152E EC?? F???          M         call     WrtLCD
001532 000B               M         tblrd+*
001534 50F5               M         movf     TABLAT, W
001536 E1??               M         bnz     loop_
001538                    M wend
                      01333          write      Location
  0000                    M         local   loop_
001538 0E??               M         movlw   upper Location
00153A 6EF8               M         movwf   TBLPTRU
00153C 0E??               M         movlw   high Location
00153E 6EF7               M         movwf   TBLPTRH
001540 0E??               M         movlw   low Location
001542 6EF6               M         movwf   TBLPTRL
001544 0008               M         tblrd*
001546 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001548                    M         loop_   
001548 EC?? F???          M         call     WrtLCD
00154C 000B               M         tblrd+*
00154E 50F5               M         movf     TABLAT, W
001550 E1??               M         bnz     loop_
                      01334          sepdig     b6L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001552 0E00               M         movlw      b'0'
001554 6F82               M         movwf      dig12
001556 6E7C               M         movwf      dig2
001558 6E7D               M         movwf      dig3
                          M         
00155A 51B0               M         movf       b6L, W
00155C 6F86               M         movwf      tot
00155E 0E63               M loop3   movlw      d'99'
001560 6586               M         cpfsgt     tot
001562 EF?? F???          M         goto       loop2
001566 2B82               M         incf       dig12
001568 5F86               M         subwf      tot, f
00156A 0786               M         decf       tot, f
00156C EF?? F???          M         goto       loop3
001570 0E09               M loop2   movlw      d'9'
001572 6586               M         cpfsgt     tot
001574 EF?? F???          M         goto       loop1
001578 2A7C               M         incf       dig2
00157A 5F86               M         subwf      tot, f
00157C 0786               M         decf       tot, f
00157E EF?? F???          M         goto       loop2
001582 0E00               M loop1   movlw      d'0'
001584 6586               M         cpfsgt     tot
001586 EF?? F???          M         goto       fin
00158A 2A7D               M         incf       dig3
00158C 5F86               M         subwf      tot, f
00158E 0786               M         decf       tot, f
001590 EF?? F???          M         goto       loop1
001594                    M fin     
001594 EC?? F???      01335          call       WrtNum
001598 EC?? F???      01336          call       keywait
00159C EC?? F???      01337          call       ClrLCD
                      01338          write      Hob
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local   loop_
0015A0 0E??               M         movlw   upper Hob
0015A2 6EF8               M         movwf   TBLPTRU
0015A4 0E??               M         movlw   high Hob
0015A6 6EF7               M         movwf   TBLPTRH
0015A8 0E??               M         movlw   low Hob
0015AA 6EF6               M         movwf   TBLPTRL
0015AC 0008               M         tblrd*
0015AE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0015B0                    M         loop_   
0015B0 EC?? F???          M         call     WrtLCD
0015B4 000B               M         tblrd+*
0015B6 50F5               M         movf     TABLAT, W
0015B8 E1??               M         bnz     loop_
0015BA ABBD           01339          btfss      bheight, 5
                      01340          write      fshort
  0000                    M         local   loop_
0015BC 0E??               M         movlw   upper fshort
0015BE 6EF8               M         movwf   TBLPTRU
0015C0 0E??               M         movlw   high fshort
0015C2 6EF7               M         movwf   TBLPTRH
0015C4 0E??               M         movlw   low fshort
0015C6 6EF6               M         movwf   TBLPTRL
0015C8 0008               M         tblrd*
0015CA 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0015CC                    M         loop_   
0015CC EC?? F???          M         call     WrtLCD
0015D0 000B               M         tblrd+*
0015D2 50F5               M         movf     TABLAT, W
0015D4 E1??               M         bnz     loop_
0015D6 BBBD           01341          btfsc      bheight, 5
                      01342          write      ftall
  0000                    M         local   loop_
0015D8 0E??               M         movlw   upper ftall
0015DA 6EF8               M         movwf   TBLPTRU
0015DC 0E??               M         movlw   high ftall
0015DE 6EF7               M         movwf   TBLPTRH
0015E0 0E??               M         movlw   low ftall
0015E2 6EF6               M         movwf   TBLPTRL
0015E4 0008               M         tblrd*
0015E6 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0015E8                    M         loop_   
0015E8 EC?? F???          M         call     WrtLCD
0015EC 000B               M         tblrd+*
0015EE 50F5               M         movf     TABLAT, W
0015F0 E1??               M         bnz     loop_
0015F2 EC?? F???      01343          call       keywait
                      01344          
0015F6 ADA5           01345          btfss      currentB, 6
0015F8 EF?? F???      01346          goto       shend
0015FC EC?? F???      01347          call      ClrLCD
                      01348          write      Barrel
  0000                    M         local   loop_
001600 0E??               M         movlw   upper Barrel
001602 6EF8               M         movwf   TBLPTRU
001604 0E??               M         movlw   high Barrel
001606 6EF7               M         movwf   TBLPTRH
001608 0E??               M         movlw   low Barrel
00160A 6EF6               M         movwf   TBLPTRL
00160C 0008               M         tblrd*
00160E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001610                    M         loop_   
001610 EC?? F???          M         call     WrtLCD
001614 000B               M         tblrd+*
001616 50F5               M         movf     TABLAT, W
001618 E1??               M         bnz     loop_
00161A 0E37           01349          movlw      "7"
00161C EC?? F???      01350          call       WrtLCD
                      01351          write      Fulls
  0000                    M         local   loop_
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001620 0E??               M         movlw   upper Fulls
001622 6EF8               M         movwf   TBLPTRU
001624 0E??               M         movlw   high Fulls
001626 6EF7               M         movwf   TBLPTRH
001628 0E??               M         movlw   low Fulls
00162A 6EF6               M         movwf   TBLPTRL
00162C 0008               M         tblrd*
00162E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001630                    M         loop_   
001630 EC?? F???          M         call     WrtLCD
001634 000B               M         tblrd+*
001636 50F5               M         movf     TABLAT, W
001638 E1??               M         bnz     loop_
                      01352          dFull      b7Li
  0000                    M         local      wfull
  0000                    M         local      whalf
  0000                    M         local      wempty
  0000                    M         local      wend
00163A B5B3               M         btfsc      b7Li,  2
00163C EF?? F???          M         goto        wfull
001640 B3B3               M         btfsc      b7Li,  1
001642 EF?? F???          M         goto       whalf
001646 EF?? F???          M         goto       wempty
                          M wfull   write      Fulls
  0000                    M         local   loop_
00164A 0E??               M         movlw   upper Fulls
00164C 6EF8               M         movwf   TBLPTRU
00164E 0E??               M         movlw   high Fulls
001650 6EF7               M         movwf   TBLPTRH
001652 0E??               M         movlw   low Fulls
001654 6EF6               M         movwf   TBLPTRL
001656 0008               M         tblrd*
001658 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
00165A                    M         loop_   
00165A EC?? F???          M         call     WrtLCD
00165E 000B               M         tblrd+*
001660 50F5               M         movf     TABLAT, W
001662 E1??               M         bnz     loop_
001664 EF?? F???          M         goto       wend
                          M whalf   write      Halfs
  0000                    M         local   loop_
001668 0E??               M         movlw   upper Halfs
00166A 6EF8               M         movwf   TBLPTRU
00166C 0E??               M         movlw   high Halfs
00166E 6EF7               M         movwf   TBLPTRH
001670 0E??               M         movlw   low Halfs
001672 6EF6               M         movwf   TBLPTRL
001674 0008               M         tblrd*
001676 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001678                    M         loop_   
001678 EC?? F???          M         call     WrtLCD
00167C 000B               M         tblrd+*
00167E 50F5               M         movf     TABLAT, W
001680 E1??               M         bnz     loop_
001682 EF?? F???          M         goto       wend
                          M wempty  write      Emptys       
  0000                    M         local   loop_
001686 0E??               M         movlw   upper Emptys
001688 6EF8               M         movwf   TBLPTRU
00168A 0E??               M         movlw   high Emptys
00168C 6EF7               M         movwf   TBLPTRH
00168E 0E??               M         movlw   low Emptys
001690 6EF6               M         movwf   TBLPTRL
001692 0008               M         tblrd*
001694 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001696                    M         loop_   
001696 EC?? F???          M         call     WrtLCD
00169A 000B               M         tblrd+*
00169C 50F5               M         movf     TABLAT, W
00169E E1??               M         bnz     loop_
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0016A0                    M wend
                      01353          write      Location
  0000                    M         local   loop_
0016A0 0E??               M         movlw   upper Location
0016A2 6EF8               M         movwf   TBLPTRU
0016A4 0E??               M         movlw   high Location
0016A6 6EF7               M         movwf   TBLPTRH
0016A8 0E??               M         movlw   low Location
0016AA 6EF6               M         movwf   TBLPTRL
0016AC 0008               M         tblrd*
0016AE 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
0016B0                    M         loop_   
0016B0 EC?? F???          M         call     WrtLCD
0016B4 000B               M         tblrd+*
0016B6 50F5               M         movf     TABLAT, W
0016B8 E1??               M         bnz     loop_
                      01354          sepdig     b7L  
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0016BA 0E00               M         movlw      b'0'
0016BC 6F82               M         movwf      dig12
0016BE 6E7C               M         movwf      dig2
0016C0 6E7D               M         movwf      dig3
                          M         
0016C2 51B2               M         movf       b7L, W
0016C4 6F86               M         movwf      tot
0016C6 0E63               M loop3   movlw      d'99'
0016C8 6586               M         cpfsgt     tot
0016CA EF?? F???          M         goto       loop2
0016CE 2B82               M         incf       dig12
0016D0 5F86               M         subwf      tot, f
0016D2 0786               M         decf       tot, f
0016D4 EF?? F???          M         goto       loop3
0016D8 0E09               M loop2   movlw      d'9'
0016DA 6586               M         cpfsgt     tot
0016DC EF?? F???          M         goto       loop1
0016E0 2A7C               M         incf       dig2
0016E2 5F86               M         subwf      tot, f
0016E4 0786               M         decf       tot, f
0016E6 EF?? F???          M         goto       loop2
0016EA 0E00               M loop1   movlw      d'0'
0016EC 6586               M         cpfsgt     tot
0016EE EF?? F???          M         goto       fin
0016F2 2A7D               M         incf       dig3
0016F4 5F86               M         subwf      tot, f
0016F6 0786               M         decf       tot, f
0016F8 EF?? F???          M         goto       loop1
0016FC                    M fin     
0016FC EC?? F???      01355          call       WrtNum
001700 EC?? F???      01356          call       keywait
001704 EC?? F???      01357          call       ClrLCD
                      01358          write      Hob
  0000                    M         local   loop_
001708 0E??               M         movlw   upper Hob
00170A 6EF8               M         movwf   TBLPTRU
00170C 0E??               M         movlw   high Hob
00170E 6EF7               M         movwf   TBLPTRH
001710 0E??               M         movlw   low Hob
001712 6EF6               M         movwf   TBLPTRL
001714 0008               M         tblrd*
001716 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001718                    M         loop_   
001718 EC?? F???          M         call     WrtLCD
00171C 000B               M         tblrd+*
00171E 50F5               M         movf     TABLAT, W
001720 E1??               M         bnz     loop_
001722 ADBD           01359          btfss      bheight, 6
                      01360          write      fshort
  0000                    M         local   loop_
001724 0E??               M         movlw   upper fshort
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001726 6EF8               M         movwf   TBLPTRU
001728 0E??               M         movlw   high fshort
00172A 6EF7               M         movwf   TBLPTRH
00172C 0E??               M         movlw   low fshort
00172E 6EF6               M         movwf   TBLPTRL
001730 0008               M         tblrd*
001732 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001734                    M         loop_   
001734 EC?? F???          M         call     WrtLCD
001738 000B               M         tblrd+*
00173A 50F5               M         movf     TABLAT, W
00173C E1??               M         bnz     loop_
00173E BDBD           01361          btfsc      bheight, 6
                      01362          write      ftall
  0000                    M         local   loop_
001740 0E??               M         movlw   upper ftall
001742 6EF8               M         movwf   TBLPTRU
001744 0E??               M         movlw   high ftall
001746 6EF7               M         movwf   TBLPTRH
001748 0E??               M         movlw   low ftall
00174A 6EF6               M         movwf   TBLPTRL
00174C 0008               M         tblrd*
00174E 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001750                    M         loop_   
001750 EC?? F???          M         call     WrtLCD
001754 000B               M         tblrd+*
001756 50F5               M         movf     TABLAT, W
001758 E1??               M         bnz     loop_
00175A EC?? F???      01363          call       keywait
00175E EF?? F???      01364          goto       finish
001762 EC?? F???      01365 shend    call       ClrLCD
                      01366          write      Nob
  0000                    M         local   loop_
001766 0E??               M         movlw   upper Nob
001768 6EF8               M         movwf   TBLPTRU
00176A 0E??               M         movlw   high Nob
00176C 6EF7               M         movwf   TBLPTRH
00176E 0E??               M         movlw   low Nob
001770 6EF6               M         movwf   TBLPTRL
001772 0008               M         tblrd*
001774 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001776                    M         loop_   
001776 EC?? F???          M         call     WrtLCD
00177A 000B               M         tblrd+*
00177C 50F5               M         movf     TABLAT, W
00177E E1??               M         bnz     loop_
001780 EC?? F???      01367          call       keywait
001784 EF?? F???      01368          goto       finish
                      01369         
                      01370 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Interrupts;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01371          
001788 6AF1           01372 setints  clrf      INTCON2
00178A 6AF0           01373          clrf      INTCON3
00178C 9ED0           01374          bcf       RCON, 7        ;no priority interrupts*
00178E 8CF2           01375          bsf       INTCON, 6
001790 8EF2           01376          bsf       INTCON, 7
001792 6A9E           01377          clrf      PIR1
001794 6AA1           01378          clrf      PIR2
001796 88F2           01379          bsf       INTCON, 4
001798 88F0           01380          bsf       INTCON3, 4
00179A 8CF1           01381          bsf       INTCON2, 6
00179C 88F1           01382          bsf       INTCON2, 4
00179E 0012           01383          return
0017A0                01384 show_gyro
                      01385          
                      01386                 
                      01387                 gyro_read    0x29
                          M         
0017A0 0E29               M         movlw   0x29
0017A2 6E73               M         movwf   ADD
0017A4 EC?? F???          M         call    read_gyro
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M         ;sepdig DOUT
                          M         ;call   WrtNum
0017A8 C075 F0BB      01388                 movff   DOUT, gyrox
                      01389                 ;sepdig gyrox
                      01390                 ;call   WrtNum
                      01391                 ;bcf    gyrox, 7
                      01392                 ;bcf    gyrox, 6
                      01393                 ;rlncf  gyrox
                      01394                 ;rlncf  gyrox
                      01395                 
                      01396                 ;gyro_read    0x28
                      01397                 ;btfsc      DOUT, 7
                      01398                 ;bsf        gyrox, 1
                      01399                 ;btfsc      DOUT, 6
                      01400                 ;bsf        gyrox, 0
                      01401                 
                      01402                 ;call       ClrLCD
                      01403                 ;movlw      "X"
                      01404                 ;call       WR_DATA
                      01405                 ;movlw      ":"
                      01406                 ;call       WR_DATA
                      01407                 ;sepdig     gyrox
                      01408                 ;call       WrtNum
                      01409                 
0017AC 0012           01410                 return
0017AE                01411 show_MG
                      01412         
0017AE EC?? F???      01413                 call    ClrLCD
0017B2 0E4D           01414                 movlw   "M"
0017B4 EC?? F???      01415                 call    WR_DATA
0017B8 0E20           01416                 movlw   " "
0017BA EC?? F???      01417                 call    WR_DATA
                      01418                 mg_read    0x07
                          M                 
0017BE 0E07               M         movlw   0x07
0017C0 6E73               M         movwf   ADD
0017C2 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
0017C6 0E00               M         movlw      b'0'
0017C8 6F82               M         movwf      dig12
0017CA 6E7C               M         movwf      dig2
0017CC 6E7D               M         movwf      dig3
                          M         
0017CE 5075               M         movf       DOUT, W
0017D0 6F86               M         movwf      tot
0017D2 0E63               M loop3   movlw      d'99'
0017D4 6586               M         cpfsgt     tot
0017D6 EF?? F???          M         goto       loop2
0017DA 2B82               M         incf       dig12
0017DC 5F86               M         subwf      tot, f
0017DE 0786               M         decf       tot, f
0017E0 EF?? F???          M         goto       loop3
0017E4 0E09               M loop2   movlw      d'9'
0017E6 6586               M         cpfsgt     tot
0017E8 EF?? F???          M         goto       loop1
0017EC 2A7C               M         incf       dig2
0017EE 5F86               M         subwf      tot, f
0017F0 0786               M         decf       tot, f
0017F2 EF?? F???          M         goto       loop2
0017F6 0E00               M loop1   movlw      d'0'
0017F8 6586               M         cpfsgt     tot
0017FA EF?? F???          M         goto       fin
0017FE 2A7D               M         incf       dig3
001800 5F86               M         subwf      tot, f
001802 0786               M         decf       tot, f
001804 EF?? F???          M         goto       loop1
001808                    M fin     
001808 EC?? F???          M         call    WrtNum
                      01419                 
00180C 0E20           01420                 movlw   " "
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00180E EC?? F???      01421                 call    WR_DATA
001812 0E4C           01422                 movlw   "L"
001814 EC?? F???      01423                 call    WR_DATA
001818 0E20           01424                 movlw   " "
00181A EC?? F???      01425                 call    WR_DATA
                      01426                 
                      01427                 mg_read    0x08
                          M                 
00181E 0E08               M         movlw   0x08
001820 6E73               M         movwf   ADD
001822 EC?? F???          M         call    read_mg
                          M         sepdig  DOUT
  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001826 0E00               M         movlw      b'0'
001828 6F82               M         movwf      dig12
00182A 6E7C               M         movwf      dig2
00182C 6E7D               M         movwf      dig3
                          M         
00182E 5075               M         movf       DOUT, W
001830 6F86               M         movwf      tot
001832 0E63               M loop3   movlw      d'99'
001834 6586               M         cpfsgt     tot
001836 EF?? F???          M         goto       loop2
00183A 2B82               M         incf       dig12
00183C 5F86               M         subwf      tot, f
00183E 0786               M         decf       tot, f
001840 EF?? F???          M         goto       loop3
001844 0E09               M loop2   movlw      d'9'
001846 6586               M         cpfsgt     tot
001848 EF?? F???          M         goto       loop1
00184C 2A7C               M         incf       dig2
00184E 5F86               M         subwf      tot, f
001850 0786               M         decf       tot, f
001852 EF?? F???          M         goto       loop2
001856 0E00               M loop1   movlw      d'0'
001858 6586               M         cpfsgt     tot
00185A EF?? F???          M         goto       fin
00185E 2A7D               M         incf       dig3
001860 5F86               M         subwf      tot, f
001862 0786               M         decf       tot, f
001864 EF?? F???          M         goto       loop1
001868                    M fin     
001868 EC?? F???          M         call    WrtNum
                      01428                 
                      01429                 
                      01430                 
                      01431                 
                      01432                 
00186C 0012           01433                 return
00186E                01434 show_RTC
                      01435                 ;clear LCD screen
                      01436                 ;movlw  b'00000001'
                      01437                 ;call   WR_INS
00186E EC?? F???      01438                 call    ClrLCD
                      01439                 ;write  YES
                      01440                 ;Get year
001872 0E32           01441                 movlw   "2"                             ;First line shows 20**/**/**
001874 EC?? F???      01442                 call    WrtLCD
001878 0E30           01443                 movlw   "0"
00187A EC?? F???      01444                 call    WrtLCD
                      01445                 ;write  YES
                      01446                 rtc_read        0x06            ;Read Address 0x06 from DS1307---year
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
00187E 0E06               M         movlw   0x06
                          M 
001880 6E73               M         movwf   ADD
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001882 EC?? F???          M         call    read_rtc
                          M 
001886 5075               M         movf    DOUT,w
001888 EC?? F???          M         call    rtc_convert   
                      01447                 
                      01448                 
00188C 5077           01449                 movf    dig10, W
00188E EC?? F???      01450                 call    WrtLCD
001892 5078           01451                 movf    dig1, W
001894 EC?? F???      01452                 call    WrtLCD
                      01453 
001898 0E2F           01454                 movlw   "/"
00189A EC?? F???      01455                 call    WrtLCD
                      01456 
                      01457                 ;Get month
                      01458                 rtc_read        0x05            ;Read Address 0x05 from DS1307---month
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
00189E 0E05               M         movlw   0x05
                          M 
0018A0 6E73               M         movwf   ADD
0018A2 EC?? F???          M         call    read_rtc
                          M 
0018A6 5075               M         movf    DOUT,w
0018A8 EC?? F???          M         call    rtc_convert   
0018AC 5077           01459                 movf    dig10, W
0018AE EC?? F???      01460                 call    WrtLCD
0018B2 5078           01461                 movf    dig1, W
0018B4 EC?? F???      01462                 call    WrtLCD
                      01463 
0018B8 0E2F           01464                 movlw   "/"
0018BA EC?? F???      01465                 call    WrtLCD
                      01466 
                      01467                 ;Get day
                      01468                 rtc_read        0x04            ;Read Address 0x04 from DS1307---day
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
0018BE 0E04               M         movlw   0x04
                          M 
0018C0 6E73               M         movwf   ADD
0018C2 EC?? F???          M         call    read_rtc
                          M 
0018C6 5075               M         movf    DOUT,w
0018C8 EC?? F???          M         call    rtc_convert   
0018CC 5077           01469                 movf    dig10, W
0018CE EC?? F???      01470                 call    WR_DATA
0018D2 5078           01471                 movf    dig1, W
0018D4 EC?? F???      01472                 call    WR_DATA
                      01473 
0018D8 0EC0           01474                 movlw   B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
0018DA EC?? F???      01475                 call    WR_INS
                      01476 
                      01477                 ;Get hour
                      01478                 rtc_read        0x02            ;Read Address 0x02 from DS1307---hour
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
0018DE 0E02               M         movlw   0x02
                          M 
0018E0 6E73               M         movwf   ADD
0018E2 EC?? F???          M         call    read_rtc
                          M 
0018E6 5075               M         movf    DOUT,w
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0018E8 EC?? F???          M         call    rtc_convert   
0018EC 5077           01479                 movf    dig10, W
0018EE EC?? F???      01480                 call    WR_DATA
0018F2 5078           01481                 movf    dig1, W
0018F4 EC?? F???      01482                 call    WR_DATA
0018F8 0E3A           01483                 movlw                   ":"
0018FA EC?? F???      01484                 call    WR_DATA
0018FE                01485 fgetoptime
0018FE 0EC0           01486                 movlw   B'11000000'             ;Next line displays (hour):(min):(sec) **:**:**
001900 EC?? F???      01487                 call    WR_INS
                      01488                 ;Get minute             
                      01489                 rtc_read        0x01            ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
001904 0E01               M         movlw   0x01
                          M 
001906 6E73               M         movwf   ADD
001908 EC?? F???          M         call    read_rtc
                          M 
00190C 5075               M         movf    DOUT,w
00190E EC?? F???          M         call    rtc_convert   
001912 5077           01490                 movf    dig10, W
001914 EC?? F???      01491                 call    WR_DATA
001918 5078           01492                 movf    dig1, W
00191A EC?? F???      01493                 call    WR_DATA         
00191E 0E3A           01494                 movlw                   ":"
001920 EC?? F???      01495                 call    WR_DATA
                      01496                 
                      01497                 ;Get seconds
                      01498                 rtc_read        0x00            ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        DOUT, dig10, dig1
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into DOUT. DOUT is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       dig10 and the ones digit is placed in dig1
001924 0E00               M         movlw   0x00
                          M 
001926 6E73               M         movwf   ADD
001928 EC?? F???          M         call    read_rtc
                          M 
00192C 5075               M         movf    DOUT,w
00192E EC?? F???          M         call    rtc_convert   
001932 5077           01499                 movf    dig10, W
001934 EC?? F???      01500                 call    WR_DATA
001938 5078           01501                 movf    dig1, W
00193A EC?? F???      01502                 call    WR_DATA
                      01503                 
                      01504                 ;call   OneS                    ;Delay for exactly one seconds and read DS1307 again
                      01505                 
00193E 0012           01506                 return
                      01507 
                      01508 ;***************************************
                      01509 ; Setup RTC with time defined by user
                      01510 ;***************************************
001940                01511 set_rtc_time
                      01512 
                      01513                 rtc_resetAll    ;reset rtc
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          Resets all the time keeping registers on the RTC to zero
                          M 
001940 6A74               M         clrf            0x74
001942 6A73               M         clrf            ADD
001944 EC?? F???          M     call        write_rtc       
001948 2A73               M     incf        ADD                     ;Set register address to 1
00194A EC?? F???          M         call            write_rtc
00194E 2A73               M     incf        ADD                     ;Set register address to 2
001950 EC?? F???          M         call            write_rtc
001954 2A73               M     incf        ADD                     ;Set register address to 3
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001956 EC?? F???          M         call            write_rtc
00195A 2A73               M     incf        ADD                     ;Set register address to 4
00195C EC?? F???          M         call            write_rtc
001960 2A73               M     incf        ADD                     ;Set register address to 5
001962 EC?? F???          M         call            write_rtc
001966 2A73               M     incf        ADD                     ;Set register address to 6
001968 EC?? F???          M         call            write_rtc
                      01514 
                      01515                 rtc_set 0x00,   B'10000000'
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
00196C 0E00               M         movlw   0x00
00196E 6E73               M         movwf   ADD
                          M 
001970 0E80               M         movlw   B'10000000'
001972 6E74               M         movwf   DAT     
001974 EC?? F???          M         call    write_rtc
                      01516 
                      01517                 ;set time 
                      01518                 rtc_set 0x06,   B'00010110'             ; Year
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001978 0E06               M         movlw   0x06
00197A 6E73               M         movwf   ADD
                          M 
00197C 0E16               M         movlw   B'00010110'
00197E 6E74               M         movwf   DAT     
001980 EC?? F???          M         call    write_rtc
                      01519                 rtc_set 0x05,   B'00000011'             ; Month
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001984 0E05               M         movlw   0x05
001986 6E73               M         movwf   ADD
                          M 
001988 0E03               M         movlw   B'00000011'
00198A 6E74               M         movwf   DAT     
00198C EC?? F???          M         call    write_rtc
                      01520                 rtc_set 0x04,   B'00000110'             ; Date
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
001990 0E04               M         movlw   0x04
001992 6E73               M         movwf   ADD
                          M 
001994 0E06               M         movlw   B'00000110'
001996 6E74               M         movwf   DAT     
001998 EC?? F???          M         call    write_rtc
                      01521                 rtc_set 0x03,   B'00000010'             ; Day
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
00199C 0E03               M         movlw   0x03
00199E 6E73               M         movwf   ADD
                          M 
0019A0 0E02               M         movlw   B'00000010'
0019A2 6E74               M         movwf   DAT     
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0019A4 EC?? F???          M         call    write_rtc
                      01522                 rtc_set 0x02,   B'00000001'             ; Hours
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
0019A8 0E02               M         movlw   0x02
0019AA 6E73               M         movwf   ADD
                          M 
0019AC 0E01               M         movlw   B'00000001'
0019AE 6E74               M         movwf   DAT     
0019B0 EC?? F???          M         call    write_rtc
                      01523                 rtc_set 0x01,   B'00000100'             ; Minutes
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
0019B4 0E01               M         movlw   0x01
0019B6 6E73               M         movwf   ADD
                          M 
0019B8 0E04               M         movlw   B'00000100'
0019BA 6E74               M         movwf   DAT     
0019BC EC?? F???          M         call    write_rtc
                      01524                 rtc_set 0x00,   B'00000100'             ; Seconds
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
                          M 
0019C0 0E00               M         movlw   0x00
0019C2 6E73               M         movwf   ADD
                          M 
0019C4 0E04               M         movlw   B'00000100'
0019C6 6E74               M         movwf   DAT     
0019C8 EC?? F???          M         call    write_rtc
                      01525         
0019CC 0012           01526                 return
                      01527 
                      01528 
                      01529 ;***************************************
                      01530 ; Delay 1s
                      01531 ;***************************************
0019CE                01532 OneS
  0000                01533       local     OneS_0
0019CE 0E10           01534       movlw 0x10
0019D0 6E??           01535       movwf COUNTH
0019D2 0E7A           01536       movlw 0x7A
0019D4 6E??           01537       movwf COUNTM
0019D6 0E06           01538       movlw 0x06
0019D8 6E??           01539       movwf COUNTL
                      01540 
0019DA                01541 OneS_0
0019DA 2E??           01542       decfsz COUNTH, f
0019DC EF?? F???      01543       goto   l8
0019E0 2E??           01544       decfsz COUNTM, f
Warning[207]: Found label after column 1. (l8)
0019E2 EF?? F???      01545  l8     goto   l9
0019E6 2E??           01546       decfsz COUNTL, f
0019E8 EF?? F???      01547 l9      goto   OneS_0
                      01548 
0019EC EF?? F???      01549       goto l10
0019F0 0000           01550 l10     nop
0019F2 0000           01551       nop
0019F4 0012           01552                 return
                      01553 
                      01554 
                      01555 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Counter;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0019F6                01556 count_module
0019F6 0EFF           01557          movlw      b'11111111'
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0019F8 6E94           01558          movwf      TRISC       
0019FA 0E00           01559          movlw      b'00000000'
0019FC 6E8B           01560          movwf      LATC
0019FE                01561 cwait    
0019FE EC?? F???      01562          call       sdelay
001A02 EF?? F???      01563          goto       cwait
001A06 808B           01564          bsf        LATC, 0
001A08 EC?? F???      01565          call       sdelay
001A0C 908B           01566          bcf        LATC, 0
001A0E EC?? F???      01567          call       sdelay
001A12 EF?? F???      01568          goto       cwait
                      01569 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Light Sensor;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
001A16                01570 LS_module
001A16 0EF0           01571          movlw      b'11110000'
001A18 6E94           01572          movwf      TRISC
001A1A 0E00           01573          movlw      b'00000000'
001A1C 6E8B           01574          movwf      LATC
001A1E 5082           01575 LSloop   movf       PORTC, W
001A20 46E8           01576          rlncf      WREG, f
001A22 6E8B           01577          movwf      LATC
001A24 EF?? F???      01578          goto       LSloop
                      01579 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PWM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
001A28                01580 PWM_module
001A28                01581 PWMinit
001A28 9294           01582          bcf        TRISC, 1
001A2A 9494           01583          bcf        TRISC, 2
001A2C 828B           01584          bsf        LATC, 1
001A2E 0E63           01585          movlw      d'99'
001A30 6ECB           01586          movwf      PR2
                      01587          ;movff     pwm, WREG
001A32 0E62           01588          movlw      d'98'
001A34 6EBE           01589          movwf      CCPR1L
001A36 6EBB           01590          movwf      CCPR2L
001A38 0E3C           01591          movlw      b'00111100'
001A3A 6EBD           01592          movwf      CCP1CON
001A3C 6EBA           01593          movwf      CCP2CON
001A3E 0E04           01594          movlw      b'00000100'
001A40 6ECA           01595          movwf      T2CON
001A42 0E64           01596          movlw      d'100'
001A44 0012           01597          return
001A46 EF?? F???      01598 pwmwait goto        pwmwait
001A4A                01599 test50100
001A4A EC?? F???      01600          call       sdelay
001A4E EC?? F???      01601          call       sdelay
001A52 EC?? F???      01602          call       sdelay
001A56 EC?? F???      01603          call       sdelay
001A5A EC?? F???      01604          call       sdelay
001A5E EC?? F???      01605          call       sdelay
001A62 0E64           01606          movlw      d'100'
001A64 CFE8 FFBB      01607          movff      WREG, CCPR2L
001A68 CFE8 FFBE      01608          movff      WREG, CCPR1L
001A6C EC?? F???      01609          call       sdelay
001A70 EC?? F???      01610          call       sdelay
001A74 EC?? F???      01611          call       sdelay
001A78 EC?? F???      01612          call       sdelay
001A7C EC?? F???      01613          call       sdelay
001A80 EC?? F???      01614          call       sdelay
001A84 0E1E           01615          movlw      d'30'
001A86 CFE8 FFBB      01616          movff      WREG, CCPR2L
001A8A CFE8 FFBE      01617          movff      WREG, CCPR1L
001A8E EF?? F???      01618          goto       test50100
001A92                01619 setPWM  
001A92 C0B6 FFBE      01620          movff      pwmL, CCPR1L
001A96 C0B7 FFBB      01621          movff      pwmR, CCPR2L
001A9A 0012           01622          return
001A9C                01623 DirectionC
001A9C 908B           01624          bcf        LATC, 0
001A9E 928B           01625          bcf        LATC, 1
001AA0 EC?? F???      01626          call       sdelay
001AA4 EC?? F???      01627          call       sdelay
001AA8 EC?? F???      01628          call       sdelay
001AAC EC?? F???      01629          call       sdelay
001AB0 EC?? F???      01630          call       sdelay
001AB4 EC?? F???      01631          call       sdelay
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001AB8 828B           01632          bsf        LATC, 1
001ABA EC?? F???      01633          call       test50100
001ABE EC?? F???      01634          call       sdelay
001AC2 EC?? F???      01635          call       sdelay
001AC6 EC?? F???      01636          call       sdelay
001ACA EC?? F???      01637          call       sdelay
001ACE EC?? F???      01638          call       sdelay
001AD2 EC?? F???      01639          call       sdelay
001AD6 928B           01640          bcf        LATC, 1
001AD8 EC?? F???      01641          call       sdelay
001ADC EC?? F???      01642          call       sdelay
001AE0 EC?? F???      01643          call       sdelay
001AE4 EC?? F???      01644          call       sdelay
001AE8 EC?? F???      01645          call       sdelay
001AEC EC?? F???      01646          call       sdelay
001AF0 808B           01647          bsf        LATC, 0
001AF2 EC?? F???      01648          call       test50100
001AF6 EC?? F???      01649          call       sdelay
001AFA EC?? F???      01650          call       sdelay
001AFE EC?? F???      01651          call       sdelay
001B02 EC?? F???      01652          call       sdelay
001B06 EC?? F???      01653          call       sdelay
001B0A EC?? F???      01654          call       sdelay
001B0E EF?? F???      01655          goto       DirectionC
                      01656         ; goto      swait
                      01657          
                      01658 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ULTRASONIC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      01659 
001B12                01660 armUS
001B12 8E94           01661         bsf         TRISC, 7
001B14 9294           01662         bcf         TRISC, 1
001B16 928B           01663         bcf         LATC, 1
                      01664         write       Ready
  0000                    M         local   loop_
001B18 0E??               M         movlw   upper Ready
001B1A 6EF8               M         movwf   TBLPTRU
001B1C 0E??               M         movlw   high Ready
001B1E 6EF7               M         movwf   TBLPTRH
001B20 0E??               M         movlw   low Ready
001B22 6EF6               M         movwf   TBLPTRL
001B24 0008               M         tblrd*
001B26 50F5               M         movf     TABLAT, W
Warning[207]: Found label after column 1. (loop_)
001B28                    M         loop_   
001B28 EC?? F???          M         call     WrtLCD
001B2C 000B               M         tblrd+*
001B2E 50F5               M         movf     TABLAT, W
001B30 E1??               M         bnz     loop_
001B32                01665 aloopUS
001B32 EC?? F???      01666         call        tdelay
001B36 6B8B           01667         clrf        time
001B38 828B           01668         bsf         LATC, 1
001B3A 91B9           01669         bcf         USOF, 0
001B3C 0E03           01670         movlw       d'3'
001B3E                01671 apause
001B3E 2EE8           01672         decfsz      WREG, f
001B40 EF?? F???      01673         goto        apause
001B44 928B           01674         bcf         LATC, 1
001B46 BE82           01675 aw1      btfsc      PORTC, 7
001B48 EF?? F???      01676          goto       aw2
001B4C EF?? F???      01677          goto       aw1
001B50 AE82           01678 aw2      btfss      PORTC, 7
001B52 EF?? F???      01679          goto       aendUS
001B56 EC?? F???      01680          call       check_sense
001B5A 2B8B           01681          incf       time
001B5C 0EFF           01682          movlw      d'255'
001B5E 638B           01683          cpfseq     time
001B60 EF?? F???      01684          goto       aw2
001B64 81B9           01685          bsf        USOF, 0
001B66 EF?? F???      01686          goto       aendUS
001B6A                01687 aendUS
001B6A B1B9           01688          btfsc      USOF, 0
001B6C EF?? F???      01689          goto       aloopUS
                      01690          sepdig     time
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                    M         local      loop3
  0000                    M         local      loop2
  0000                    M         local      loop1
  0000                    M         local      fin
001B70 0E00               M         movlw      b'0'
001B72 6F82               M         movwf      dig12
001B74 6E7C               M         movwf      dig2
001B76 6E7D               M         movwf      dig3
                          M         
001B78 518B               M         movf       time, W
001B7A 6F86               M         movwf      tot
001B7C 0E63               M loop3   movlw      d'99'
001B7E 6586               M         cpfsgt     tot
001B80 EF?? F???          M         goto       loop2
001B84 2B82               M         incf       dig12
001B86 5F86               M         subwf      tot, f
001B88 0786               M         decf       tot, f
001B8A EF?? F???          M         goto       loop3
001B8E 0E09               M loop2   movlw      d'9'
001B90 6586               M         cpfsgt     tot
001B92 EF?? F???          M         goto       loop1
001B96 2A7C               M         incf       dig2
001B98 5F86               M         subwf      tot, f
001B9A 0786               M         decf       tot, f
001B9C EF?? F???          M         goto       loop2
001BA0 0E00               M loop1   movlw      d'0'
001BA2 6586               M         cpfsgt     tot
001BA4 EF?? F???          M         goto       fin
001BA8 2A7D               M         incf       dig3
001BAA 5F86               M         subwf      tot, f
001BAC 0786               M         decf       tot, f
001BAE EF?? F???          M         goto       loop1
001BB2                    M fin     
001BB2 EC?? F???      01691          call       ClrLCD
001BB6 EC?? F???      01692          call       WrtNum
001BBA 0E14           01693          movlw      d'20'
001BBC 658B           01694          cpfsgt     time
001BBE 0012           01695          return
001BC0 EC?? F???      01696          call       sdelay
001BC4 EF?? F???      01697          goto       aloopUS
001BC8                01698 US_module
001BC8 6A94           01699         clrf        TRISC
001BCA 0E07           01700         movlw       b'0111'
001BCC 6E96           01701         movwf       TRISE
001BCE 9A92           01702         bcf         TRISA, 5
                      01703 ;        call       tdelay
001BD0                01704 loopUS  
001BD0 9284           01705          bcf        PORTE, 1
001BD2 91B9           01706          bcf        USOF, 0
001BD4 EC?? F???      01707          call      tdelay
001BD8 0E00           01708          movlw      d'0'
001BDA 6F8B           01709          movwf      time
001BDC 8A89           01710          bsf        LATA, 5
001BDE 0E03           01711          movlw      d'3'
001BE0 2EE8           01712 pause    decfsz     WREG, f
001BE2 EF?? F???      01713          goto       pause
001BE6 9A89           01714          bcf        LATA, 5
001BE8 B284           01715 w1       btfsc      PORTE, 1
001BEA EF?? F???      01716          goto       w2
001BEE EF?? F???      01717          goto       w1
001BF2 A284           01718 w2       btfss      PORTE, 1
001BF4 EF?? F???      01719          goto       endUS
001BF8 9A8B           01720          bcf        LATC, 5      
001BFA EC?? F???      01721          call       check_sense
001BFE 2B8B           01722          incf       time
001C00 0EFF           01723          movlw      d'255'
001C02 638B           01724          cpfseq     time
001C04 EF?? F???      01725          goto       w2
001C08 81B9           01726          bsf        USOF, 0
001C0A EF?? F???      01727          goto       endUS
001C0E B1B9           01728 endUS    btfsc      USOF, 0
001C10 EF?? F???      01729          goto       loopUS1
                      01730         ; sepdig            time
                      01731         ; call      ClrLCD
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01732         ; call      WrtNum
001C14 0E1E           01733          movlw      d'30'
001C16 658B           01734          cpfsgt     time
001C18 EF?? F???      01735          goto       arm_drive
001C1C 0012           01736          return
                      01737          ;bsf       LATC, 5
                      01738         ; call       barrel_detected
                      01739         ; movlw     d'30'
                      01740          ;cpfslt            time
                      01741          ;bcf       bt, 0
                      01742         ; call      sdelay
                      01743         ; goto      loopUS
                      01744 
001C1E 9084           01745 loopUS1  bcf        PORTE, 0
001C20 93B9           01746          bcf        USOF, 1
001C22 EC?? F???      01747          call      tdelay
001C26 0E00           01748          movlw      d'0'
001C28 6F8B           01749          movwf      time
001C2A 8A89           01750          bsf        LATA, 5
001C2C 0E03           01751          movlw      d'3'
001C2E 2EE8           01752 pause1   decfsz     WREG, f
001C30 EF?? F???      01753          goto       pause1
001C34 9A89           01754          bcf        LATA, 5
001C36 B084           01755 w11      btfsc      PORTE, 0
001C38 EF?? F???      01756          goto       w21
001C3C EF?? F???      01757          goto       w11
001C40 A084           01758 w21      btfss      PORTE, 0
001C42 EF?? F???      01759          goto       endUS1
001C46 988B           01760          bcf        LATC, 4      
001C48 EC?? F???      01761          call       check_sense
001C4C 2B8B           01762          incf       time
001C4E 0EFF           01763          movlw      d'255'
001C50 638B           01764          cpfseq     time
001C52 EF?? F???      01765          goto       w21
001C56 83B9           01766          bsf        USOF, 1
001C58 EF?? F???      01767          goto       endUS1
001C5C B3B9           01768 endUS1   btfsc      USOF, 1
001C5E EF?? F???      01769          goto       loopUS
                      01770         ; sepdig            time
                      01771         ; call      ClrLCD
                      01772         ; call      WrtNum
001C62 0E1E           01773          movlw      d'30'
001C64 658B           01774          cpfsgt     time
                      01775          ;bsf       LATC, 4
001C66 EC?? F???      01776          call       barrel_detected
001C6A 0E1E           01777          movlw      d'30'
001C6C 618B           01778          cpfslt     time
001C6E 91A2           01779          bcf        bt, 0
001C70 0012           01780          return
                      01781         ; call      tdelay
                      01782         
001C72 9484           01783 loopUS2  bcf        PORTE, 2
001C74 95B9           01784          bcf        USOF, 2
001C76 EC?? F???      01785          call      tdelay
001C7A 0E00           01786          movlw      d'0'
001C7C 6F8B           01787          movwf      time
001C7E 8A89           01788          bsf        LATA, 5
001C80 0E03           01789          movlw      d'3'
001C82 2EE8           01790 pause2   decfsz     WREG, f
001C84 EF?? F???      01791          goto       pause2
001C88 9A89           01792          bcf        LATA, 5
001C8A B484           01793 w12      btfsc      PORTE, 2
001C8C EF?? F???      01794          goto       w22
001C90 EF?? F???      01795          goto       w12
001C94 A484           01796 w22      btfss      PORTE, 2
001C96 EF?? F???      01797          goto       endUS2
001C9A 9E8B           01798          bcf        LATC, 7      
001C9C EC?? F???      01799          call       check_sense
001CA0 2B8B           01800          incf       time
001CA2 0EFF           01801          movlw      d'255'
001CA4 638B           01802          cpfseq     time
001CA6 EF?? F???      01803          goto       w22
001CAA 85B9           01804          bsf        USOF, 2
001CAC EF?? F???      01805          goto       endUS2
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001CB0 B5B9           01806 endUS2   btfsc      USOF, 2
001CB2 EF?? F???      01807          goto       loopUS
                      01808         ; sepdig            time
                      01809         ; call      ClrLCD
                      01810         ; call      WrtNum
001CB6 0E1E           01811          movlw      d'30'
001CB8 9E8B           01812          bcf        LATC, 7
                      01813          
001CBA 658B           01814          cpfsgt     time
                      01815          ;bsf       LATC, 7
001CBC EF?? F???      01816          goto       tallHandle
001CC0 EF?? F???      01817          goto       shortHandle
                      01818         ; call       barrel_detected
001CC4 0E1E           01819          movlw      d'30'
001CC6 618B           01820          cpfslt     time
                      01821          
                      01822          ;bcf       bt, 0
001CC8 EF?? F???      01823          goto       loopUS
                      01824         
                      01825         
001CCC EF?? F???      01826 wait      goto     wait
                      01827 
001CD0                01828 check_sense     
001CD0 0E12           01829         movlw   d'18'
001CD2 6F8D           01830         movwf   sensitivity
001CD4                01831 senseloop
001CD4 2F8D           01832         decfsz  sensitivity, f
001CD6 EF?? F???      01833         goto    senseloop
001CDA 0012           01834         return
                      01835         
001CDC                01836 enchandle
001CDC B2F2           01837         btfsc   INTCON, 1
001CDE EC?? F???      01838         call    rhandle
001CE2 B2F0           01839         btfsc   INTCON3, 1
001CE4 EC?? F???      01840         call    lhandle
001CE8 0012           01841         return
001CEA                01842 rhandle
001CEA 92F2           01843         bcf     INTCON, 1
001CEC 2BA3           01844         incf    rightE
001CEE 2BA3           01845         incf    rightE
001CF0 2BA3           01846         incf    rightE
001CF2 A1BA           01847         btfss   boolENC, 0
001CF4 EF?? F???      01848         goto    encextra
001CF8 91BA           01849         bcf     boolENC, 0
001CFA                01850 encend  
001CFA 0012           01851         return
001CFC                01852 encextra
001CFC 2BA3           01853         incf    rightE
001CFE 81BA           01854         bsf     boolENC, 0
001D00 EF?? F???      01855         goto    encend
                      01856         
001D04                01857 lhandle 
001D04 92F0           01858         bcf     INTCON3, 1
001D06 2BA4           01859         incf    leftE
001D08 2BA4           01860         incf    leftE
001D0A 2BA4           01861         incf    leftE
001D0C 0012           01862         return
001D0E 0E14           01863 sdelay  movlw   d'20'
001D10 6E7F           01864         movwf   lcd_sd
001D12                01865 sloop
001D12 EC?? F???      01866         call    tdelay
001D16 2E7F           01867         decfsz  lcd_sd
001D18 EF?? F???      01868         goto    sloop
001D1C 0012           01869         return
                      01870          
001D1E                01871 tdelay
001D1E 0EFF           01872         movlw   d'255'
001D20 6E7E           01873         movwf   lcd_td
Warning[207]: Found label after column 1. (tloop)
001D22                01874  tloop      
001D22 EC?? F???      01875         call    lcdLongDelay
001D26 2E7E           01876         decfsz  lcd_td
001D28 EF?? F???      01877         goto    tloop
001D2C 0012           01878     return
MPASM 5.65                        LCDATA.ASM   3-21-2016  10:36:54         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001D2E                01879 lcdLongDelay
001D2E 0E50           01880     movlw d'80'
001D30 6F81           01881     movwf lcd_d2
001D32                01882 LLD_LOOP
Warning[207]: Found label after column 1. (LCD_DELAY)
001D32                01883     LCD_DELAY
001D32 2F81           01884     decfsz lcd_d2,f
001D34 EF?? F???      01885     goto LLD_LOOP
001D38 0012           01886     return
001D3A 90D8           01887 WrtNum2     bcf     STATUS,C
001D3C 507D           01888             movf    dig3, W
001D3E 267D           01889             addwf   dig3
                      01890            ; carry   dig3           
                      01891            ; bcf            STATUS,C
001D40 507C           01892             movf    dig2, W
001D42 227C           01893             addwfc  dig2
                      01894            ; carry   dig2
001D44 5182           01895             movf    dig12, W
001D46 2382           01896             addwfc  dig12    
001D48 EC?? F???      01897             call    wdig1
001D4C EC?? F???      01898             call    WrtLCD
001D50 EC?? F???      01899             call    wdig2
001D54 EC?? F???      01900             call    WrtLCD
001D58 EC?? F???      01901             call    wdig3
001D5C EC?? F???      01902             call    WrtLCD
001D60 0012           01903             return
                      01904             
001D62                01905 WrtNum       
001D62 EC?? F???      01906             call  wdig1
001D66 EC?? F???      01907             call    WrtLCD
001D6A EC?? F???      01908             call    wdig2
001D6E EC?? F???      01909             call    WrtLCD
001D72 EC?? F???      01910             call    wdig3
001D76 EC?? F???      01911             call    WrtLCD
001D7A 0012           01912             return
                      01913         
Warning[205]: Found directive in column 1. (END)
                      01914 END      

Errors   :     0
Warnings :   108 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

